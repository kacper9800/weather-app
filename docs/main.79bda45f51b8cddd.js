"use strict";var YL=Object.defineProperty,qL=Object.defineProperties,KL=Object.getOwnPropertyDescriptors,kx=Object.getOwnPropertySymbols,ZL=Object.prototype.hasOwnProperty,QL=Object.prototype.propertyIsEnumerable,xx=(We,ve,P)=>ve in We?YL(We,ve,{enumerable:!0,configurable:!0,writable:!0,value:P}):We[ve]=P,Rx=(We,ve)=>{for(var P in ve||(ve={}))ZL.call(ve,P)&&xx(We,P,ve[P]);if(kx)for(var P of kx(ve))QL.call(ve,P)&&xx(We,P,ve[P]);return We},Ox=(We,ve)=>qL(We,KL(ve));(self.webpackChunkmeteo_frontend=self.webpackChunkmeteo_frontend||[]).push([[179],{2011:(We,ve,P)=>{P.d(ve,{Dh:()=>de,GT:()=>pe,cc:()=>Ae,hO:()=>Ue,on:()=>$,pX:()=>oe,xv:()=>fe});var c=P(5e3),te=P(127),F=P(5813);We=P.hmd(We);const ue=["ngOnDestroy"],oe=(Me,Ge,Ye,Ie={})=>new Proxy(Me,{get:(De,Ee)=>Ye.runOutsideAngular(()=>{var Ne;if(Me[Ee])return(null===(Ne=null==Ie?void 0:Ie.spy)||void 0===Ne?void 0:Ne.get)&&Ie.spy.get(Ee,Me[Ee]),Me[Ee];if(ue.indexOf(Ee)>-1)return()=>{};const Ve=Ge.toPromise().then(z=>{const be=z&&z[Ee];return"function"==typeof be?be.bind(z):be&&be.then?be.then(Y=>Ye.run(()=>Y)):Ye.run(()=>be)});return new Proxy(()=>{},{get:(z,be)=>Ve[be],apply:(z,be,Y)=>Ve.then(ae=>{var ie;const _e=ae&&ae(...Y);return(null===(ie=null==Ie?void 0:Ie.spy)||void 0===ie?void 0:ie.apply)&&Ie.spy.apply(Ee,Y,_e),_e})})})}),pe=(Me,Ge)=>{Ge.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Ie=>{Object.defineProperty(Me.prototype,Ie,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Ie))})})};class ne{constructor(Ge){return Ge}}const de=new c.OlP("angularfire2.app.options"),fe=new c.OlP("angularfire2.app.name");function $(Me,Ge,Ye){const De="object"==typeof Ye&&Ye||{};De.name=De.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const Ne=te.Z.apps.filter(Ve=>Ve&&Ve.name===De.name)[0]||Ge.runOutsideAngular(()=>te.Z.initializeApp(Me,De));try{JSON.stringify(Me)!==JSON.stringify(Ne.options)&&G("error",`${Ne.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new ne(Ne)}const G=(Me,...Ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Me](...Ge)},re={provide:ne,useFactory:$,deps:[de,c.R0b,[new c.FiY,fe]]};let Ue=(()=>{class Me{constructor(Ye){te.Z.registerVersion("angularfire",F.q4.full,"core"),te.Z.registerVersion("angularfire",F.q4.full,"app-compat"),te.Z.registerVersion("angular",c.q4F.full,Ye.toString())}static initializeApp(Ye,Ie){return{ngModule:Me,providers:[{provide:de,useValue:Ye},{provide:fe,useValue:Ie}]}}}return Me.\u0275fac=function(Ye){return new(Ye||Me)(c.LFG(c.Lbi))},Me.\u0275mod=c.oAB({type:Me}),Me.\u0275inj=c.cJS({providers:[re]}),Me})();function Ae(Me,Ge,Ye,Ie,De){const[,Ee,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Me)||[];if(Ee)return function ke(Me,Ge){try{return Me.toString()===Ge.toString()}catch(Ye){return Me===Ge}}(De,Ne)||(me("error",`${Ge} was already initialized on the ${Ye} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:De,was:Ne})),Ee;{const Ve=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Me,Ve,De]),Ve}}const Le=!!We.hot,me=(Me,...Ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Me](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(We,ve,P)=>{P.d(ve,{q4:()=>Mr,iC:()=>dd,HU:()=>Jc,vb:()=>qp,JM:()=>Eo});var c=P(5e3),te=P(5867),F=P(5861),ue=P(9681),oe=P(2090),pe=P(4859),ne=P(1877),de=P(8766);const fe="@firebase/installations",$="0.5.11",re=`w:${$}`,Ue="FIS_v2",Ge=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(w){return w instanceof oe.ZR&&w.code.includes("request-failed")}function Ie({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function De(w){return{token:w.token,requestStatus:2,expiresIn:ae(w.expiresIn),creationTime:Date.now()}}function Ee(w,M){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,F.Z)(function*(w,M){const V=(yield M.json()).error;return Ge.create("request-failed",{requestName:w,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ve({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function z(w,{refreshToken:M}){const x=Ve(w);return x.append("Authorization",function ie(w){return`${Ue} ${w}`}(M)),x}function be(w){return Y.apply(this,arguments)}function Y(){return(Y=(0,F.Z)(function*(w){const M=yield w();return M.status>=500&&M.status<600?w():M})).apply(this,arguments)}function ae(w){return Number(w.replace("s","000"))}function _e(w,M){return ce.apply(this,arguments)}function ce(){return(ce=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:M},{fid:x}){const V=Ie(w),K=Ve(w),le=M.getImmediate({optional:!0});if(le){const pt=yield le.getHeartbeatsHeader();pt&&K.append("x-firebase-client",pt)}const je={method:"POST",headers:K,body:JSON.stringify({fid:x,authVersion:Ue,appId:w.appId,sdkVersion:re})},Ke=yield be(()=>fetch(V,je));if(Ke.ok){const pt=yield Ke.json();return{fid:pt.fid||x,registrationStatus:2,refreshToken:pt.refreshToken,authToken:De(pt.authToken)}}throw yield Ee("Create Installation",Ke)})).apply(this,arguments)}function xe(w){return new Promise(M=>{setTimeout(M,w)})}const kt=/^[cdef][\w-]{21}$/;function $e(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const x=function jt(w){return function tt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return kt.test(x)?x:""}catch(w){return""}}function hn(w){return`${w.appName}!${w.appId}`}const zt=new Map;function Lt(w,M){const x=hn(w);Mt(x,M),function Ji(w,M){const x=function qn(){return!Mi&&"BroadcastChannel"in self&&(Mi=new BroadcastChannel("[Firebase] FID Change"),Mi.onmessage=w=>{Mt(w.data.key,w.data.fid)}),Mi}();x&&x.postMessage({key:w,fid:M}),function ai(){0===zt.size&&Mi&&(Mi.close(),Mi=null)}()}(x,M)}function Mt(w,M){const x=zt.get(w);if(x)for(const V of x)V(M)}let Mi=null;const fi="firebase-installations-store";let ji=null;function ot(){return ji||(ji=(0,de.X3)("firebase-installations-database",1,{upgrade:(w,M)=>{0===M&&w.createObjectStore(fi)}})),ji}function Ii(w,M){return on.apply(this,arguments)}function on(){return(on=(0,F.Z)(function*(w,M){const x=hn(w),K=(yield ot()).transaction(fi,"readwrite"),le=K.objectStore(fi),Ce=yield le.get(x);return yield le.put(M,x),yield K.done,(!Ce||Ce.fid!==M.fid)&&Lt(w,M.fid),M})).apply(this,arguments)}function fn(w){return $r.apply(this,arguments)}function $r(){return($r=(0,F.Z)(function*(w){const M=hn(w),V=(yield ot()).transaction(fi,"readwrite");yield V.objectStore(fi).delete(M),yield V.done})).apply(this,arguments)}function pi(w,M){return xn.apply(this,arguments)}function xn(){return(xn=(0,F.Z)(function*(w,M){const x=hn(w),K=(yield ot()).transaction(fi,"readwrite"),le=K.objectStore(fi),Ce=yield le.get(x),je=M(Ce);return void 0===je?yield le.delete(x):yield le.put(je,x),yield K.done,je&&(!Ce||Ce.fid!==je.fid)&&Lt(w,je.fid),je})).apply(this,arguments)}function pn(w){return Si.apply(this,arguments)}function Si(){return(Si=(0,F.Z)(function*(w){let M;const x=yield pi(w.appConfig,V=>{const K=ys(V),le=xt(w,K);return M=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield M}:{installationEntry:x,registrationPromise:M}})).apply(this,arguments)}function ys(w){return Wr(w||{fid:$e(),registrationStatus:0})}function xt(w,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Ge.create("app-offline"))};const x={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},V=function Qe(w,M){return ct.apply(this,arguments)}(w,x);return{installationEntry:x,registrationPromise:V}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Kn(w)}:{installationEntry:M}}function ct(){return(ct=(0,F.Z)(function*(w,M){try{const x=yield _e(w,M);return Ii(w.appConfig,x)}catch(x){throw Ye(x)&&409===x.customData.serverCode?yield fn(w.appConfig):yield Ii(w.appConfig,{fid:M.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Kn(w){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,F.Z)(function*(w){let M=yield St(w.appConfig);for(;1===M.registrationStatus;)yield xe(100),M=yield St(w.appConfig);if(0===M.registrationStatus){const{installationEntry:x,registrationPromise:V}=yield pn(w);return V||x}return M})).apply(this,arguments)}function St(w){return pi(w,M=>{if(!M)throw Ge.create("installation-not-found");return Wr(M)})}function Wr(w){return function li(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Zn(w,M){return nt.apply(this,arguments)}function nt(){return(nt=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:M},x){const V=q(w,x),K=z(w,x),le=M.getImmediate({optional:!0});if(le){const pt=yield le.getHeartbeatsHeader();pt&&K.append("x-firebase-client",pt)}const je={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:re,appId:w.appId}})},Ke=yield be(()=>fetch(V,je));if(Ke.ok)return De(yield Ke.json());throw yield Ee("Generate Auth Token",Ke)})).apply(this,arguments)}function q(w,{fid:M}){return`${Ie(w)}/${M}/authTokens:generate`}function H(w){return J.apply(this,arguments)}function J(){return(J=(0,F.Z)(function*(w,M=!1){let x;const V=yield pi(w.appConfig,le=>{if(!ft(le))throw Ge.create("not-registered");const Ce=le.authToken;if(!M&&Vt(Ce))return le;if(1===Ce.requestStatus)return x=X(w,M),le;{if(!navigator.onLine)throw Ge.create("app-offline");const je=Dt(le);return x=Fe(w,je),je}});return x?yield x:V.authToken})).apply(this,arguments)}function X(w,M){return B.apply(this,arguments)}function B(){return(B=(0,F.Z)(function*(w,M){let x=yield ye(w.appConfig);for(;1===x.authToken.requestStatus;)yield xe(100),x=yield ye(w.appConfig);const V=x.authToken;return 0===V.requestStatus?H(w,M):V})).apply(this,arguments)}function ye(w){return pi(w,M=>{if(!ft(M))throw Ge.create("not-registered");return function vn(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Fe(w,M){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(w,M){try{const x=yield Zn(w,M),V=Object.assign(Object.assign({},M),{authToken:x});return yield Ii(w.appConfig,V),x}catch(x){if(!Ye(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const V=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Ii(w.appConfig,V)}else yield fn(w.appConfig);throw x}})).apply(this,arguments)}function ft(w){return void 0!==w&&2===w.registrationStatus}function Vt(w){return 2===w.requestStatus&&!function $t(w){const M=Date.now();return M<w.creationTime||w.creationTime+w.expiresIn<M+36e5}(w)}function Dt(w){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:M})}function bs(){return(bs=(0,F.Z)(function*(w){const M=w,{installationEntry:x,registrationPromise:V}=yield pn(M);return V?V.catch(console.error):H(M).catch(console.error),x.fid})).apply(this,arguments)}function $o(){return($o=(0,F.Z)(function*(w,M=!1){const x=w;return yield wn(x),(yield H(x,M)).token})).apply(this,arguments)}function wn(w){return ci.apply(this,arguments)}function ci(){return(ci=(0,F.Z)(function*(w){const{registrationPromise:M}=yield pn(w);M&&(yield M)})).apply(this,arguments)}function lo(w){return Ge.create("missing-app-config-values",{valueName:w})}const gi="installations",Je=w=>{const M=w.getProvider("app").getImmediate(),x=function Hn(w){if(!w||!w.options)throw lo("App Configuration");if(!w.name)throw lo("App Name");const M=["projectId","apiKey","appId"];for(const x of M)if(!w.options[x])throw lo(x);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(M);return{app:M,appConfig:x,heartbeatServiceProvider:(0,ue._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=w=>{const M=w.getProvider("app").getImmediate(),x=(0,ue._getProvider)(M,gi).getImmediate();return{getId:()=>function vs(w){return bs.apply(this,arguments)}(x),getToken:K=>function xa(w){return $o.apply(this,arguments)}(x,K)}};(function _i(){(0,ue._registerComponent)(new pe.wA(gi,Je,"PUBLIC")),(0,ue._registerComponent)(new pe.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ue.registerVersion)(fe,$),(0,ue.registerVersion)(fe,$,"esm2017");const tr="@firebase/remote-config",mn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Uh{constructor(M,x,V,K){this.client=M,this.storage=x,this.storageCache=V,this.logger=K}isCachedDataFresh(M,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-x,K=V<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${K}.`),K}fetch(M){var x=this;return(0,F.Z)(function*(){const[V,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(M.cacheMaxAgeMillis,V))return K;M.eTag=K&&K.eTag;const le=yield x.client.fetch(M),Ce=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ce.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ce),le})()}}function kc(w=navigator){return w.languages&&w.languages[0]||w.language}class Qn{constructor(M,x,V,K,le,Ce){this.firebaseInstallations=M,this.sdkVersion=x,this.namespace=V,this.projectId=K,this.apiKey=le,this.appId=Ce}fetch(M){var x=this;return(0,F.Z)(function*(){var V,K,le;const[Ce,je]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},rt={sdk_version:x.sdkVersion,app_instance_id:Ce,app_instance_id_token:je,app_id:x.appId,language_code:kc()},un={method:"POST",headers:yt,body:JSON.stringify(rt)},Ci=fetch(pt,un),Ao=new Promise((zs,$s)=>{M.signal.addEventListener(()=>{const nl=new Error("The operation was aborted.");nl.name="AbortError",$s(nl)})});let Gs;try{yield Promise.race([Ci,Ao]),Gs=yield Ci}catch(zs){let $s="fetch-client-network";throw"AbortError"===(null===(V=zs)||void 0===V?void 0:V.name)&&($s="fetch-timeout"),mn.create($s,{originalErrorMessage:null===(K=zs)||void 0===K?void 0:K.message})}let fr=Gs.status;const kr=Gs.headers.get("ETag")||void 0;let ca,cs;if(200===Gs.status){let zs;try{zs=yield Gs.json()}catch($s){throw mn.create("fetch-client-parse",{originalErrorMessage:null===(le=$s)||void 0===le?void 0:le.message})}ca=zs.entries,cs=zs.state}if("INSTANCE_STATE_UNSPECIFIED"===cs?fr=500:"NO_CHANGE"===cs?fr=304:("NO_TEMPLATE"===cs||"EMPTY_CONFIG"===cs)&&(ca={}),304!==fr&&200!==fr)throw mn.create("fetch-status",{httpStatus:fr});return{status:fr,eTag:kr,config:ca}})()}}class Gh{constructor(M,x){this.client=M,this.storage=x}fetch(M){var x=this;return(0,F.Z)(function*(){const V=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(M,V)})()}attemptFetch(M,{throttleEndTimeMillis:x,backoffCount:V}){var K=this;return(0,F.Z)(function*(){yield function Qr(w,M){return new Promise((x,V)=>{const K=Math.max(M-Date.now(),0),le=setTimeout(x,K);w.addEventListener(()=>{clearTimeout(le),V(mn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,x);try{const le=yield K.client.fetch(M);return yield K.storage.deleteThrottleMetadata(),le}catch(le){if(!function xc(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const M=Number(w.customData.httpStatus);return 429===M||500===M||503===M||504===M}(le))throw le;const Ce={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(Ce),K.attemptFetch(M,Ce)}})()}}class Rc{constructor(M,x,V,K,le){this.app=M,this._client=x,this._storageCache=V,this._storage=K,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Al(w,M){var x;const V=w.target.error||void 0;return mn.create(M,{originalErrorMessage:V&&(null===(x=V)||void 0===x?void 0:x.message)})}const Xr="app_namespace_store";class Yh{constructor(M,x,V,K=function Wh(){return new Promise((w,M)=>{var x;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=K=>{M(Al(K,"storage-open"))},V.onsuccess=K=>{w(K.target.result)},V.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(Xr,{keyPath:"compositeKey"})}}catch(V){M(mn.create("storage-open",{originalErrorMessage:null===(x=V)||void 0===x?void 0:x.message}))}})}()){this.appId=M,this.appName=x,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var x=this;return(0,F.Z)(function*(){const V=yield x.openDbPromise;return new Promise((K,le)=>{var Ce;const Ke=V.transaction([Xr],"readonly").objectStore(Xr),pt=x.createCompositeKey(M);try{const yt=Ke.get(pt);yt.onerror=rt=>{le(Al(rt,"storage-get"))},yt.onsuccess=rt=>{const un=rt.target.result;K(un?un.value:void 0)}}catch(yt){le(mn.create("storage-get",{originalErrorMessage:null===(Ce=yt)||void 0===Ce?void 0:Ce.message}))}})})()}set(M,x){var V=this;return(0,F.Z)(function*(){const K=yield V.openDbPromise;return new Promise((le,Ce)=>{var je;const pt=K.transaction([Xr],"readwrite").objectStore(Xr),yt=V.createCompositeKey(M);try{const rt=pt.put({compositeKey:yt,value:x});rt.onerror=un=>{Ce(Al(un,"storage-set"))},rt.onsuccess=()=>{le()}}catch(rt){Ce(mn.create("storage-set",{originalErrorMessage:null===(je=rt)||void 0===je?void 0:je.message}))}})})()}delete(M){var x=this;return(0,F.Z)(function*(){const V=yield x.openDbPromise;return new Promise((K,le)=>{var Ce;const Ke=V.transaction([Xr],"readwrite").objectStore(Xr),pt=x.createCompositeKey(M);try{const yt=Ke.delete(pt);yt.onerror=rt=>{le(Al(rt,"storage-delete"))},yt.onsuccess=()=>{K()}}catch(yt){le(mn.create("storage-delete",{originalErrorMessage:null===(Ce=yt)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Pc{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,F.Z)(function*(){const x=M.storage.getLastFetchStatus(),V=M.storage.getLastSuccessfulFetchTimestampMillis(),K=M.storage.getActiveConfig(),le=yield x;le&&(M.lastFetchStatus=le);const Ce=yield V;Ce&&(M.lastSuccessfulFetchTimestampMillis=Ce);const je=yield K;je&&(M.activeConfig=je)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Na(){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,F.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(w){return!1}})).apply(this,arguments)}!function uo(){(0,ue._registerComponent)(new pe.wA("remote-config",function w(M,{instanceIdentifier:x}){const V=M.getProvider("app").getImmediate(),K=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mn.create("registration-window");if(!(0,oe.hl)())throw mn.create("indexed-db-unavailable");const{projectId:le,apiKey:Ce,appId:je}=V.options;if(!le)throw mn.create("registration-project-id");if(!Ce)throw mn.create("registration-api-key");if(!je)throw mn.create("registration-app-id");const Ke=new Yh(je,V.name,x=x||"firebase"),pt=new Pc(Ke),yt=new ne.Yd(tr);yt.logLevel=ne.in.ERROR;const rt=new Qn(K,ue.SDK_VERSION,x,le,Ce,je),un=new Gh(rt,Ke),Ci=new Uh(un,Ke,pt,yt),Ao=new Rc(V,Ci,pt,Ke,yt);return function Zt(w){const M=(0,oe.m9)(w);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Ao),Ao},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(tr,"0.3.10"),(0,ue.registerVersion)(tr,"0.3.10","esm2017")}();const Nc="/firebase-messaging-sw.js",Xn="/firebase-cloud-messaging-push-scope",ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ho="google.c.a.c_id",Lc="google.c.a.c_l",id="google.c.a.ts",Jr="google.c.a.e";var fo=(()=>{return(w=fo||(fo={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",fo;var w})();function ui(w){const M=new Uint8Array(w);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vc(w){const x=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(x),K=new Uint8Array(V.length);for(let le=0;le<V.length;++le)K[le]=V.charCodeAt(le);return K}const Jn="fcm_token_details_db",Ti="fcm_token_object_Store";function Tl(w){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,F.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Jn))return null;let M=null;return(yield(0,de.X3)(Jn,5,{upgrade:(V=(0,F.Z)(function*(K,le,Ce,je){var Ke;if(le<2||!K.objectStoreNames.contains(Ti))return;const pt=je.objectStore(Ti),yt=yield pt.index("fcmSenderId").get(w);if(yield pt.clear(),yt)if(2===le){const rt=yt;if(!rt.auth||!rt.p256dh||!rt.endpoint)return;M={token:rt.fcmToken,createTime:null!==(Ke=rt.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:rt.auth,p256dh:rt.p256dh,endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:"string"==typeof rt.vapidKey?rt.vapidKey:ui(rt.vapidKey)}}}else if(3===le){const rt=yt;M={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:ui(rt.auth),p256dh:ui(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:ui(rt.vapidKey)}}}else if(4===le){const rt=yt;M={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:ui(rt.auth),p256dh:ui(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:ui(rt.vapidKey)}}}}),function(le,Ce,je,Ke){return V.apply(this,arguments)})})).close(),yield(0,de.Lj)(Jn),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Hc(M)?M:null;var V}),Bc.apply(this,arguments)}function Hc(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:M}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const ar="firebase-messaging-store";let rd=null;function Yt(){return rd||(rd=(0,de.X3)("firebase-messaging-database",1,{upgrade:(w,M)=>{0===M&&w.createObjectStore(ar)}})),rd}function Qo(w){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*(w){const M=Un(w),V=yield(yield Yt()).transaction(ar).objectStore(ar).get(M);if(V)return V;{const K=yield Tl(w.appConfig.senderId);if(K)return yield Bt(w,K),K}})).apply(this,arguments)}function Bt(w,M){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,F.Z)(function*(w,M){const x=Un(w),K=(yield Yt()).transaction(ar,"readwrite");return yield K.objectStore(ar).put(M,x),yield K.done,M})).apply(this,arguments)}function La(w){return es.apply(this,arguments)}function es(){return(es=(0,F.Z)(function*(w){const M=Un(w),V=(yield Yt()).transaction(ar,"readwrite");yield V.objectStore(ar).delete(M),yield V.done})).apply(this,arguments)}function Un({appConfig:w}){return w.appId}const nn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lr(w,M){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,F.Z)(function*(w,M){var x;const V=yield po(w),K=ts(M),le={method:"POST",headers:V,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(cr(w.appConfig),le)).json()}catch(je){throw nn.create("token-subscribe-failed",{errorInfo:null===(x=je)||void 0===x?void 0:x.toString()})}if(Ce.error)throw nn.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw nn.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Is(w,M){return br.apply(this,arguments)}function br(){return(br=(0,F.Z)(function*(w,M){var x;const V=yield po(w),K=ts(M.subscriptionOptions),le={method:"PATCH",headers:V,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(`${cr(w.appConfig)}/${M.token}`,le)).json()}catch(je){throw nn.create("token-update-failed",{errorInfo:null===(x=je)||void 0===x?void 0:x.toString()})}if(Ce.error)throw nn.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw nn.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function Jo(w,M){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,F.Z)(function*(w,M){var x;const K={method:"DELETE",headers:yield po(w)};try{const Ce=yield(yield fetch(`${cr(w.appConfig)}/${M}`,K)).json();if(Ce.error)throw nn.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(le){throw nn.create("token-unsubscribe-failed",{errorInfo:null===(x=le)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function cr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function po(w){return at.apply(this,arguments)}function at(){return(at=(0,F.Z)(function*({appConfig:w,installations:M}){const x=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ts({p256dh:w,auth:M,endpoint:x,vapidKey:V}){const K={web:{endpoint:x,auth:M,p256dh:w}};return V!==ws&&(K.web.applicationPubKey=V),K}const Rl=6048e5;function ea(w){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,F.Z)(function*(w){const M=yield Ss(w.swRegistration,w.vapidKey),x={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:M.endpoint,auth:ui(M.getKey("auth")),p256dh:ui(M.getKey("p256dh"))},V=yield Qo(w.firebaseDependencies);if(V){if(Ha(V.subscriptionOptions,x))return Date.now()>=V.createTime+Rl?Pl(w,{token:V.token,createTime:Date.now(),subscriptionOptions:x}):V.token;try{yield Jo(w.firebaseDependencies,V.token)}catch(K){console.warn(K)}return Se(w.firebaseDependencies,x)}return Se(w.firebaseDependencies,x)})).apply(this,arguments)}function Va(w){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,F.Z)(function*(w){const M=yield Qo(w.firebaseDependencies);M&&(yield Jo(w.firebaseDependencies,M.token),yield La(w.firebaseDependencies));const x=yield w.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Pl(w,M){return mo.apply(this,arguments)}function mo(){return(mo=(0,F.Z)(function*(w,M){try{const x=yield Is(w.firebaseDependencies,M),V=Object.assign(Object.assign({},M),{token:x,createTime:Date.now()});return yield Bt(w.firebaseDependencies,V),x}catch(x){throw yield Va(w),x}})).apply(this,arguments)}function Se(w,M){return It.apply(this,arguments)}function It(){return(It=(0,F.Z)(function*(w,M){const V={token:yield lr(w,M),createTime:Date.now(),subscriptionOptions:M};return yield Bt(w,V),V.token})).apply(this,arguments)}function Ss(w,M){return en.apply(this,arguments)}function en(){return(en=(0,F.Z)(function*(w,M){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vc(M)})})).apply(this,arguments)}function Ha(w,M){return M.vapidKey===w.vapidKey&&M.endpoint===w.endpoint&&M.auth===w.auth&&M.p256dh===w.p256dh}function As(w){const M={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function ki(w,M){if(!M.notification)return;w.notification={};const x=M.notification.title;x&&(w.notification.title=x);const V=M.notification.body;V&&(w.notification.body=V);const K=M.notification.image;K&&(w.notification.image=K)}(M,w),function Fl(w,M){!M.data||(w.data=M.data)}(M,w),function Nl(w,M){var x,V,K,le,Ce;if(!M.fcmOptions&&!(null===(x=M.notification)||void 0===x?void 0:x.click_action))return;w.fcmOptions={};const je=null!==(K=null===(V=M.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==K?K:null===(le=M.notification)||void 0===le?void 0:le.click_action;je&&(w.fcmOptions.link=je);const Ke=null===(Ce=M.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;Ke&&(w.fcmOptions.analyticsLabel=Ke)}(M,w),M}function Ll(w){return"object"==typeof w&&!!w&&ho in w}function jc(w,M){const x=[];for(let V=0;V<w.length;V++)x.push(w.charAt(V)),V<M.length&&x.push(M.charAt(V));return x.join("")}function Cr(w){return nn.create("missing-app-config-values",{valueName:w})}jc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ei{constructor(M,x,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function qh(w){if(!w||!w.options)throw Cr("App Configuration Object");if(!w.name)throw Cr("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:x}=w;for(const V of M)if(!x[V])throw Cr(V);return{appName:w.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:K,installations:x,analyticsProvider:V}}_delete(){return Promise.resolve()}}function xi(w){return ja.apply(this,arguments)}function ja(){return(ja=(0,F.Z)(function*(w){var M;try{w.swRegistration=yield navigator.serviceWorker.register(Nc,{scope:Xn}),w.swRegistration.update().catch(()=>{})}catch(x){throw nn.create("failed-service-worker-registration",{browserErrorMessage:null===(M=x)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function ns(w,M){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(w,M){if(!M&&!w.swRegistration&&(yield xi(w)),M||!w.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");w.swRegistration=M}})).apply(this,arguments)}function Vl(w,M){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,F.Z)(function*(w,M){M?w.vapidKey=M:w.vapidKey||(w.vapidKey=ws)})).apply(this,arguments)}function Bl(){return(Bl=(0,F.Z)(function*(w,M){if(!navigator)throw nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nn.create("permission-blocked");return yield Vl(w,null==M?void 0:M.vapidKey),yield ns(w,null==M?void 0:M.serviceWorkerRegistration),ea(w)})).apply(this,arguments)}function go(w,M,x){return za.apply(this,arguments)}function za(){return(za=(0,F.Z)(function*(w,M,x){const V=$a(M);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:x[ho],message_name:x[Lc],message_time:x[id],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $a(w){switch(w){case fo.NOTIFICATION_CLICKED:return"notification_open";case fo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gc(){return(Gc=(0,F.Z)(function*(w,M){const x=M.data;if(!x.isFirebaseMessaging)return;w.onMessageHandler&&x.messageType===fo.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(As(x)):w.onMessageHandler.next(As(x)));const V=x.data;Ll(V)&&"1"===V[Jr]&&(yield go(w,x.messageType,V))})).apply(this,arguments)}const Wa="@firebase/messaging",zc=w=>{const M=new ei(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Uc(w,M){return Gc.apply(this,arguments)}(M,x)),M},_o=w=>{const M=w.getProvider("messaging").getImmediate();return{getToken:V=>function Ga(w,M){return Bl.apply(this,arguments)}(M,V)}};function Ya(){return vi.apply(this,arguments)}function vi(){return(vi=(0,F.Z)(function*(){try{yield(0,oe.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $c(){(0,ue._registerComponent)(new pe.wA("messaging",zc,"PUBLIC")),(0,ue._registerComponent)(new pe.wA("messaging-internal",_o,"PRIVATE")),(0,ue.registerVersion)(Wa,"0.9.15"),(0,ue.registerVersion)(Wa,"0.9.15","esm2017")}();const Yc="analytics",Zh="firebase_id",Dr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xs="https://www.googletagmanager.com/gtag/js",Mn=new ne.Yd("@firebase/analytics");function qc(w){return Promise.all(w.map(M=>M.catch(x=>x)))}function Qh(w,M){const x=document.createElement("script");x.src=`${xs}?l=${w}&id=${M}`,x.async=!0,document.head.appendChild(x)}function yo(w,M,x,V,K,le){return qa.apply(this,arguments)}function qa(){return(qa=(0,F.Z)(function*(w,M,x,V,K,le){const Ce=V[K];try{if(Ce)yield M[Ce];else{const Ke=(yield qc(x)).find(pt=>pt.measurementId===K);Ke&&(yield M[Ke.appId])}}catch(je){Mn.error(je)}w("config",K,le)})).apply(this,arguments)}function jl(w,M,x,V,K){return ur.apply(this,arguments)}function ur(){return(ur=(0,F.Z)(function*(w,M,x,V,K){try{let le=[];if(K&&K.send_to){let Ce=K.send_to;Array.isArray(Ce)||(Ce=[Ce]);const je=yield qc(x);for(const Ke of Ce){const pt=je.find(rt=>rt.measurementId===Ke),yt=pt&&M[pt.appId];if(!yt){le=[];break}le.push(yt)}}0===le.length&&(le=Object.values(M)),yield Promise.all(le),w("event",V,K||{})}catch(le){Mn.error(le)}})).apply(this,arguments)}function Xt(){const w=window.document.getElementsByTagName("script");for(const M of Object.values(w))if(M.src&&M.src.includes(xs))return M;return null}const Ri=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ka=new class zn{constructor(M={},x=1e3){this.throttleMetadata=M,this.intervalMillis=x}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,x){this.throttleMetadata[M]=x}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Kc(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function is(w){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,F.Z)(function*(w){var M;const{appId:x,apiKey:V}=w,K={method:"GET",headers:Kc(V)},le=Dr.replace("{app-id}",x),Ce=yield fetch(le,K);if(200!==Ce.status&&304!==Ce.status){let je="";try{const Ke=yield Ce.json();(null===(M=Ke.error)||void 0===M?void 0:M.message)&&(je=Ke.error.message)}catch(Ke){}throw Ri.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:je})}return Ce.json()})).apply(this,arguments)}function _n(w){return wr.apply(this,arguments)}function wr(){return(wr=(0,F.Z)(function*(w,M=Ka,x){const{appId:V,apiKey:K,measurementId:le}=w.options;if(!V)throw Ri.create("no-app-id");if(!K){if(le)return{measurementId:le,appId:V};throw Ri.create("no-api-key")}const Ce=M.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Ft;return setTimeout((0,F.Z)(function*(){je.abort()}),void 0!==x?x:6e4),ia({appId:V,apiKey:K,measurementId:le},Ce,je,M)})).apply(this,arguments)}function ia(w,M,x){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(w,{throttleEndTimeMillis:M,backoffCount:x},V,K=Ka){var le,Ce;const{appId:je,measurementId:Ke}=w;try{yield Zc(V,M)}catch(pt){if(Ke)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${null===(le=pt)||void 0===le?void 0:le.message}]`),{appId:je,measurementId:Ke};throw pt}try{const pt=yield is(w);return K.deleteThrottleMetadata(je),pt}catch(pt){const yt=pt;if(!vo(yt)){if(K.deleteThrottleMetadata(je),Ke)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${null==yt?void 0:yt.message}]`),{appId:je,measurementId:Ke};throw pt}const rt=503===Number(null===(Ce=null==yt?void 0:yt.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,oe.$s)(x,K.intervalMillis,30):(0,oe.$s)(x,K.intervalMillis),un={throttleEndTimeMillis:Date.now()+rt,backoffCount:x+1};return K.setThrottleMetadata(je,un),Mn.debug(`Calling attemptFetch again in ${rt} millis`),ia(w,un,V,K)}})).apply(this,arguments)}function Zc(w,M){return new Promise((x,V)=>{const K=Math.max(M-Date.now(),0),le=setTimeout(x,K);w.addEventListener(()=>{clearTimeout(le),V(Ri.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function vo(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const M=Number(w.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Ft{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function Er(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,F.Z)(function*(){var w;if(!(0,oe.hl)())return Mn.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(M){return Mn.warn(Ri.create("indexeddb-unavailable",{errorInfo:null===(w=M)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Pn(){return(Pn=(0,F.Z)(function*(w,M,x,V,K,le,Ce){var je;const Ke=_n(w);Ke.then(Ci=>{x[Ci.measurementId]=Ci.appId,w.options.measurementId&&Ci.measurementId!==w.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>Mn.error(Ci)),M.push(Ke);const pt=Er().then(Ci=>{if(Ci)return V.getId()}),[yt,rt]=yield Promise.all([Ke,pt]);Xt()||Qh(le,yt.measurementId),K("js",new Date);const un=null!==(je=null==Ce?void 0:Ce.config)&&void 0!==je?je:{};return un.origin="firebase",un.update=!0,null!=rt&&(un[Zh]=rt),K("config",yt.measurementId,un),yt.measurementId})).apply(this,arguments)}class Ns{constructor(M){this.app=M}_delete(){return delete ln[this.app.options.appId],Promise.resolve()}}let ln={},Jt=[];const In={};let sa,ti,tn="dataLayer",rn=!1;function Qa(w,M,x){!function Za(){const w=[];if((0,oe.ru)()&&w.push("This is a browser extension environment."),(0,oe.zI)()||w.push("Cookies are not available."),w.length>0){const M=w.map((V,K)=>`(${K+1}) ${V}`).join(" "),x=Ri.create("invalid-analytics-context",{errorInfo:M});Mn.warn(x.message)}}();const V=w.options.appId;if(!V)throw Ri.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ri.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ln[V])throw Ri.create("already-exists",{id:V});if(!rn){!function Rs(w){let M=[];Array.isArray(window[w])?M=window[w]:window[w]=M}(tn);const{wrappedGtag:le,gtagCore:Ce}=function Xh(w,M,x,V,K){let le=function(...Ce){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(le=window[K]),window[K]=function na(w,M,x,V){function le(){return(le=(0,F.Z)(function*(Ce,je,Ke){try{"event"===Ce?yield jl(w,M,x,je,Ke):"config"===Ce?yield yo(w,M,x,V,je,Ke):w("set",je)}catch(pt){Mn.error(pt)}})).apply(this,arguments)}return function K(Ce,je,Ke){return le.apply(this,arguments)}}(le,w,M,x),{gtagCore:le,wrappedGtag:window[K]}}(ln,Jt,In,tn,"gtag");ti=le,sa=Ce,rn=!0}return ln[V]=function an(w,M,x,V,K,le,Ce){return Pn.apply(this,arguments)}(w,Jt,In,M,sa,tn,x),new Ns(w)}function Wi(){return(Wi=(0,F.Z)(function*(w,M,x,V,K){if(K&&K.global)w("event",x,V);else{const le=yield M;w("event",x,Object.assign(Object.assign({},V),{send_to:le}))}})).apply(this,arguments)}function dr(){return oa.apply(this,arguments)}function oa(){return(oa=(0,F.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(w){return!1}})).apply(this,arguments)}const ld="@firebase/analytics";!function Hs(){(0,ue._registerComponent)(new pe.wA(Yc,(M,{options:x})=>Qa(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue._registerComponent)(new pe.wA("analytics-internal",function w(M){try{const x=M.getProvider(Yc).getImmediate();return{logEvent:(V,K,le)=>function ef(w,M,x,V){w=(0,oe.m9)(w),function bo(w,M,x,V,K){return Wi.apply(this,arguments)}(ti,ln[w.app.options.appId],M,x,V).catch(K=>Mn.error(K))}(x,V,K,le)}}catch(x){throw Ri.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.registerVersion)(ld,"0.7.11"),(0,ue.registerVersion)(ld,"0.7.11","esm2017")}();var Qc=P(4408),Xc=P(7565);const aa=new class ht extends Xc.v{}(class os extends Qc.o{constructor(M,x){super(M,x),this.scheduler=M,this.work=x}schedule(M,x=0){return x>0?super.schedule(M,x):(this.delay=x,this.state=M,this.scheduler.flush(this),this)}execute(M,x){return x>0||this.closed?super.execute(M,x):this._execute(M,x)}requestAsyncId(M,x,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(M,x,V):M.flush(this)}});var Ja=P(4986),cd=P(8505),hi=P(9468),bi=P(5363);const Mr=new c.GfV("7.4.1"),js="__angularfire_symbol__analyticsIsSupportedValue",Ir="__angularfire_symbol__analyticsIsSupported",as="__angularfire_symbol__remoteConfigIsSupportedValue",Sr="__angularfire_symbol__remoteConfigIsSupported",Do="__angularfire_symbol__messagingIsSupportedValue",hr="__angularfire_symbol__messagingIsSupported";function Eo(w,M,x){if(M){if(1===M.length)return M[0];const le=M.filter(Ce=>Ce.app===x);if(1===le.length)return le[0]}return x.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ir]||(globalThis[Ir]=dr().then(w=>globalThis[js]=w).catch(()=>globalThis[js]=!1)),globalThis[hr]||(globalThis[hr]=Ya().then(w=>globalThis[Do]=w).catch(()=>globalThis[Do]=!1)),globalThis[Sr]||(globalThis[Sr]=Na().then(w=>globalThis[as]=w).catch(()=>globalThis[as]=!1));const qp=(w,M)=>{const x=M?[M]:(0,te.C6)(),V=[];return x.forEach(K=>{K.container.getProvider(w).instances.forEach(Ce=>{V.includes(Ce)||V.push(Ce)})}),V};function Ar(){}class el{constructor(M,x=aa){this.zone=M,this.delegate=x}now(){return this.delegate.now()}schedule(M,x,V){const K=this.zone;return this.delegate.schedule(function(Ce){K.runGuarded(()=>{M.apply(this,[Ce])})},x,V)}}class Mo{constructor(M){this.zone=M,this.task=null}call(M,x){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ar,{},Ar,Ar)),x.pipe((0,cd.b)({next:V,complete:V,error:V})).subscribe(M).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jc=(()=>{class w{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new el(Zone.current)),this.insideAngular=x.run(()=>new el(Zone.current,Ja.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(x){return new(x||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Tr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function dd(w){return Tr(),function Us(w){return function(x){return(x=x.lift(new Mo(w.ngZone))).pipe((0,hi.R)(w.outsideAngular),(0,bi.Q)(w.insideAngular))}}(Tr())(w)}},2090:(We,ve,P)=>{P.d(ve,{$s:()=>Wr,BH:()=>Ue,DV:()=>Ot,Dv:()=>$r,GJ:()=>Lt,L:()=>de,LL:()=>ce,Pz:()=>Et,Sg:()=>Ae,UG:()=>me,UI:()=>Ji,US:()=>pe,Wj:()=>pn,Yr:()=>Ne,ZB:()=>G,ZR:()=>_e,b$:()=>Ye,cI:()=>kt,dS:()=>ys,eu:()=>be,g5:()=>F,gK:()=>pi,gQ:()=>fi,h$:()=>ne,hl:()=>z,hu:()=>te,jU:()=>Me,lb:()=>Si,m9:()=>nt,ne:()=>ji,p$:()=>$,pd:()=>zr,r3:()=>oi,ru:()=>Ge,tV:()=>fe,uI:()=>Le,ug:()=>xt,vZ:()=>Mi,w1:()=>De,w9:()=>zt,xO:()=>ai,xb:()=>Mt,z$:()=>ke,zI:()=>Y,zd:()=>er});const te=function(q,H){if(!q)throw F(H)},F=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},ue=function(q){const H=[];let J=0;for(let X=0;X<q.length;X++){let B=q.charCodeAt(X);B<128?H[J++]=B:B<2048?(H[J++]=B>>6|192,H[J++]=63&B|128):55296==(64512&B)&&X+1<q.length&&56320==(64512&q.charCodeAt(X+1))?(B=65536+((1023&B)<<10)+(1023&q.charCodeAt(++X)),H[J++]=B>>18|240,H[J++]=B>>12&63|128,H[J++]=B>>6&63|128,H[J++]=63&B|128):(H[J++]=B>>12|224,H[J++]=B>>6&63|128,H[J++]=63&B|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,H){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let B=0;B<q.length;B+=3){const ye=q[B],Fe=B+1<q.length,Ze=Fe?q[B+1]:0,ft=B+2<q.length,Vt=ft?q[B+2]:0;let vn=(15&Ze)<<2|Vt>>6,vs=63&Vt;ft||(vs=64,Fe||(vn=64)),X.push(J[ye>>2],J[(3&ye)<<4|Ze>>4],J[vn],J[vs])}return X.join("")},encodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(q):this.encodeByteArray(ue(q),H)},decodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(q):function(q){const H=[];let J=0,X=0;for(;J<q.length;){const B=q[J++];if(B<128)H[X++]=String.fromCharCode(B);else if(B>191&&B<224){const ye=q[J++];H[X++]=String.fromCharCode((31&B)<<6|63&ye)}else if(B>239&&B<365){const ft=((7&B)<<18|(63&q[J++])<<12|(63&q[J++])<<6|63&q[J++])-65536;H[X++]=String.fromCharCode(55296+(ft>>10)),H[X++]=String.fromCharCode(56320+(1023&ft))}else{const ye=q[J++],Fe=q[J++];H[X++]=String.fromCharCode((15&B)<<12|(63&ye)<<6|63&Fe)}}return H.join("")}(this.decodeStringToByteArray(q,H))},decodeStringToByteArray(q,H){this.init_();const J=H?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let B=0;B<q.length;){const ye=J[q.charAt(B++)],Ze=B<q.length?J[q.charAt(B)]:0;++B;const Vt=B<q.length?J[q.charAt(B)]:64;++B;const Dt=B<q.length?J[q.charAt(B)]:64;if(++B,null==ye||null==Ze||null==Vt||null==Dt)throw Error();X.push(ye<<2|Ze>>4),64!==Vt&&(X.push(Ze<<4&240|Vt>>2),64!==Dt&&X.push(Vt<<6&192|Dt))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ne=function(q){const H=ue(q);return pe.encodeByteArray(H,!0)},de=function(q){return ne(q).replace(/\./g,"")},fe=function(q){try{return pe.decodeString(q,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function $(q){return G(void 0,q)}function G(q,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return H}for(const J in H)!H.hasOwnProperty(J)||!re(J)||(q[J]=G(q[J],H[J]));return q}function re(q){return"__proto__"!==q}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,J)=>{this.resolve=H,this.reject=J})}wrapCallback(H){return(J,X)=>{J?this.reject(J):this.resolve(X),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(J):H(J,X))}}}function Ae(q,H){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=H||"demo-project",B=q.iat||0,ye=q.sub||q.user_id;if(!ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:B,exp:B+3600,auth_time:B,sub:ye,user_id:ye,firebase:{sign_in_provider:"custom",identities:{}}},q);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Fe)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function Me(){return"object"==typeof self&&self.self===self}function Ge(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){const q=ke();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ne(){return!1}function z(){return"object"==typeof indexedDB}function be(){return new Promise((q,H)=>{try{let J=!0;const X="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(X);B.onsuccess=()=>{B.result.close(),J||self.indexedDB.deleteDatabase(X),q(!0)},B.onupgradeneeded=()=>{J=!1},B.onerror=()=>{var ye;H((null===(ye=B.error)||void 0===ye?void 0:ye.message)||"")}}catch(J){H(J)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(H,J,X){super(J),this.code=H,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(H,J,X){this.service=H,this.serviceName=J,this.errors=X}create(H,...J){const X=J[0]||{},B=`${this.service}/${H}`,ye=this.errors[H],Fe=ye?function xe(q,H){return q.replace(tt,(J,X)=>{const B=H[X];return null!=B?String(B):`<${X}?>`})}(ye,X):"Error";return new _e(B,`${this.serviceName}: ${Fe} (${B}).`,X)}}const tt=/\{\$([^}]+)}/g;function kt(q){return JSON.parse(q)}function Et(q){return JSON.stringify(q)}const $e=function(q){let H={},J={},X={},B="";try{const ye=q.split(".");H=kt(fe(ye[0])||""),J=kt(fe(ye[1])||""),B=ye[2],X=J.d||{},delete J.d}catch(ye){}return{header:H,claims:J,data:X,signature:B}},zt=function(q){const J=$e(q).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Lt=function(q){const H=$e(q).claims;return"object"==typeof H&&!0===H.admin};function oi(q,H){return Object.prototype.hasOwnProperty.call(q,H)}function Ot(q,H){if(Object.prototype.hasOwnProperty.call(q,H))return q[H]}function Mt(q){for(const H in q)if(Object.prototype.hasOwnProperty.call(q,H))return!1;return!0}function Ji(q,H,J){const X={};for(const B in q)Object.prototype.hasOwnProperty.call(q,B)&&(X[B]=H.call(J,q[B],B,q));return X}function Mi(q,H){if(q===H)return!0;const J=Object.keys(q),X=Object.keys(H);for(const B of J){if(!X.includes(B))return!1;const ye=q[B],Fe=H[B];if(qn(ye)&&qn(Fe)){if(!Mi(ye,Fe))return!1}else if(ye!==Fe)return!1}for(const B of X)if(!J.includes(B))return!1;return!0}function qn(q){return null!==q&&"object"==typeof q}function ai(q){const H=[];for(const[J,X]of Object.entries(q))Array.isArray(X)?X.forEach(B=>{H.push(encodeURIComponent(J)+"="+encodeURIComponent(B))}):H.push(encodeURIComponent(J)+"="+encodeURIComponent(X));return H.length?"&"+H.join("&"):""}function er(q){const H={};return q.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[B,ye]=X.split("=");H[decodeURIComponent(B)]=decodeURIComponent(ye)}}),H}function zr(q){const H=q.indexOf("?");if(!H)return"";const J=q.indexOf("#",H);return q.substring(H,J>0?J:void 0)}class fi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,J){J||(J=0);const X=this.W_;if("string"==typeof H)for(let Dt=0;Dt<16;Dt++)X[Dt]=H.charCodeAt(J)<<24|H.charCodeAt(J+1)<<16|H.charCodeAt(J+2)<<8|H.charCodeAt(J+3),J+=4;else for(let Dt=0;Dt<16;Dt++)X[Dt]=H[J]<<24|H[J+1]<<16|H[J+2]<<8|H[J+3],J+=4;for(let Dt=16;Dt<80;Dt++){const vn=X[Dt-3]^X[Dt-8]^X[Dt-14]^X[Dt-16];X[Dt]=4294967295&(vn<<1|vn>>>31)}let Vt,$t,B=this.chain_[0],ye=this.chain_[1],Fe=this.chain_[2],Ze=this.chain_[3],ft=this.chain_[4];for(let Dt=0;Dt<80;Dt++){Dt<40?Dt<20?(Vt=Ze^ye&(Fe^Ze),$t=1518500249):(Vt=ye^Fe^Ze,$t=1859775393):Dt<60?(Vt=ye&Fe|Ze&(ye|Fe),$t=2400959708):(Vt=ye^Fe^Ze,$t=3395469782);const vn=(B<<5|B>>>27)+Vt+ft+$t+X[Dt]&4294967295;ft=Ze,Ze=Fe,Fe=4294967295&(ye<<30|ye>>>2),ye=B,B=vn}this.chain_[0]=this.chain_[0]+B&4294967295,this.chain_[1]=this.chain_[1]+ye&4294967295,this.chain_[2]=this.chain_[2]+Fe&4294967295,this.chain_[3]=this.chain_[3]+Ze&4294967295,this.chain_[4]=this.chain_[4]+ft&4294967295}update(H,J){if(null==H)return;void 0===J&&(J=H.length);const X=J-this.blockSize;let B=0;const ye=this.buf_;let Fe=this.inbuf_;for(;B<J;){if(0===Fe)for(;B<=X;)this.compress_(H,B),B+=this.blockSize;if("string"==typeof H){for(;B<J;)if(ye[Fe]=H.charCodeAt(B),++Fe,++B,Fe===this.blockSize){this.compress_(ye),Fe=0;break}}else for(;B<J;)if(ye[Fe]=H[B],++Fe,++B,Fe===this.blockSize){this.compress_(ye),Fe=0;break}}this.inbuf_=Fe,this.total_+=J}digest(){const H=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let B=this.blockSize-1;B>=56;B--)this.buf_[B]=255&J,J/=256;this.compress_(this.buf_);let X=0;for(let B=0;B<5;B++)for(let ye=24;ye>=0;ye-=8)H[X]=this.chain_[B]>>ye&255,++X;return H}}function ji(q,H){const J=new ot(q,H);return J.subscribe.bind(J)}class ot{constructor(H,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{H(this)}).catch(X=>{this.error(X)})}next(H){this.forEachObserver(J=>{J.next(H)})}error(H){this.forEachObserver(J=>{J.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,J,X){let B;if(void 0===H&&void 0===J&&void 0===X)throw new Error("Missing Observer.");B=function on(q,H){if("object"!=typeof q||null===q)return!1;for(const J of H)if(J in q&&"function"==typeof q[J])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:J,complete:X},void 0===B.next&&(B.next=fn),void 0===B.error&&(B.error=fn),void 0===B.complete&&(B.complete=fn);const ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch(Fe){}}),this.observers.push(B),ye}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,H)}sendOne(H,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{J(this.observers[H])}catch(X){"undefined"!=typeof console&&console.error&&console.error(X)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}const $r=function(q,H,J,X){let B;if(X<H?B="at least "+H:X>J&&(B=0===J?"none":"no more than "+J),B)throw new Error(q+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+B+".")};function pi(q,H){return`${q} failed: ${H} argument `}function pn(q,H,J,X){if((!X||J)&&"function"!=typeof J)throw new Error(pi(q,H)+"must be a valid function.")}function Si(q,H,J,X){if((!X||J)&&("object"!=typeof J||null===J))throw new Error(pi(q,H)+"must be a valid context object.")}const ys=function(q){const H=[];let J=0;for(let X=0;X<q.length;X++){let B=q.charCodeAt(X);if(B>=55296&&B<=56319){const ye=B-55296;X++,te(X<q.length,"Surrogate pair missing trail surrogate."),B=65536+(ye<<10)+(q.charCodeAt(X)-56320)}B<128?H[J++]=B:B<2048?(H[J++]=B>>6|192,H[J++]=63&B|128):B<65536?(H[J++]=B>>12|224,H[J++]=B>>6&63|128,H[J++]=63&B|128):(H[J++]=B>>18|240,H[J++]=B>>12&63|128,H[J++]=B>>6&63|128,H[J++]=63&B|128)}return H},xt=function(q){let H=0;for(let J=0;J<q.length;J++){const X=q.charCodeAt(J);X<128?H++:X<2048?H+=2:X>=55296&&X<=56319?(H+=4,J++):H+=3}return H};function Wr(q,H=1e3,J=2){const X=H*Math.pow(J,q),B=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+B)}function nt(q){return q&&q._delegate?q._delegate:q}},2813:(We,ve,P)=>{var c=P(5e3);let te=null;function F(){return te}const ne=new c.OlP("DocumentToken");let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})(),G=(()=>{class n extends de{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){re()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){re()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new G((0,c.LFG)(ne))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ke(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Me(n){const t=(0,c.LFG)(ne).location;return new Ye((0,c.LFG)(de),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ge=new c.OlP("appBaseHref");let Ye=(()=>{class n extends me{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const h=this.prepareExternalUrl(o+Le(l));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,l){const h=this.prepareExternalUrl(o+Le(l));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(Ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ke(Ve(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Le(i))}normalize(e){return n.stripTrailingSlash(function Ne(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ae,n.stripTrailingSlash=ke,n.\u0275fac=function(e){return new(e||n)(c.LFG(me),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(){return new De((0,c.LFG)(me),(0,c.LFG)(de))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}function co(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}class Kr{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class n{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Kr(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===l?void 0:l);else if(null!==l){const g=i.get(l);i.move(g,h),Ds(g,o)}});for(let o=0,l=i.length;o<l;o++){const g=i.get(o).context;g.index=o,g.count=l,g.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Ds(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ds(n,t){n.context.$implicit=t.item}let jn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Zt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Oa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Oa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Zt{constructor(){this.$implicit=null,this.ngIf=null}}function Oa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Jr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Es="browser";class Yt{}class Ms extends class Qo extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){te||(te=n)}(new Ms)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Xo(){return Bt=Bt||document.querySelector("base"),Bt?Bt.getAttribute("href"):null}();return null==e?null:function es(n){La=La||document.createElement("a"),La.setAttribute("href",n);const t=La.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Bt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return co(document.cookie,t)}}let La,Bt=null;const Un=new c.OlP("TRANSITION_ID"),nn=[{provide:c.ip1,useFactory:function xl(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=F(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[Un,ne,c.zs3],multi:!0}];class lr{static init(){(0,c.VLi)(new lr)}addToWindow(t){c.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const g=function(b){h=h||b,l--,0==l&&i(h)};o.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Gn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new c.OlP("EventManagerPlugins");let br=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Is),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=F().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let Gi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),cr=(()=>{class n extends Gi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(po),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(po))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function po(n){F().remove(n)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ts=/%COMP%/g;function mo(n,t,e){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?mo(n,o,e):(o=o.replace(ts,n),e.push(o))}return e}function Se(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ss=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new en(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new ki(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new Fl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=mo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(br),c.LFG(cr),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class en{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=at[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=at[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,o&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Se(i)):this.eventManager.addEventListener(t,e,Se(i))}}class ki extends en{constructor(t,e,i,o){super(t),this.component=i;const l=mo(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function Ba(n){return"_ngcontent-%COMP%".replace(ts,n)}(o+"-"+i.id),this.hostAttr=function Pl(n){return"_nghost-%COMP%".replace(ts,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Fl extends en{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=mo(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Nl=(()=>{class n extends Jo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ll=["alt","control","meta","shift"],qh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ei={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xi=(()=>{class n extends Jo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let h="";if(Ll.forEach(b=>{const E=i.indexOf(b);E>-1&&(i.splice(E,1),h+=b+".")}),h+=l,0!=i.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(e){let i="",o=function ja(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Cr.hasOwnProperty(t)&&(t=Cr[t]))}return qh[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ll.forEach(l=>{l!=o&&ei[l](e)&&(i+=l+".")}),i+=o,i}static eventCallback(e,i,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ga=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Es},{provide:c.g9A,useValue:function ns(){Ms.makeCurrent(),lr.init()},multi:!0},{provide:ne,useFactory:function Vl(){return(0,c.RDi)(document),document},deps:[]}]),Bl=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function zi(){return new c.qLn},deps:[]},{provide:Is,useClass:Nl,multi:!0,deps:[ne,c.R0b,c.Lbi]},{provide:Is,useClass:xi,multi:!0,deps:[ne]},{provide:Ss,useClass:Ss,deps:[br,cr,c.AFp]},{provide:c.FYo,useExisting:Ss},{provide:Gi,useExisting:cr},{provide:cr,useClass:cr,deps:[ne]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:br,useClass:br,deps:[Is,c.R0b]},{provide:Yt,useClass:Gn,deps:[]}];let go=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Un,useExisting:c.AFp},nn]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Bl,imports:[Jr,c.hGG]}),n})();"undefined"!=typeof window&&window;let jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(na),i},providedIn:"root"}),n})(),na=(()=>{class n extends jl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ur(n){return new na(n.get(ne))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();function Xt(n){return null!=n&&"false"!=`${n}`}function $i(n){return Array.isArray(n)?n:[n]}function gn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function zn(n){return n instanceof c.SBq?n.nativeElement:n}function is(n){return n&&"function"==typeof n.connect}class _n{applyChanges(t,e,i,o,l){t.forEachOperation((h,g,b)=>{let E,T;if(null==h.previousIndex){const O=i(h,g,b);E=e.createEmbeddedView(O.templateRef,O.context,O.index),T=1}else null==b?(e.remove(g),T=3):(E=e.get(g),e.move(E,b),T=2);l&&l({context:null==E?void 0:E.context,operation:T,record:h})})}detach(){}}const vo=new c.OlP("_ViewRepeater");var Ft=P(7579),Er=P(8996);class Fs extends Ft.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var an=P(8306),Pn=P(576),ln=P(3269);function Jt(...n){const t=(0,ln.yG)(n);return(0,Er.D)(n,t)}var In=P(4482),tn=P(5403),Oi=P(8421),sa=P(5032);function ti(n){return(0,In.e)((t,e)=>{(0,Oi.Xf)(n).subscribe((0,tn.x)(e,()=>e.complete(),sa.Z)),!e.closed&&t.subscribe(e)})}var rn=P(5698);const Jh=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function Za(){return(0,c.f3M)(ne)}}),Qa=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Co,Wi=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function bo(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Qa.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Jh,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{Co="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Co=!1}let rs,ss,ad,$n=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Jn(n){return n===Es}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Co)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dr(n){return function Gl(){if(null==rs&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rs=!0}))}finally{rs=rs||!1}return rs}()?n:!!n.capture}function cn(){if(null==ss){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ss=!1,ss;if("scrollBehavior"in document.documentElement.style)ss=!0;else{const n=Element.prototype.scrollTo;ss=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ss}function Bs(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Hs(n){return n.composedPath?n.composedPath()[0]:n.target}function Qc(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var os=P(5577),Xc=P(1144),ht=P(4004);const{isArray:aa}=Array;function Ja(n){return(0,ht.U)(t=>function Xa(n,t){return aa(t)?n(...t):n(t)}(n,t))}const cd=["addListener","removeListener"],hi=["addEventListener","removeEventListener"],bi=["on","off"];function Mr(n,t,e,i){if((0,Pn.m)(e)&&(i=e,e=void 0),i)return Mr(n,t,e).pipe(Ja(i));const[o,l]=function Sr(n){return(0,Pn.m)(n.addEventListener)&&(0,Pn.m)(n.removeEventListener)}(n)?hi.map(h=>g=>n[h](t,g,e)):function Ir(n){return(0,Pn.m)(n.addListener)&&(0,Pn.m)(n.removeListener)}(n)?cd.map(js(n,t)):function as(n){return(0,Pn.m)(n.on)&&(0,Pn.m)(n.off)}(n)?bi.map(js(n,t)):[];if(!o&&(0,Xc.z)(n))return(0,os.z)(h=>Mr(h,t,e))((0,Oi.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new an.y(h=>{const g=(...b)=>h.next(1<b.length?b:b[0]);return o(g),()=>l(g)})}function js(n,t){return e=>i=>n[e](t,i)}var Do=P(4408),hr=P(727);const wo={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=wo;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new hr.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=wo;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=wo;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var ni=P(7565);new class zl extends ni.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class ud extends Do.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wo.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(o=>o.id===e)||(wo.cancelAnimationFrame(e),t._scheduled=void 0)}});let el,Ar=1;const Mo={};function Jc(n){return n in Mo&&(delete Mo[n],!0)}const Tr={setImmediate(n){const t=Ar++;return Mo[t]=!0,el||(el=Promise.resolve()),el.then(()=>Jc(t)&&n()),t},clearImmediate(n){Jc(n)}},{setImmediate:ls,clearImmediate:Io}=Tr,So={setImmediate(...n){const{delegate:t}=So;return((null==t?void 0:t.setImmediate)||ls)(...n)},clearImmediate(n){const{delegate:t}=So;return((null==t?void 0:t.clearImmediate)||Io)(n)},delegate:void 0};new class Us extends ni.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class dd extends Do.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=So.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(o=>o.id===e)||(So.clearImmediate(e),t._scheduled=void 0)}});var w=P(4986),x=P(3532);function le(n,t=w.z){return function M(n){return(0,In.e)((t,e)=>{let i=!1,o=null,l=null,h=!1;const g=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const E=o;o=null,e.next(E)}h&&e.complete()},b=()=>{l=null,h&&e.complete()};t.subscribe((0,tn.x)(e,E=>{i=!0,o=E,l||(0,Oi.Xf)(n(E)).subscribe(l=(0,tn.x)(e,g,b))},()=>{h=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function K(n=0,t,e=w.P){let i=-1;return null!=t&&((0,x.K)(t)?e=t:i=t),new an.y(o=>{let l=function V(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(n,t))}function Ce(n,t){return(0,In.e)((e,i)=>{let o=0;e.subscribe((0,tn.x)(i,l=>n.call(t,l,o++)&&i.next(l)))})}let Ao=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new Ft.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new an.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(le(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ce(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=zn(i),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG($n),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kr=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new Ft.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(le(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($n),c.LFG(c.R0b),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),To=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),$l=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Pi,To],Pi,To]}),n})();const hd=[[["caption"]],[["colgroup"],["col"]]],Kp=["caption","colgroup, col"];function Yl(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Xt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const ql=new c.OlP("CDK_TABLE");let ua=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Kl=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),da=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Zp{}const Qp=Yl(Zp);let pr=(()=>{class n extends Qp{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Xt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ql,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,ua,5),c.Suo(o,Kl,5),c.Suo(o,da,5)),2&e){let l;c.iGM(l=c.CRH())&&(i.cell=l.first),c.iGM(l=c.CRH())&&(i.headerCell=l.first),c.iGM(l=c.CRH())&&(i.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})();class Zl{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let ko=(()=>{class n extends Zl{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pr),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),n})(),fd=(()=>{class n extends Zl{constructor(e,i){var o;if(super(e,i),1===(null===(o=e._table)||void 0===o?void 0:o._elementRef.nativeElement.nodeType)){const l=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pr),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),n})();class Xp{constructor(){this.tasks=[],this.endTasks=[]}}const xo=new c.OlP("_COALESCED_STYLE_SCHEDULER");let tu=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ft.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Xp,this._getScheduleObservable().pipe(ti(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Xp;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Er.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,rn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),nu=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof rl?e.headerCell.template:this instanceof Ql?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();class rf extends nu{}const ha=Yl(rf);let rl=(()=>{class n extends ha{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(ql,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})();class em extends nu{}const tm=Yl(em);let Ql=(()=>{class n extends tm{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(ql,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})(),iu=(()=>{class n extends nu{constructor(e,i,o){super(e,i),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(ql,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),n})(),Fn=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[Fn],encapsulation:2}),n})(),pd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[Fn],encapsulation:2}),n})(),Xl=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const sf=["top","bottom","left","right"];class md{constructor(t,e,i,o,l=!0,h=!0,g){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=o,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=g,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){i.push(o);for(let l=0;l<o.children.length;l++)i.push(o.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const o of i)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,i,o=!0){if(!t.length||!this._isBrowser||!e.some(j=>j)&&!i.some(j=>j))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=t[0],h=l.children.length,g=this._getCellWidths(l,o),b=this._getStickyStartColumnPositions(g,e),E=this._getStickyEndColumnPositions(g,i),T=e.lastIndexOf(!0),O=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const j="rtl"===this.direction,Q=j?"right":"left",se=j?"left":"right";for(const Te of t)for(let He=0;He<h;He++){const lt=Te.children[He];e[He]&&this._addStickyStyle(lt,Q,b[He],He===T),i[He]&&this._addStickyStyle(lt,se,E[He],He===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:g.slice(0,T+1).map((Te,He)=>e[He]?Te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:g.slice(O).map((Te,He)=>i[He+O]?Te:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const o="bottom"===i?t.slice().reverse():t,l="bottom"===i?e.slice().reverse():e,h=[],g=[],b=[];for(let T=0,O=0;T<o.length;T++){if(!l[T])continue;h[T]=O;const j=o[T];b[T]=this._isNativeHtmlTable?Array.from(j.children):[j];const Q=j.getBoundingClientRect().height;O+=Q,g[T]=Q}const E=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,O;for(let j=0;j<o.length;j++){if(!l[j])continue;const Q=h[j],se=j===E;for(const Te of b[j])this._addStickyStyle(Te,i,Q,se)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:g,offsets:h,elements:b}):null===(O=this._positionListener)||void 0===O||O.stickyFooterRowsUpdated({sizes:g,offsets:h,elements:b})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);sf.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const o of sf)t.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],o=t.children;for(let l=0;l<o.length;l++)i.push(o[l].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let o=0;for(let l=0;l<t.length;l++)e[l]&&(i[l]=o,o+=t[l]);return i}_getStickyEndColumnPositions(t,e){const i=[];let o=0;for(let l=t.length;l>0;l--)e[l]&&(i[l]=o,o+=t[l]);return i}}const fa=new c.OlP("CDK_SPL");let Di=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Oo=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),pa=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Jl=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),gd=(()=>{class n{constructor(e,i,o,l,h,g,b,E,T,O,j,Q){this._differs=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=h,this._platform=b,this._viewRepeater=E,this._coalescedStyleScheduler=T,this._viewportRuler=O,this._stickyPositioningListener=j,this._ngZone=Q,this._onDestroy=new Ft.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new Fs({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=g,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Xt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Xt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ti(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),is(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,l,h)=>this._getEmbeddedViewArgs(o.item,h),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{i.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,rn.q)(1),ti(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let g=0;g<i.length;g++)this._renderRows[g].rowDef===l&&h.push(i[g]);this._addStickyColumnStyles(h,l)}),o.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let l=this._data[o];const h=this._getRenderRowsForData(l,o,i.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let g=0;g<h.length;g++){let b=h[g];const E=this._cachedRenderRowsMap.get(b.data);E.has(b.rowDef)?E.get(b.rowDef).push(b):E.set(b.rowDef,[b]),e.push(b)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(h=>{const g=o&&o.has(h)?o.get(h):[];if(g.length){const b=g.shift();return b.dataIndex=i,b}return{data:e,rowDef:h,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),_d(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=_d(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=_d(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=_d(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(h,g)=>h||!!g.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),i||o||l}_switchDataSource(e){this._data=[],is(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;is(this.dataSource)?e=this.dataSource.connect(this):function Ns(n){return!!n&&(n instanceof an.y||(0,Pn.m)(n.lift)&&(0,Pn.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Jt(this.dataSource)),this._renderChangeSubscription=e.pipe(ti(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const o=Array.from(i.columns||[]).map(g=>this._columnDefsByName.get(g)),l=o.map(g=>g.sticky),h=o.map(g=>g.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let o=0;o<e.viewContainer.length;o++){const l=e.viewContainer.get(o);i.push(l.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(l=>!l.when||l.when(i,e));else{let l=this._rowDefs.find(h=>h.when&&h.when(i,e))||this._defaultRowDef;l&&o.push(l)}return o}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,o,l={}){const h=e.viewContainer.createEmbeddedView(i.template,l,o);return this._renderCellTemplateForItem(i,l),h}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))Fn.mostRecentCellOutlet&&Fn.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){const h=e.get(i).context;h.count=o,h.first=0===i,h.last=i===o-1,h.even=i%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[i].dataIndex,h.renderIndex=i):h.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of i){const l=this._document.createElement(o.tag);l.setAttribute("role","rowgroup");for(const h of o.outlets)l.appendChild(h.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new md(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Jt()).pipe(ti(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(i){const l=o.createEmbeddedView(e.templateRef),h=l.rootNodes[0];1===l.rootNodes.length&&(null==h?void 0:h.nodeType)===this._document.ELEMENT_NODE&&(h.setAttribute("role","row"),h.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(Wi,8),c.Y36(ne),c.Y36($n),c.Y36(vo),c.Y36(xo),c.Y36(kr),c.Y36(fa,12),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,Xl,5),c.Suo(o,pr,5),c.Suo(o,iu,5),c.Suo(o,rl,5),c.Suo(o,Ql,5)),2&e){let l;c.iGM(l=c.CRH())&&(i._noDataRow=l.first),c.iGM(l=c.CRH())&&(i._contentColumnDefs=l),c.iGM(l=c.CRH())&&(i._contentRowDefs=l),c.iGM(l=c.CRH())&&(i._contentHeaderRowDefs=l),c.iGM(l=c.CRH())&&(i._contentFooterRowDefs=l)}},viewQuery:function(e,i){if(1&e&&(c.Gf(Di,7),c.Gf(Oo,7),c.Gf(pa,7),c.Gf(Jl,7)),2&e){let o;c.iGM(o=c.CRH())&&(i._rowOutlet=o.first),c.iGM(o=c.CRH())&&(i._headerRowOutlet=o.first),c.iGM(o=c.CRH())&&(i._footerRowOutlet=o.first),c.iGM(o=c.CRH())&&(i._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:ql,useExisting:n},{provide:vo,useClass:_n},{provide:xo,useClass:tu},{provide:fa,useValue:null}])],ngContentSelectors:Kp,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(c.F$t(hd),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Oo,Di,Jl,pa],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function _d(n,t){return n.concat(Array.from(t))}let yd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$l]]}),n})();function cu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function wm(n){return Ce((t,e)=>n<=e)}var ic=P(4671);function Em(n,t=ic.y){return n=null!=n?n:mI,(0,In.e)((e,i)=>{let o,l=!0;e.subscribe((0,tn.x)(i,h=>{const g=t(h);(l||!n(o,g))&&(l=!1,o=g,i.next(h))}))})}function mI(n,t){return n===t}let Oy=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Oy]}),n})(),uu=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Vy(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Ys(n){try{return n.frameElement}catch(t){return null}}(function Tf(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===zC(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),l=zC(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function Hy(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function DI(n){return!function Im(n){return function Sm(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function GC(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function ya(n){return function By(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Af(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($n))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Af(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function zC(n){if(!Af(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class kf{constructor(t,e,i,o,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,rn.q)(1)).subscribe(t)}}let xf=(()=>{class n{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new kf(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uu),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Am(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const II=new c.OlP("cdk-input-modality-detector-options"),$C={ignoreKeys:[18,17,224,91,16]},rc=dr({passive:!0,capture:!0});let zy=(()=>{class n{constructor(e,i,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Fs(null),this._lastTouchMs=0,this._onKeydown=h=>{var g,b;(null===(b=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===b?void 0:b.some(E=>E===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Hs(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Gy(h)?"keyboard":"mouse"),this._mostRecentTarget=Hs(h))},this._onTouchstart=h=>{Am(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hs(h))},this._options=Object.assign(Object.assign({},$C),l),this.modalityDetected=this._modality.pipe(wm(1)),this.modalityChanged=this.modalityDetected.pipe(Em()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,rc),o.addEventListener("mousedown",this._onMousedown,rc),o.addEventListener("touchstart",this._onTouchstart,rc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rc),document.removeEventListener("mousedown",this._onMousedown,rc),document.removeEventListener("touchstart",this._onTouchstart,rc))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($n),c.LFG(c.R0b),c.LFG(ne),c.LFG(II,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AI=new c.OlP("cdk-focus-monitor-default-options"),km=dr({passive:!0,capture:!0});let Td=(()=>{class n{constructor(e,i,o,l,h){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ft.x,this._rootNodeFocusAndBlurListener=g=>{const b=Hs(g),E="focus"===g.type?this._onFocus:this._onBlur;for(let T=b;T;T=T.parentElement)E.call(this,g,T)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,i=!1){const o=zn(e);if(!this._platform.isBrowser||1!==o.nodeType)return Jt(null);const l=function ld(n){if(function ef(){if(null==ad){const n="undefined"!=typeof document?document.head:null;ad=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ad}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return i&&(h.checkChildren=!0),h.subject;const g={checkChildren:i,subject:new Ft.x,rootNode:l};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const i=zn(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const l=zn(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([g,b])=>this._originChanged(g,i,b)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),l=Hs(e);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,km),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,km)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ti(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,km),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,km),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&i.push([l,o])}),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG($n),c.LFG(zy),c.LFG(ne,8),c.LFG(AI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YC="cdk-high-contrast-black-on-white",qC="cdk-high-contrast-white-on-black",$y="cdk-high-contrast-active";let va=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($y),e.remove(YC),e.remove(qC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add($y),e.add(YC)):2===i&&(e.add($y),e.add(qC))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($n),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xm=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(va))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Sf]]}),n})();class Wy{}const qs="*";function ul(n,t){return{type:7,name:n,definitions:t,options:{}}}function xr(n,t=null){return{type:4,styles:t,timings:n}}function Rf(n,t=null){return{type:3,steps:n,options:t}}function ba(n,t=null){return{type:2,steps:n,options:t}}function An(n){return{type:6,styles:n,offset:null}}function Po(n,t,e){return{type:0,name:n,styles:t,options:e}}function ds(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function kd(n=null){return{type:9,options:n}}function Ca(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Pf(n){Promise.resolve(null).then(n)}class Fo{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class du{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const l=this.players.length;0==l?Pf(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++i==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Pt=!1;function Rm(n){return new c.vHH(3e3,Pt)}function Nm(){return"undefined"!=typeof window&&void 0!==window.document}function Lm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hl(n){switch(n.length){case 0:return new Fo;case 1:return n[0];default:return new du(n)}}function uD(n,t,e,i,o={},l={}){const h=[],g=[];let b=-1,E=null;if(i.forEach(T=>{const O=T.offset,j=O==b,Q=j&&E||{};Object.keys(T).forEach(se=>{let Te=se,He=T[se];if("offset"!==se)switch(Te=t.normalizePropertyName(Te,h),He){case"!":He=o[se];break;case qs:He=l[se];break;default:He=t.normalizeStyleValue(se,Te,He,h)}Q[Te]=He}),j||g.push(Q),E=Q,b=O}),h.length)throw function rD(n){return new c.vHH(3502,Pt)}();return g}function Nf(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Vm(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Vm(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Vm(e,"destroy",n)))}}function Vm(n,t,e){const i=e.totalTime,l=Bm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),h=n._data;return null!=h&&(l._data=h),l}function Bm(n,t,e,i,o="",l=0,h){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!h}}function Or(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Lf(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Hm=(n,t)=>!1,rv=(n,t,e)=>[],Od=null;function Pd(n){const t=n.parentNode||n.host;return t===Od?null:t}(Lm()||"undefined"!=typeof Element)&&(Nm()?(Od=(()=>document.documentElement)(),Hm=(n,t)=>{for(;t;){if(t===n)return!0;t=Pd(t)}return!1}):Hm=(n,t)=>n.contains(t),rv=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Da=null,Um=!1;function dD(n){Da||(Da=function NI(){return"undefined"!=typeof document?document.body:null}()||{},Um=!!Da.style&&"WebkitAppearance"in Da.style);let t=!0;return Da.style&&!function jm(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Da.style,!t&&Um&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Da.style)),t}const Vf=Hm,hD=rv;let Gm=(()=>{class n{validateStyleProperty(e){return dD(e)}matchesElement(e,i){return!1}containsElement(e,i){return Vf(e,i)}getParentElement(e){return Pd(e)}query(e,i,o){return hD(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,h,g=[],b){return new Fo(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Bf=(()=>{class n{}return n.NOOP=new Gm,n})();const Ks="ng-enter",sc="ng-leave",Hf="ng-trigger",jf=".ng-trigger",fD="ng-animating",Fd=".ng-animating";function fl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Nd(parseFloat(t[1]),t[2])}function Nd(n,t){return"s"===t?1e3*n:n}function pl(n,t,e){return n.hasOwnProperty("duration")?n:function pD(n,t,e){let o,l=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(Rm()),{duration:0,delay:0,easing:""};o=Nd(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(l=Nd(parseFloat(b),g[4]));const E=g[5];E&&(h=E)}else o=n;if(!e){let g=!1,b=t.length;o<0&&(t.push(function Om(){return new c.vHH(3100,Pt)}()),g=!0),l<0&&(t.push(function Pm(){return new c.vHH(3101,Pt)}()),g=!0),g&&t.splice(b,0,Rm())}return{duration:o,delay:l,easing:h}}(n,t,e)}function ml(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function wa(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ml(n,e);return e}function Wm(n,t,e){return e?t+":"+e+";":""}function av(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Wm(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Wm(0,mD(e),n.style[e]));n.setAttribute("style",t)}function hs(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const o=qm(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[o]),n.style[o]=t[i]}),Lm()&&av(n))}function oc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=qm(e);n.style[i]=""}),Lm()&&av(n))}function Ld(n){return Array.isArray(n)?1==n.length?n[0]:ba(n):n}const gl=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ym(n){let t=[];if("string"==typeof n){let e;for(;e=gl.exec(n);)t.push(e[1]);gl.lastIndex=0}return t}function Uf(n,t,e){const i=n.toString(),o=i.replace(gl,(l,h)=>{let g=t[h];return t.hasOwnProperty(h)||(e.push(function Ff(n){return new c.vHH(3003,Pt)}()),g=""),g.toString()});return o==i?n:o}function Gf(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const hu=/-+([a-z0-9])/g;function qm(n){return n.replace(hu,(...t)=>t[1].toUpperCase())}function mD(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ZC(n){return new c.vHH(3004,Pt)}()}}function zf(n,t){return window.getComputedStyle(n)[t]}function dv(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function HI(n,t,e){if(":"==n[0]){const b=function hv(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function OI(n){return new c.vHH(3016,Pt)}()),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Xy(n){return new c.vHH(3015,Pt)}()),t;const o=i[1],l=i[2],h=i[3];t.push(vD(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&t.push(vD(h,o))}(i,e,t)):e.push(n),e}const Wf=new Set(["true","1"]),Yf=new Set(["false","0"]);function vD(n,t){const e=Wf.has(n)||Yf.has(n),i=Wf.has(t)||Yf.has(t);return(o,l)=>{let h="*"==n||n==o,g="*"==t||t==l;return!h&&e&&"boolean"==typeof o&&(h=o?Wf.has(n):Yf.has(n)),!g&&i&&"boolean"==typeof l&&(g=l?Wf.has(t):Yf.has(t)),h&&g}}const Km=new RegExp("s*:selfs*,?","g");function Zm(n,t,e,i){return new fv(n).build(t,e,i)}class fv{constructor(t){this._driver=t}build(t,e,i){const o=new UI(e);this._resetContextStyleTimingState(o);const l=Tn(this,Ld(t),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function kI(){return new c.vHH(3006,Pt)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const b=g,E=b.name;E.toString().split(/\s*,\s*/).forEach(T=>{b.name=T,l.push(this.visitState(b,e))}),b.name=E}else if(1==g.type){const b=this.visitTransition(g,e);i+=b.queryCount,o+=b.depCount,h.push(b)}else e.errors.push(function Zy(){return new c.vHH(3007,Pt)}())}),{type:7,name:t.name,states:l,transitions:h,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,h=o||{};i.styles.forEach(g=>{if(Hd(g)){const b=g;Object.keys(b).forEach(E=>{Ym(b[E]).forEach(T=>{h.hasOwnProperty(T)||l.add(T)})})}}),l.size&&(Gf(l.values()),e.errors.push(function Qy(n,t){return new c.vHH(3008,Pt)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Tn(this,Ld(t.animation),e);return{type:1,matchers:dv(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:_l(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Tn(this,i,e)),options:_l(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const l=t.steps.map(h=>{e.currentTime=i;const g=Tn(this,h,e);return o=Math.max(o,e.currentTime),g});return e.currentTime=o,{type:3,steps:l,options:_l(t.options)}}visitAnimate(t,e){const i=function pv(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Xm(pl(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Xm(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=pl(e,t);return Xm(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,l=t.styles?t.styles:An({});if(5==l.type)o=this.visitKeyframes(l,e);else{let h=t.styles,g=!1;if(!h){g=!0;const E={};i.easing&&(E.easing=i.easing),h=An(E)}e.currentTime+=i.duration+i.delay;const b=this.visitStyle(h,e);b.isEmptyStep=g,o=b}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==qs?i.push(h):e.errors.push(function QC(n){return new c.vHH(3002,Pt)}()):i.push(h)}):i.push(t.styles);let o=!1,l=null;return i.forEach(h=>{if(Hd(h)){const g=h,b=g.easing;if(b&&(l=b,delete g.easing),!o)for(let E in g)if(g[E].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(g=>{if(!this._driver.validateStyleProperty(g))return delete h[g],void e.unsupportedCSSPropertiesFound.add(g);const b=e.collectedStyles[e.currentQuerySelector],E=b[g];let T=!0;E&&(l!=o&&l>=E.startTime&&o<=E.endTime&&(e.errors.push(function JC(n,t,e,i,o){return new c.vHH(3010,Pt)}()),T=!1),l=E.startTime),T&&(b[g]={startTime:l,endTime:o}),e.options&&function lv(n,t,e){const i=t.params||{},o=Ym(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function qy(n){return new c.vHH(3001,Pt)}())})}(h[g],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function eD(){return new c.vHH(3011,Pt)}()),i;let l=0;const h=[];let g=!1,b=!1,E=0;const T=t.steps.map(lt=>{const Ct=this._makeStyleAst(lt,e);let Ht=null!=Ct.offset?Ct.offset:function GI(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Hd(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Hd(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ct.styles),_t=0;return null!=Ht&&(l++,_t=Ct.offset=Ht),b=b||_t<0||_t>1,g=g||_t<E,E=_t,h.push(_t),Ct});b&&e.errors.push(function Rr(){return new c.vHH(3012,Pt)}()),g&&e.errors.push(function tD(){return new c.vHH(3200,Pt)}());const O=t.steps.length;let j=0;l>0&&l<O?e.errors.push(function nD(){return new c.vHH(3202,Pt)}()):0==l&&(j=1/(O-1));const Q=O-1,se=e.currentTime,Te=e.currentAnimateTimings,He=Te.duration;return T.forEach((lt,Ct)=>{const Ht=j>0?Ct==Q?1:j*Ct:h[Ct],_t=Ht*He;e.currentTime=se+Te.delay+_t,Te.duration=_t,this._validateStyleAst(lt,e),lt.offset=Ht,i.styles.push(lt)}),i}visitReference(t,e){return{type:8,animation:Tn(this,Ld(t.animation),e),options:_l(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_l(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_l(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,h]=function jI(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Km,"")),n=n.replace(/@\*/g,jf).replace(/@\w+/g,e=>jf+"-"+e.substr(1)).replace(/:animating/g,Fd),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,Or(e.collectedStyles,e.currentQuerySelector,{});const g=Tn(this,Ld(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:g,originalSelector:t.selector,options:_l(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function xI(){return new c.vHH(3013,Pt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:pl(t.timings,e.errors,!0);return{type:12,animation:Tn(this,Ld(t.animation),e),timings:i,options:null}}}class UI{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hd(n){return!Array.isArray(n)&&"object"==typeof n}function _l(n){return n?(n=ml(n)).params&&(n.params=function Zs(n){return n?ml(n):null}(n.params)):n={},n}function Xm(n,t,e){return{duration:n,delay:t,easing:e}}function mv(n,t,e,i,o,l,h=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:g}}class jd{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const eg=new RegExp(":enter","g"),wD=new RegExp(":leave","g");function tg(n,t,e,i,o,l={},h={},g,b,E=[]){return(new ED).buildKeyframes(n,t,e,i,o,l,h,g,b,E)}class ED{buildKeyframes(t,e,i,o,l,h,g,b,E,T=[]){E=E||new jd;const O=new ng(t,e,E,o,l,T,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),Tn(this,i,O);const j=O.timelines.filter(Q=>Q.containsAnimation());if(Object.keys(g).length){let Q;for(let se=j.length-1;se>=0;se--){const Te=j[se];if(Te.element===e){Q=Te;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([g],null,O.errors,b)}return j.length?j.map(Q=>Q.buildKeyframes()):[mv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(i,o,o.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const h=null!=i.duration?fl(i.duration):null,g=null!=i.delay?fl(i.delay):null;return 0!==h&&t.forEach(b=>{const E=e.appendInstructionToTimeline(b,h,g);l=Math.max(l,E.duration+E.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Tn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=qf);const h=fl(l.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>Tn(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?fl(t.options.delay):0;t.steps.forEach(h=>{const g=e.createSubContext(t.options);l&&g.delayNextStep(l),Tn(this,h,g),o=Math.max(o,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return pl(e.params?Uf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,g=e.createSubContext().currentTimeline;g.easing=i.easing,t.styles.forEach(b=>{g.forwardTime((b.offset||0)*l),g.setStyles(b.styles,b.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?fl(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qf);let h=i;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=g.length;let b=null;g.forEach((E,T)=>{e.currentQueryIndex=T;const O=e.createSubContext(t.options,E);l&&O.delayNextStep(l),E===e.element&&(b=O.currentTimeline),Tn(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,l=t.timings,h=Math.abs(l.duration),g=h*(e.currentQueryTotal-1);let b=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=g-b;break;case"full":b=i.currentStaggerTime}const T=e.currentTimeline;b&&T.delayNextStep(b);const O=T.currentTime;Tn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-O+(o.startTime-i.currentTimeline.startTime)}}const qf={};class ng{constructor(t,e,i,o,l,h,g,b){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new ac(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=fl(i.duration)),null!=i.delay&&(o.delay=fl(i.delay));const l=i.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(g=>{(!e||!h.hasOwnProperty(g))&&(h[g]=Uf(l[g],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,l=new ng(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=qf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new fu(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,l,h){let g=[];if(o&&g.push(this.element),t.length>0){t=(t=t.replace(eg,"."+this._enterClassName)).replace(wD,"."+this._leaveClassName);let E=this._driver.query(this.element,t,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),g.push(...E)}return!l&&0==g.length&&h.push(function RI(n){return new c.vHH(3014,Pt)}()),g}}class ac{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ac(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||qs,this._currentKeyframe[e]=qs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&(this._previousKeyframe.easing=e);const l=o&&o.params||{},h=function Ud(n,t){const e={};let i;return n.forEach(o=>{"*"===o?(i=i||Object.keys(t),i.forEach(l=>{e[l]=qs})):wa(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(g=>{const b=Uf(h[g],l,i);this._pendingStyles[g]=b,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:qs),this._updateStyle(g,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],o=t._styleSummary[e];(!i||o.time>i.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,b)=>{const E=wa(g,!0);Object.keys(E).forEach(T=>{const O=E[T];"!"==O?t.add(T):O==qs&&e.add(T)}),i||(E.offset=b/this.duration),o.push(E)});const l=t.size?Gf(t.values()):[],h=e.size?Gf(e.values()):[];if(i){const g=o[0],b=ml(g);g.offset=0,b.offset=1,o=[g,b]}return mv(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class fu extends ac{constructor(t,e,i,o,l,h,g=!1){super(t,e,h.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=i+e,g=e/h,b=wa(t[0],!1);b.offset=0,l.push(b);const E=wa(t[0],!1);E.offset=gv(g),l.push(E);const T=t.length-1;for(let O=1;O<=T;O++){let j=wa(t[O],!1);j.offset=gv((e+j.offset*i)/h),l.push(j)}i=h,e=0,o="",t=l}return mv(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function gv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ig{}class Lo extends ig{normalizePropertyName(t,e){return qm(t)}normalizeStyleValue(t,e,i,o){let l="";const h=i.toString().trim();if(Gd[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function Ky(n,t){return new c.vHH(3005,Pt)}())}return h+l}}const Gd=(()=>function Ni(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yl(n,t,e,i,o,l,h,g,b,E,T,O,j){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:h,timelines:g,queriedElements:b,preStyleProps:E,postStyleProps:T,totalTime:O,errors:j}}const pu={};class Pr{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function rg(n,t,e,i,o){return n.some(l=>l(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){const o=this._stateStyles["*"],l=this._stateStyles[t],h=o?o.buildStyles(e,i):{};return l?l.buildStyles(e,i):h}build(t,e,i,o,l,h,g,b,E,T){const O=[],j=this.ast.options&&this.ast.options.params||pu,se=this.buildStyles(i,g&&g.params||pu,O),Te=b&&b.params||pu,He=this.buildStyles(o,Te,O),lt=new Set,Ct=new Map,Ht=new Map,_t="void"===o,Ei={params:Object.assign(Object.assign({},j),Te)},Bi=T?[]:tg(t,e,this.ast.animation,l,h,se,He,Ei,E,O);let Ur=0;if(Bi.forEach(Ic=>{Ur=Math.max(Ic.duration+Ic.delay,Ur)}),O.length)return yl(e,this._triggerName,i,o,_t,se,He,[],[],Ct,Ht,Ur,O);Bi.forEach(Ic=>{const Sc=Ic.element,Ix=Or(Ct,Sc,{});Ic.preStyleProps.forEach(Bh=>Ix[Bh]=!0);const oy=Or(Ht,Sc,{});Ic.postStyleProps.forEach(Bh=>oy[Bh]=!0),Sc!==e&&lt.add(Sc)});const Mc=Gf(lt.values());return yl(e,this._triggerName,i,o,_t,se,He,Bi,Mc,Ct,Ht,Ur)}}class mu{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},o=ml(this.defaultParams);return Object.keys(t).forEach(l=>{const h=t[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(g=>{let b=h[g];b.length>1&&(b=Uf(b,o,e));const E=this.normalizer.normalizePropertyName(g,e);b=this.normalizer.normalizeStyleValue(g,E,b,e),i[E]=b})}}),i}}class _u{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new mu(o.style,o.options&&o.options.params||{},i)}),lc(this.states,"true","1"),lc(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Pr(t,o,this.states))}),this.fallbackTransition=function yu(n,t,e){return new Pr(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(h=>h.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function lc(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const vu=new jd;class bu{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],l=Zm(this._driver,e,i,[]);if(i.length)throw function sD(n){return new c.vHH(3503,Pt)}();this._animations[t]=l}_buildPlayer(t,e,i){const o=t.element,l=uD(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],l=this._animations[t];let h;const g=new Map;if(l?(h=tg(this._driver,e,l,Ks,sc,{},{},i,vu,o),h.forEach(T=>{const O=Or(g,T.element,{});T.postStyleProps.forEach(j=>O[j]=null)})):(o.push(function oD(){return new c.vHH(3300,Pt)}()),h=[]),o.length)throw function ev(n){return new c.vHH(3504,Pt)}();g.forEach((T,O)=>{Object.keys(T).forEach(j=>{T[j]=this._driver.computeStyle(O,j,qs)})});const E=hl(h.map(T=>{const O=g.get(T.element);return this._buildPlayer(T,{},O)}));return this._playersById[t]=E,E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function aD(n){return new c.vHH(3301,Pt)}();return e}listen(t,e,i,o){const l=Bm(e,"","","");return Nf(this._getPlayer(t),i,l,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const cc="ng-animate-queued",Kf="ng-animate-disabled",Cv=[],sg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class Zf{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function SD(n){return null!=n?n:null}(i?t.value:t),i){const l=ml(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const zd="void",Qf=new Zf(zd);class MD{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qs(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.hasOwnProperty(e))throw function tv(n,t){return new c.vHH(3302,Pt)}();if(null==i||0==i.length)throw function lD(n){return new c.vHH(3303,Pt)}();if(!function AD(n){return"start"==n||"done"==n}(i))throw function cD(n,t){return new c.vHH(3400,Pt)}();const l=Or(this._elementListeners,t,[]),h={name:e,phase:i,callback:o};l.push(h);const g=Or(this._engine.statesByElement,t,{});return g.hasOwnProperty(e)||(Qs(t,Hf),Qs(t,Hf+"-"+e),g[e]=Qf),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers[e]||delete g[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function nv(n){return new c.vHH(3401,Pt)}();return e}trigger(t,e,i,o=!0){const l=this._getTrigger(e),h=new Xf(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(Qs(t,Hf),Qs(t,Hf+"-"+e),this._engine.statesByElement.set(t,g={}));let b=g[e];const E=new Zf(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&E.absorbOptions(b.options),g[e]=E,b||(b=Qf),E.value!==zd&&b.value===E.value){if(!function $I(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(b.params,E.params)){const Te=[],He=l.matchStyles(b.value,b.params,Te),lt=l.matchStyles(E.value,E.params,Te);Te.length?this._engine.reportError(Te):this._engine.afterFlush(()=>{oc(t,He),hs(t,lt)})}return}const j=Or(this._engine.playersByElement,t,[]);j.forEach(Te=>{Te.namespaceId==this.id&&Te.triggerName==e&&Te.queued&&Te.destroy()});let Q=l.matchTransition(b.value,E.value,t,E.params),se=!1;if(!Q){if(!o)return;Q=l.fallbackTransition,se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Q,fromState:b,toState:E,player:h,isFallbackTransition:se}),se||(Qs(t,cc),h.onStart(()=>{Du(t,cc)})),h.onDone(()=>{let Te=this.players.indexOf(h);Te>=0&&this.players.splice(Te,1);const He=this._engine.playersByElement.get(t);if(He){let lt=He.indexOf(h);lt>=0&&He.splice(lt,1)}}),this.players.push(h),j.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,jf,!0);i.forEach(o=>{if(o[Fr])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const l=this._engine.statesByElement.get(t),h=new Map;if(l){const g=[];if(Object.keys(l).forEach(b=>{if(h.set(b,l[b].value),this._triggers[b]){const E=this.trigger(t,b,zd,o);E&&g.push(E)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),i&&hl(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,E=i[h]||Qf,T=new Zf(zd),O=new Xf(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:b,fromState:E,toState:T,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(i.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Fr];(!l||l===sg)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,h=this._elementListeners.get(l);h&&h.forEach(g=>{if(g.name==i.triggerName){const b=Bm(l,i.triggerName,i.fromState.value,i.toState.value);b._data=t,Nf(i.player,g.phase,b,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class wv{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new MD(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement,l=i.length-1;if(l>=0){let h=!1;if(void 0!==this.driver.getParentElement){let g=this.driver.getParentElement(e);for(;g;){const b=o.get(g);if(b){const E=i.indexOf(b);i.splice(E+1,0,t),h=!0;break}g=this.driver.getParentElement(g)}}else for(let g=l;g>=0;g--)if(this.driver.containsElement(i[g].hostElement,e)){i.splice(g+1,0,t),h=!0;break}h||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const o=Object.keys(i);for(let l=0;l<o.length;l++){const h=i[o[l]].namespaceId;if(h){const g=this._fetchNamespace(h);g&&e.add(g)}}}return e}trigger(t,e,i,o){if($d(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!$d(e))return;const l=e[Fr];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qs(t,Kf)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Du(t,Kf))}removeNode(t,e,i,o){if($d(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),i){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,i,o,l){this.collectedLeaveElements.push(e),e[Fr]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,o,l){return $d(e)?this._fetchNamespace(t).listen(e,i,o,l):()=>{}}_buildInstruction(t,e,i,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,jf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Fd,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Fr];if(i&&i.setForRemoval){if(t[Fr]=sg,i.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Kf))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?hl(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function iv(n){return new c.vHH(3402,Pt)}()}_flushAnimations(t,e){const i=new jd,o=[],l=new Map,h=[],g=new Map,b=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(Xe=>{T.add(Xe);const dt=this.driver.query(Xe,".ng-animate-queued",!0);for(let gt=0;gt<dt.length;gt++)T.add(dt[gt])});const O=this.bodyNode,j=Array.from(this.statesByElement.keys()),Q=Mv(j,this.collectedEnterElements),se=new Map;let Te=0;Q.forEach((Xe,dt)=>{const gt=Ks+Te++;se.set(dt,gt),Xe.forEach(Kt=>Qs(Kt,gt))});const He=[],lt=new Set,Ct=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const dt=this.collectedLeaveElements[Xe],gt=dt[Fr];gt&&gt.setForRemoval&&(He.push(dt),lt.add(dt),gt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Kt=>lt.add(Kt)):Ct.add(dt))}const Ht=new Map,_t=Mv(j,Array.from(lt));_t.forEach((Xe,dt)=>{const gt=sc+Te++;Ht.set(dt,gt),Xe.forEach(Kt=>Qs(Kt,gt))}),t.push(()=>{Q.forEach((Xe,dt)=>{const gt=se.get(dt);Xe.forEach(Kt=>Du(Kt,gt))}),_t.forEach((Xe,dt)=>{const gt=Ht.get(dt);Xe.forEach(Kt=>Du(Kt,gt))}),He.forEach(Xe=>{this.processLeaveNode(Xe)})});const Ei=[],Bi=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(gt=>{const Kt=gt.player,Hi=gt.element;if(Ei.push(Kt),this.collectedEnterElements.length){const Gr=Hi[Fr];if(Gr&&Gr.setForMove){if(Gr.previousTriggersValues&&Gr.previousTriggersValues.has(gt.triggerName)){const Hh=Gr.previousTriggersValues.get(gt.triggerName),td=this.statesByElement.get(gt.element);td&&td[gt.triggerName]&&(td[gt.triggerName].value=Hh)}return void Kt.destroy()}}const Sl=!O||!this.driver.containsElement(O,Hi),ao=Ht.get(Hi),ed=se.get(Hi),Bn=this._buildInstruction(gt,i,ed,ao,Sl);if(Bn.errors&&Bn.errors.length)return void Bi.push(Bn);if(Sl)return Kt.onStart(()=>oc(Hi,Bn.fromStyles)),Kt.onDestroy(()=>hs(Hi,Bn.toStyles)),void o.push(Kt);if(gt.isFallbackTransition)return Kt.onStart(()=>oc(Hi,Bn.fromStyles)),Kt.onDestroy(()=>hs(Hi,Bn.toStyles)),void o.push(Kt);const Tx=[];Bn.timelines.forEach(Gr=>{Gr.stretchStartingKeyframe=!0,this.disabledNodes.has(Gr.element)||Tx.push(Gr)}),Bn.timelines=Tx,i.append(Hi,Bn.timelines),h.push({instruction:Bn,player:Kt,element:Hi}),Bn.queriedElements.forEach(Gr=>Or(g,Gr,[]).push(Kt)),Bn.preStyleProps.forEach((Gr,Hh)=>{const td=Object.keys(Gr);if(td.length){let jh=b.get(Hh);jh||b.set(Hh,jh=new Set),td.forEach(aI=>jh.add(aI))}}),Bn.postStyleProps.forEach((Gr,Hh)=>{const td=Object.keys(Gr);let jh=E.get(Hh);jh||E.set(Hh,jh=new Set),td.forEach(aI=>jh.add(aI))})});if(Bi.length){const Xe=[];Bi.forEach(dt=>{Xe.push(function No(n,t){return new c.vHH(3505,Pt)}())}),Ei.forEach(dt=>dt.destroy()),this.reportError(Xe)}const Ur=new Map,Mc=new Map;h.forEach(Xe=>{const dt=Xe.element;i.has(dt)&&(Mc.set(dt,dt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,Ur))}),o.forEach(Xe=>{const dt=Xe.element;this._getPreviousPlayers(dt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Kt=>{Or(Ur,dt,[]).push(Kt),Kt.destroy()})});const Ic=He.filter(Xe=>TD(Xe,b,E)),Sc=new Map;Ev(Sc,this.driver,Ct,E,qs).forEach(Xe=>{TD(Xe,b,E)&&Ic.push(Xe)});const oy=new Map;Q.forEach((Xe,dt)=>{Ev(oy,this.driver,new Set(Xe),b,"!")}),Ic.forEach(Xe=>{const dt=Sc.get(Xe),gt=oy.get(Xe);Sc.set(Xe,Object.assign(Object.assign({},dt),gt))});const Bh=[],Sx=[],Ax={};h.forEach(Xe=>{const{element:dt,player:gt,instruction:Kt}=Xe;if(i.has(dt)){if(T.has(dt))return gt.onDestroy(()=>hs(dt,Kt.toStyles)),gt.disabled=!0,gt.overrideTotalTime(Kt.totalTime),void o.push(gt);let Hi=Ax;if(Mc.size>1){let ao=dt;const ed=[];for(;ao=ao.parentNode;){const Bn=Mc.get(ao);if(Bn){Hi=Bn;break}ed.push(ao)}ed.forEach(Bn=>Mc.set(Bn,Hi))}const Sl=this._buildAnimation(gt.namespaceId,Kt,Ur,l,oy,Sc);if(gt.setRealPlayer(Sl),Hi===Ax)Bh.push(gt);else{const ao=this.playersByElement.get(Hi);ao&&ao.length&&(gt.parentPlayer=hl(ao)),o.push(gt)}}else oc(dt,Kt.fromStyles),gt.onDestroy(()=>hs(dt,Kt.toStyles)),Sx.push(gt),T.has(dt)&&o.push(gt)}),Sx.forEach(Xe=>{const dt=l.get(Xe.element);if(dt&&dt.length){const gt=hl(dt);Xe.setRealPlayer(gt)}}),o.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<He.length;Xe++){const dt=He[Xe],gt=dt[Fr];if(Du(dt,sc),gt&&gt.hasAnimation)continue;let Kt=[];if(g.size){let Sl=g.get(dt);Sl&&Sl.length&&Kt.push(...Sl);let ao=this.driver.query(dt,Fd,!0);for(let ed=0;ed<ao.length;ed++){let Bn=g.get(ao[ed]);Bn&&Bn.length&&Kt.push(...Bn)}}const Hi=Kt.filter(Sl=>!Sl.destroyed);Hi.length?ag(this,dt,Hi):this.processLeaveNode(dt)}return He.length=0,Bh.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const dt=this.players.indexOf(Xe);this.players.splice(dt,1)}),Xe.play()}),Bh}elementContainsData(t,e){let i=!1;const o=e[Fr];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,l){let h=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(h=g)}else{const g=this.playersByElement.get(t);if(g){const b=!l||l==zd;g.forEach(E=>{E.queued||!b&&E.triggerName!=o||h.push(E)})}}return(i||o)&&(h=h.filter(g=>!(i&&i!=g.namespaceId||o&&o!=g.triggerName))),h}_beforeAnimationBuild(t,e,i){const l=e.element,h=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const E=b.element,T=E!==l,O=Or(i,E,[]);this._getPreviousPlayers(E,T,h,g,e.toState).forEach(Q=>{const se=Q.getRealPlayer();se.beforeDestroy&&se.beforeDestroy(),Q.destroy(),O.push(Q)})}oc(l,e.fromStyles)}_buildAnimation(t,e,i,o,l,h){const g=e.triggerName,b=e.element,E=[],T=new Set,O=new Set,j=e.timelines.map(se=>{const Te=se.element;T.add(Te);const He=Te[Fr];if(He&&He.removedBeforeQueried)return new Fo(se.duration,se.delay);const lt=Te!==b,Ct=function lg(n){const t=[];return Iv(n,t),t}((i.get(Te)||Cv).map(Ur=>Ur.getRealPlayer())).filter(Ur=>!!Ur.element&&Ur.element===Te),Ht=l.get(Te),_t=h.get(Te),Ei=uD(0,this._normalizer,0,se.keyframes,Ht,_t),Bi=this._buildPlayer(se,Ei,Ct);if(se.subTimeline&&o&&O.add(Te),lt){const Ur=new Xf(t,g,Te);Ur.setRealPlayer(Bi),E.push(Ur)}return Bi});E.forEach(se=>{Or(this.playersByQueriedElement,se.element,[]).push(se),se.onDone(()=>function ID(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,se.element,se))}),T.forEach(se=>Qs(se,fD));const Q=hl(j);return Q.onDestroy(()=>{T.forEach(se=>Du(se,fD)),hs(b,e.toStyles)}),O.forEach(se=>{Or(o,se,[]).push(Q)}),Q}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Fo(t.duration,t.delay)}}class Xf{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Fo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Nf(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Or(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $d(n){return n&&1===n.nodeType}function og(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Ev(n,t,e,i,o){const l=[];e.forEach(b=>l.push(og(b)));const h=[];i.forEach((b,E)=>{const T={};b.forEach(O=>{const j=T[O]=t.computeStyle(E,O,o);(!j||0==j.length)&&(E[Fr]=Dv,h.push(E))}),n.set(E,T)});let g=0;return e.forEach(b=>og(b,l[g++])),h}function Mv(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const o=new Set(t),l=new Map;function h(g){if(!g)return 1;let b=l.get(g);if(b)return b;const E=g.parentNode;return b=e.has(E)?E:o.has(E)?1:h(E),l.set(g,b),b}return t.forEach(g=>{const b=h(g);1!==b&&e.get(b).push(g)}),e}function Qs(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Du(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function ag(n,t,e){hl(e).onDone(()=>n.processLeaveNode(t))}function Iv(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof du?Iv(i.players,t):t.push(i)}}function TD(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(l=>o.add(l)):t.set(n,i),e.delete(n),!0}class cg{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new wv(t,e,i),this._timelineEngine=new bu(t,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,i,o,l){const h=t+"-"+o;let g=this._triggerCache[h];if(!g){const b=[],T=Zm(this._driver,l,b,[]);if(b.length)throw function Jy(n,t){return new c.vHH(3404,Pt)}();g=function gu(n,t,e){return new _u(n,t,e)}(o,T,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(e,o,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i,o){this._transitionEngine.removeNode(t,e,o||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[l,h]=Lf(i);this._timelineEngine.command(l,e,h,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,l){if("@"==i.charAt(0)){const[h,g]=Lf(i);return this._timelineEngine.listen(h,e,g,l)}return this._transitionEngine.listen(t,e,i,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Sv=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&hs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hs(this._element,this._initialStyles),this._endStyles&&(hs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(oc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oc(this._element,this._endStyles),this._endStyles=null),hs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Av(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const o=e[i];xD(o)&&(t=t||{},t[o]=n[o])}return t}function xD(n){return"display"===n||"position"===n}class uc{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:zf(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RD{validateStyleProperty(t){return dD(t)}matchesElement(t,e){return!1}containsElement(t,e){return Vf(t,e)}getParentElement(t){return Pd(t)}query(t,e,i){return hD(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,l,h=[]){const b={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(b.easing=l);const E={},T=h.filter(j=>j instanceof uc);(function gD(n,t){return 0===n||0===t})(i,o)&&T.forEach(j=>{let Q=j.currentSnapshot;Object.keys(Q).forEach(se=>E[se]=Q[se])}),e=function _D(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],h=[];if(i.forEach(g=>{l.hasOwnProperty(g)||h.push(g),l[g]=e[g]}),h.length)for(var o=1;o<t.length;o++){let g=t[o];h.forEach(function(b){g[b]=zf(n,b)})}}return t}(t,e=e.map(j=>wa(j,!1)),E);const O=function kD(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Av(t[0]),t.length>1&&(i=Av(t[t.length-1]))):t&&(e=Av(t)),e||i?new Sv(n,e,i):null}(t,e);return new uc(t,e,b,O)}}let Tv=(()=>{class n extends Wy{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?ba(e):e;return Wd(this._renderer,null,i,"register",[o]),new OD(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class OD extends class Yy{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kv(this._id,t,e||{},this._renderer)}}class kv{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Wd(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Wd(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const ug="@.disabled";let PD=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,h)=>{const g=null==h?void 0:h.parentNode(l);g&&h.removeChild(g,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(l);return T||(T=new xv("",l,this.engine),this._rendererCache.set(l,T)),T}const h=i.id,g=i.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const b=T=>{Array.isArray(T)?T.forEach(b):this.engine.registerTrigger(h,g,e,T.name,T)};return i.data.animation.forEach(b),new FD(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,g]=l;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(cg),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xv{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==ug?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class FD extends xv{constructor(t,e,i,o){super(e,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ug?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function ND(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function LD(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(t,e,i)}}let Rv=(()=>{class n extends cg{constructor(e,i,o){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(Bf),c.LFG(ig))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new c.OlP("AnimationModuleType"),ep=[{provide:Wy,useClass:Tv},{provide:ig,useFactory:function VD(){return new Lo}},{provide:cg,useClass:Rv},{provide:c.FYo,useFactory:function Ov(n,t,e){return new PD(n,t,e)},deps:[Ss,cg,c.R0b]}],BD=[{provide:Bf,useFactory:()=>new RD},{provide:Xs,useValue:"BrowserAnimations"},...ep],dg=[{provide:Bf,useClass:Gm},{provide:Xs,useValue:"NoopAnimations"},...ep];let HD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?dg:BD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:BD,imports:[go]}),n})(),qd=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),np=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const UD=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function YI(){return!0}});let Nt=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Qc()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(va),c.LFG(UD,8),c.LFG(ne))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Pi],Pi]}),n})();function wu(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Xt(t)}}}function Eu(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Kd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Xt(t)}}}let Hv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jv{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JD={enterDuration:225,exitDuration:150},pg=dr({passive:!0}),mg=["mousedown","touchstart"],Uv=["mouseup","mouseleave","touchend","touchcancel"];class ri{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=zn(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},JD),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const h=i.radius||function tw(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),g=t-o.left,b=e-o.top,E=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=g-h+"px",T.style.top=b-h+"px",T.style.height=2*h+"px",T.style.width=2*h+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(T),function Gv(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const O=new jv(this,T,i);return O.state=0,this._activeRipples.add(O),i.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const j=O===this._mostRecentTransientRipple;O.state=1,!i.persistent&&(!j||!this._isPointerDown)&&O.fadeOut()},E),O}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,o=Object.assign(Object.assign({},JD),t.config.animation);i.style.transitionDuration=`${o.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=zn(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(mg))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Uv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Gy(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Am(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,pg)})})}_removeTriggerEvents(){this._triggerElement&&(mg.forEach(t=>{this._triggerElement.removeEventListener(t,this,pg)}),this._pointerUpEventsRegistered&&Uv.forEach(t=>{this._triggerElement.removeEventListener(t,this,pg)}))}}const nw=new c.OlP("mat-ripple-global-options");let dc=(()=>{class n{constructor(e,i,o,l,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new ri(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36($n),c.Y36(nw,8),c.Y36(Xs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Zd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nt],Nt]}),n})(),zv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nt]]}),n})(),Nr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Zd,Jr,Nt,zv]]}),n})();var Ln=P(6451);const{isArray:Js}=Array,{getPrototypeOf:Wv,prototype:Yv,keys:lw}=Object;function qv(n){if(1===n.length){const t=n[0];if(Js(t))return{args:t,keys:null};if(function cw(n){return n&&"object"==typeof n&&Wv(n)===Yv}(t)){const e=lw(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function Kv(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}var _g=P(9672);function vl(...n){const t=(0,ln.yG)(n),e=(0,ln.jO)(n),{args:i,keys:o}=qv(n);if(0===i.length)return(0,Er.D)([],t);const l=new an.y(function uw(n,t,e=ic.y){return i=>{yg(t,()=>{const{length:o}=n,l=new Array(o);let h=o,g=o;for(let b=0;b<o;b++)yg(t,()=>{const E=(0,Er.D)(n[b],t);let T=!1;E.subscribe((0,tn.x)(i,O=>{l[b]=O,T||(T=!0,g--),g||i.next(e(l.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,o?h=>Kv(o,h):ic.y));return e?l.pipe(Ja(e)):l}function yg(n,t,e){n?(0,_g.f)(e,n,t):t()}const dw=[[["caption"]],[["colgroup"],["col"]]],Zv=["caption","colgroup, col"];let vg=(()=>{class n extends gd{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:vo,useClass:_n},{provide:gd,useExisting:n},{provide:ql,useExisting:n},{provide:xo,useClass:tu},{provide:fa,useValue:null}]),c.qOj],ngContentSelectors:Zv,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(c.F$t(dw),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Oo,Di,Jl,pa],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),rp=(()=>{class n extends ua{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:ua,useExisting:n}]),c.qOj]}),n})(),Xd=(()=>{class n extends Kl{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:Kl,useExisting:n}]),c.qOj]}),n})(),op=(()=>{class n extends pr{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:pr,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})(),ap=(()=>{class n extends ko{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[c.qOj]}),n})(),lp=(()=>{class n extends fd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[c.qOj]}),n})(),bg=(()=>{class n extends rl{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:rl,useExisting:n}]),c.qOj]}),n})(),Cg=(()=>{class n extends iu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:iu,useExisting:n}]),c.qOj]}),n})(),Dg=(()=>{class n extends Ro{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:Ro,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[Fn],encapsulation:2}),n})(),eb=(()=>{class n extends pd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[c._Bn([{provide:pd,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[Fn],encapsulation:2}),n})(),gw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[yd,Nt],Nt]}),n})();class vw extends class yw extends class Kc{}{constructor(t=[]){super(),this._renderData=new Fs([]),this._filter=new Fs(""),this._internalPageChanges=new Ft.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const o=e[i];if(function Ri(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(o)){const l=Number(o);return l<9007199254740991?l:o}return o},this.sortData=(e,i)=>{const o=i.active,l=i.direction;return o&&""!=l?e.sort((h,g)=>{let b=this.sortingDataAccessor(h,o),E=this.sortingDataAccessor(g,o);const T=typeof b,O=typeof E;T!==O&&("number"===T&&(b+=""),"number"===O&&(E+=""));let j=0;return null!=b&&null!=E?b>E?j=1:b<E&&(j=-1):null!=b?j=1:null!=E&&(j=-1),j*("asc"==l?1:-1)}):e},this.filterPredicate=(e,i)=>{const o=Object.keys(e).reduce((h,g)=>h+e[g]+"\u25ec","").toLowerCase(),l=i.trim().toLowerCase();return-1!=o.indexOf(l)},this._data=new Fs(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Ln.T)(this._sort.sortChange,this._sort.initialized):Jt(null),i=this._paginator?(0,Ln.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Jt(null),l=vl([this._data,this._filter]).pipe((0,ht.U)(([b])=>this._filterData(b))),h=vl([l,e]).pipe((0,ht.U)(([b])=>this._orderData(b))),g=vl([h,i]).pipe((0,ht.U)(([b])=>this._pageData(b)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=g.subscribe(b=>this._renderData.next(b))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,i);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}class wg{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Jd extends wg{constructor(t,e,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class cp extends wg{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class tb extends wg{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class eh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Jd?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof cp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof tb?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nb extends eh{constructor(t,e,i,o,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=h=>{const g=h.element,b=this._document.createComment("dom-portal");g.parentNode.insertBefore(b,g),this.outletElement.appendChild(g),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(g,b)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let th=(()=>{class n extends eh{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=l=>{const h=l.element,g=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(g,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(ne))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),Su=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const bl=cn();class Mw{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=gn(-this._previousScrollPosition.left),t.style.top=gn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,l=i.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),bl&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bl&&(i.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Au{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Iw{enable(){}disable(){}attach(){}}function nh(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Sw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class rb{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();nh(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sb=(()=>{class n{constructor(e,i,o,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new Iw,this.close=h=>new Au(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new Mw(this._viewportRuler,this._document),this.reposition=h=>new rb(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ao),c.LFG(kr),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Eg{constructor(t){if(this.scrollStrategy=new Iw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Aw{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class Tw{constructor(t,e,i,o,l,h,g,b,E){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=g,this._location=b,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new Ft.x,this._attachments=new Ft.x,this._detachments=new Ft.x,this._locationChanges=hr.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Ft.x,this._outsidePointerEvents=new Ft.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,rn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=gn(this._config.width),t.height=gn(this._config.height),t.minWidth=gn(this._config.minWidth),t.minHeight=gn(this._config.minHeight),t.maxWidth=gn(this._config.maxWidth),t.maxHeight=gn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const o=$i(e||[]).filter(l=>!!l);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ti((0,Ln.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Tu=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Qc()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(e),Qc()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG($n))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ih="cdk-overlay-connected-position-bounding-box",kn=/([A-Za-z%]+)$/;class cS{constructor(t,e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ft.x,this._resizeSubscription=hr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ih),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,l=[];let h;for(let g of this._preferredPositions){let b=this._getOriginPoint(t,o,g),E=this._getOverlayPoint(b,e,g),T=this._getOverlayFit(E,e,i,g);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,b);this._canFitWithFlexibleDimensions(T,E,i)?l.push({position:g,origin:b,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(b,g)}):(!h||h.overlayFit.visibleArea<T.visibleArea)&&(h={overlayFit:T,overlayPoint:E,originPoint:b,position:g,overlayRect:e})}if(l.length){let g=null,b=-1;for(const E of l){const T=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);T>b&&(b=T,g=E)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ih),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,l;if("center"==i.originX)o=t.left+t.width/2;else{const h=this._isRtl()?t.right:t.left,g=this._isRtl()?t.left:t.right;o="start"==i.originX?h:g}return e.left<0&&(o-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:o,y:l}}_getOverlayPoint(t,e,i){let o,l;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+l}}_getOverlayFit(t,e,i,o){const l=ab(e);let{x:h,y:g}=t,b=this._getOffset(o,"x"),E=this._getOffset(o,"y");b&&(h+=b),E&&(g+=E);let j=0-g,Q=g+l.height-i.height,se=this._subtractOverflows(l.width,0-h,h+l.width-i.width),Te=this._subtractOverflows(l.height,j,Q),He=se*Te;return{visibleArea:He,isCompletelyWithinViewport:l.width*l.height===He,fitsInViewportVertically:Te===l.height,fitsInViewportHorizontally:se==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,l=i.right-e.x,h=ob(this._overlayRef.getConfig().minHeight),g=ob(this._overlayRef.getConfig().minWidth),E=t.fitsInViewportHorizontally||null!=g&&g<=l;return(t.fitsInViewportVertically||null!=h&&h<=o)&&E}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=ab(e),l=this._viewportRect,h=Math.max(t.x+o.width-l.width,0),g=Math.max(t.y+o.height-l.height,0),b=Math.max(l.top-i.top-t.y,0),E=Math.max(l.left-i.left-t.x,0);let T=0,O=0;return T=o.width<=l.width?E||-h:t.x<this._viewportMargin?l.left-i.left-t.x:0,O=o.height<=l.height?b||-g:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:T,y:O},{x:t.x+T,y:t.y+O}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new Aw(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let l,h,g,T,O,j;if("top"===e.overlayY)h=t.y,l=i.height-h+this._viewportMargin;else if("bottom"===e.overlayY)g=i.height-t.y+2*this._viewportMargin,l=i.height-g+this._viewportMargin;else{const Q=Math.min(i.bottom-t.y+i.top,t.y),se=this._lastBoundingBoxSize.height;l=2*Q,h=t.y-Q,l>se&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.y-se/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)j=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)O=t.x,T=i.right-t.x;else{const Q=Math.min(i.right-t.x+i.left,t.x),se=this._lastBoundingBoxSize.width;T=2*Q,O=t.x-Q,T>se&&!this._isInitialRender&&!this._growAfterOpen&&(O=t.x-se/2)}return{top:h,left:O,bottom:g,right:j,width:T,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=gn(i.height),o.top=gn(i.top),o.bottom=gn(i.bottom),o.width=gn(i.width),o.left=gn(i.left),o.right=gn(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=gn(l)),h&&(o.maxWidth=gn(h))}this._lastBoundingBoxSize=i,Cl(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Cl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const T=this._viewportRuler.getViewportScrollPosition();Cl(i,this._getExactOverlayY(e,t,T)),Cl(i,this._getExactOverlayX(e,t,T))}else i.position="static";let g="",b=this._getOffset(e,"x"),E=this._getOffset(e,"y");b&&(g+=`translateX(${b}px) `),E&&(g+=`translateY(${E}px)`),i.transform=g.trim(),h.maxHeight&&(o?i.maxHeight=gn(h.maxHeight):l&&(i.maxHeight="")),h.maxWidth&&(o?i.maxWidth=gn(h.maxWidth):l&&(i.maxWidth="")),Cl(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=gn(l.y),o}_getExactOverlayX(t,e,i){let h,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),h=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=gn(l.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Sw(t,i),isOriginOutsideView:nh(t,i),isOverlayClipped:Sw(e,i),isOverlayOutsideView:nh(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$i(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Cl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ob(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(kn);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ab(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ig="cdk-global-overlay-wrapper";class lb{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ig),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:g}=i,b=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),E=!("100%"!==l&&"100vh"!==l||g&&"100%"!==g&&"100vh"!==g);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=E?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Ig),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let cb=(()=>{class n{constructor(e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new lb}flexibleConnectedTo(e){return new cS(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(kr),c.LFG(ne),c.LFG($n),c.LFG(Tu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sg=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kw=(()=>{class n extends Sg{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let h=l.length-1;h>-1;h--)if(l[h]._keydownEvents.observers.length>0){const g=l[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xw=(()=>{class n extends Sg{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Hs(l)},this._clickListener=l=>{const h=Hs(l),g="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let E=b.length-1;E>-1;E--){const T=b[E];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(h)||T.overlayElement.contains(g))break;const O=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(l)):O.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG($n),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rw=0,Lr=(()=>{class n{constructor(e,i,o,l,h,g,b,E,T,O,j){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=g,this._ngZone=b,this._document=E,this._directionality=T,this._location=O,this._outsideClickDispatcher=j}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),h=new Eg(e);return h.direction=h.direction||this._directionality.value,new Tw(l,i,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Rw++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new nb(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(sb),c.LFG(Tu),c.LFG(c._Vd),c.LFG(cb),c.LFG(kw),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ne),c.LFG(Wi),c.LFG(De),c.LFG(xw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const db={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Lr],useFactory:function ub(n){return()=>n.scrollStrategies.reposition()}};let ku=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Lr,db],imports:[[Pi,Su,$l],$l]}),n})();var rh=P(8189);function up(...n){return function sh(){return(0,rh.J)(1)}()((0,Er.D)(n,(0,ln.yG)(n)))}function Tg(...n){const t=(0,ln.yG)(n);return(0,In.e)((e,i)=>{(t?up(n,e,t):up(n,e)).subscribe(i)})}const kg=new Set;let hc,hb=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fb}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Pw(n){if(!kg.has(n))try{hc||(hc=document.createElement("style"),hc.setAttribute("type","text/css"),document.head.appendChild(hc)),hc.sheet&&(hc.sheet.insertRule(`@media ${n} {body{ }}`,0),kg.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($n))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fb(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Fw=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ft.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pb($i(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=vl(pb($i(e)).map(h=>this._registerQuery(h).observable));return l=up(l.pipe((0,rn.q)(1)),l.pipe(wm(1),function Mm(n,t=w.z){return(0,In.e)((e,i)=>{let o=null,l=null,h=null;const g=()=>{if(o){o.unsubscribe(),o=null;const E=l;l=null,i.next(E)}};function b(){const E=h+n,T=t.now();if(T<E)return o=this.schedule(void 0,E-T),void i.add(o);g()}e.subscribe((0,tn.x)(i,E=>{l=E,h=t.now(),o||(o=t.schedule(b,n),i.add(o))},()=>{g(),i.complete()},void 0,()=>{l=o=null}))})}(0))),l.pipe((0,ht.U)(h=>{const g={matches:!1,breakpoints:{}};return h.forEach(({matches:b,query:E})=>{g.matches=g.matches||b,g.breakpoints[E]=b}),g}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new an.y(h=>{const g=b=>this._zone.run(()=>h.next(b));return i.addListener(g),()=>{i.removeListener(g)}}).pipe(Tg(i),(0,ht.U)(({matches:h})=>({query:e,matches:h})),ti(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hb),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pb(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const oh_Medium="(min-width: 960px) and (max-width: 1279.98px)",oh_Large="(min-width: 1280px) and (max-width: 1919.98px)";function pS(n,t){}const mS={bottomSheetState:ul("state",[Po("void, hidden",An({transform:"translateY(100%)"})),Po("visible",An({transform:"translateY(0%)"})),ds("visible => void, visible => hidden",Rf([xr(`${np.COMPLEX} ${qd.ACCELERATION_CURVE}`),Ca("@*",kd(),{optional:!0})])),ds("void => visible",Rf([xr(`${np.EXITING} ${qd.DECELERATION_CURVE}`),Ca("@*",kd(),{optional:!0})]))])},Nw=new c.OlP("MatBottomSheetData");class dp{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let hp=(()=>{class n extends eh{constructor(e,i,o,l,h,g,b,E){super(),this._elementRef=e,this._changeDetectorRef=i,this._focusTrapFactory=o,this._interactivityChecker=l,this._ngZone=h,this.bottomSheetConfig=E,this._animationState="void",this._animationStateChanged=new c.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=T=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(T)),this._document=b,this._breakpointSubscription=g.observe([oh_Medium,oh_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",g.isMatched(oh_Medium)),this._toggleClass("mat-bottom-sheet-container-large",g.isMatched(oh_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",g.isMatched("(min-width: 1920px)"))})}attachComponentPortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"hidden"===e.toState?this._restoreFocus():"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_toggleClass(e,i){this._elementRef.nativeElement.classList.toggle(e,i)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...$i(this.bottomSheetConfig.panelClass||[]))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const i=Bs();i!==e&&!e.contains(i)&&e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&e&&"function"==typeof e.focus){const i=Bs(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&e.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=Bs(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(xf),c.Y36(uu),c.Y36(c.R0b),c.Y36(Fw),c.Y36(ne,8),c.Y36(dp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(e,i){if(1&e&&c.Gf(th,7),2&e){let o;c.iGM(o=c.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(e,i){1&e&&c.WFA("@state.start",function(l){return i._onAnimationStart(l)})("@state.done",function(l){return i._onAnimationDone(l)}),2&e&&(c.uIk("aria-label",null==i.bottomSheetConfig?null:i.bottomSheetConfig.ariaLabel),c.d8E("@state",i._animationState))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,pS,0,0,"ng-template",0)},directives:[th],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[mS.bottomSheetState]}}),n})(),mb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ku,Nt,Su],Nt]}),n})();class gb{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ft.x,this._afterOpened=new Ft.x,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Ce(i=>"done"===i.phaseName&&"visible"===i.toState),(0,rn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Ce(i=>"done"===i.phaseName&&"hidden"===i.toState),(0,rn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe((0,rn.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,Ln.T)(e.backdropClick(),e.keydownEvents().pipe(Ce(i=>27===i.keyCode))).subscribe(i=>{!this.disableClose&&("keydown"!==i.type||!cu(i))&&(i.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Ce(e=>"start"===e.phaseName),(0,rn.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const _b=new c.OlP("mat-bottom-sheet-default-options");let ah=(()=>{class n{constructor(e,i,o,l){this._overlay=e,this._injector=i,this._parentBottomSheet=o,this._defaultOptions=l,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,i){const o=function Lw(n,t){return Object.assign(Object.assign({},n),t)}(this._defaultOptions||new dp,i),l=this._createOverlay(o),h=this._attachContainer(l,o),g=new gb(h,l);if(e instanceof c.Rgc)h.attachTemplatePortal(new cp(e,null,{$implicit:o.data,bottomSheetRef:g}));else{const b=new Jd(e,void 0,this._createInjector(o,g)),E=h.attachComponentPortal(b);g.instance=E.instance}return g.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==g&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>g.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):g.containerInstance.enter(),this._openedBottomSheetRef=g,g}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:dp,useValue:i}]}),h=new Jd(hp,i.viewContainerRef,l);return e.attach(h).instance}_createOverlay(e){const i=new Eg({direction:e.direction,hasBackdrop:e.hasBackdrop,disposeOnNavigation:e.closeOnNavigation,maxWidth:"100%",scrollStrategy:e.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return e.backdropClass&&(i.backdropClass=e.backdropClass),this._overlay.create(i)}_createInjector(e,i){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:gb,useValue:i},{provide:Nw,useValue:e.data}];return e.direction&&(!o||!o.get(Wi,null,c.XFs.Optional))&&l.push({provide:Wi,useValue:{value:e.direction,change:Jt()}}),c.zs3.create({parent:o||this._injector,providers:l})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Lr),c.LFG(c.zs3),c.LFG(n,12),c.LFG(_b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:mb}),n})();const Vw=["*",[["mat-card-footer"]]],Bw=["*","mat-card-footer"];let xg=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Xs,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Bw,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(Vw),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nt],Nt]}),n})(),Ww=(()=>{class n{constructor(e){this.data=e,this.title="meteo-frontend",this.station=e.stationData}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Nw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-station"]],decls:12,vars:3,consts:[[1,"station-details-container"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"mat-card"),c._uU(2,"Station data"),c.qZA(),c._UZ(3,"br"),c.TgZ(4,"span"),c._uU(5),c.qZA(),c._UZ(6,"br"),c.TgZ(7,"span"),c._uU(8),c.qZA(),c._UZ(9,"br"),c.TgZ(10,"span"),c._uU(11),c.qZA()()),2&e&&(c.xp6(5),c.hij("Location: ",i.station.Location," "),c.xp6(3),c.hij("Name: ",i.station.Name," "),c.xp6(3),c.hij("Owner: ",i.station.Owner," "))},directives:[xg],styles:[".station-details-container[_ngcontent-%COMP%]{text-align:center;height:calc(100vh - 400px)}.station-details-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function Yw(n,t){}class pp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const qw={dialogContainer:ul("dialogContainer",[Po("void, exit",An({opacity:0,transform:"scale(0.7)"})),Po("enter",An({transform:"none"})),ds("* => enter",Rf([xr("150ms cubic-bezier(0, 0, 0.2, 1)",An({transform:"none",opacity:1})),Ca("@*",kd(),{optional:!0})])),ds("* => void, * => exit",Rf([xr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",An({opacity:0})),Ca("@*",kd(),{optional:!0})]))])};let Kw=(()=>{class n extends eh{constructor(e,i,o,l,h,g,b,E){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=o,this._config=h,this._interactivityChecker=g,this._ngZone=b,this._focusMonitor=E,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Bs())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Bs(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Bs();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(xf),c.Y36(c.sBO),c.Y36(ne,8),c.Y36(pp),c.Y36(uu),c.Y36(c.R0b),c.Y36(Td))},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&c.Gf(th,7),2&e){let o;c.iGM(o=c.CRH())&&(i._portalOutlet=o.first)}},features:[c.qOj]}),n})(),Zw=(()=>{class n extends Kw{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&c.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(c.Ikx("id",i._id),c.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,Yw,0,0,"ng-template",0)},directives:[th],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[qw.dialogContainer]}}),n})(),Qw=0;class Xw{constructor(t,e,i="mat-dialog-"+Qw++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ft.x,this._afterClosed=new Ft.x,this._beforeClosed=new Ft.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Ce(o=>"opened"===o.state),(0,rn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ce(o=>"closed"===o.state),(0,rn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ce(o=>27===o.keyCode&&!this.disableClose&&!cu(o))).subscribe(o=>{o.preventDefault(),vb(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():vb(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ce(e=>"closing"===e.state),(0,rn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function vb(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const bb=new c.OlP("MatDialogData"),Cb=new c.OlP("mat-dialog-default-options"),Rg=new c.OlP("mat-dialog-scroll-strategy"),Db={provide:Rg,deps:[Lr],useFactory:function Jw(n){return()=>n.scrollStrategies.block()}};let eE=(()=>{class n{constructor(e,i,o,l,h,g,b,E,T,O){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=b,this._dialogContainerType=E,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ft.x,this._afterOpenedAtThisLevel=new Ft.x,this._ariaHiddenElements=new Map,this.afterAllClosed=function fp(n){return new an.y(t=>{(0,Oi.Xf)(n()).subscribe(t)})}(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tg(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function tE(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new pp),i.id&&this.getDialogById(i.id);const o=this._createOverlay(i),l=this._attachDialogContainer(o,i),h=this._attachDialogContent(e,l,o,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Eg({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:pp,useValue:i}]}),h=new Jd(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,o,l){const h=new this._dialogRefConstructor(o,i,l.id);if(e instanceof c.Rgc)i.attachTemplatePortal(new cp(e,null,{$implicit:l.data,dialogRef:h}));else{const g=this._createInjector(l,h,i),b=i.attachComponentPortal(new Jd(e,l.viewContainerRef,g,l.componentFactoryResolver));h.componentInstance=b.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(e,i,o){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(Wi,null,c.XFs.Optional))&&h.push({provide:Wi,useValue:{value:e.direction,change:Jt()}}),c.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let l=i[o];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n}),n})(),wb=(()=>{class n extends eE{constructor(e,i,o,l,h,g,b,E){super(e,i,l,g,b,h,Xw,Zw,bb,E)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Lr),c.LFG(c.zs3),c.LFG(De,8),c.LFG(Cb,8),c.LFG(Rg),c.LFG(n,12),c.LFG(Tu),c.LFG(Xs,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Og=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[wb,Db],imports:[[ku,Su,Nt],Nt]}),n})();const Sb_firebase={apiKey:"AIzaSyDXlXq6xU82eGDxZef075_szRNDHyx-lbs",authDomain:"weatherapp-546e3.firebaseapp.com",databaseURL:"https://weatherapp-546e3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"weatherapp-546e3",storageBucket:"weatherapp-546e3.appspot.com",messagingSenderId:"860633158016",appId:"1:860633158016:web:b642228eb2b8a45f9cf165",measurementId:"G-VB270R266Y"};class Tb{}class Pg{}class Ma{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ma?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ma;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ma?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let h=this.headers.get(e);if(!h)return;h=h.filter(g=>-1===l.indexOf(g)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class kb{encodeKey(t){return xb(t)}encodeValue(t){return xb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iE=/%(\d[a-f0-9])/gi,mp={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xb(n){return encodeURIComponent(n).replace(iE,(t,e)=>{var i;return null!==(i=mp[e])&&void 0!==i?i:t})}function fc(n){return`${n}`}class fs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new kb,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kS(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,g]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],b=e.get(h)||[];b.push(g),e.set(h,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fs({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(fc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(fc(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class RS{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ob(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Pb(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Fb(n){return"undefined"!=typeof FormData&&n instanceof FormData}class xu{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Rb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ma),this.context||(this.context=new RS),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+h}}else this.params=new fs,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ob(this.body)||Pb(this.body)||Fb(this.body)||function rE(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fb(this.body)?null:Pb(this.body)?this.body.type||null:Ob(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,h=void 0!==t.body?t.body:this.body,g=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let E=t.headers||this.headers,T=t.params||this.params;const O=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(E=Object.keys(t.setHeaders).reduce((j,Q)=>j.set(Q,t.setHeaders[Q]),E)),t.setParams&&(T=Object.keys(t.setParams).reduce((j,Q)=>j.set(Q,t.setParams[Q]),T)),new xu(i,o,h,{params:T,headers:E,context:O,reportProgress:b,responseType:l,withCredentials:g})}}var Vn=(()=>((Vn=Vn||{})[Vn.Sent=0]="Sent",Vn[Vn.UploadProgress=1]="UploadProgress",Vn[Vn.ResponseHeader=2]="ResponseHeader",Vn[Vn.DownloadProgress=3]="DownloadProgress",Vn[Vn.Response=4]="Response",Vn[Vn.User=5]="User",Vn))();class ch{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ma,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ru extends ch{constructor(t={}){super(t),this.type=Vn.ResponseHeader}clone(t={}){return new Ru({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Dl extends ch{constructor(t={}){super(t),this.type=Vn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Dl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nb extends ch{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function gp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let uh=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof xu)l=e;else{let b,E;b=o.headers instanceof Ma?o.headers:new Ma(o.headers),o.params&&(E=o.params instanceof fs?o.params:new fs({fromObject:o.params})),l=new xu(e,i,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:E,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Jt(l).pipe(function Ab(n,t){return(0,Pn.m)(t)?(0,os.z)(n,t,1):(0,os.z)(n,1)}(b=>this.handler.handle(b)));if(e instanceof xu||"events"===o.observe)return h;const g=h.pipe(Ce(b=>b instanceof Dl));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return g.pipe((0,ht.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return g.pipe((0,ht.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return g.pipe((0,ht.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return g.pipe((0,ht.U)(b=>b.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new fs).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,gp(o,i))}post(e,i,o={}){return this.request("POST",e,gp(o,i))}put(e,i,o={}){return this.request("PUT",e,gp(o,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Tb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Lb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Vb=new c.OlP("HTTP_INTERCEPTORS");let Fg=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Bb=/^\)\]\}',?\n/;let oE=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new an.y(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((Q,se)=>o.setRequestHeader(Q,se.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Q=e.detectContentTypeHeader();null!==Q&&o.setRequestHeader("Content-Type",Q)}if(e.responseType){const Q=e.responseType.toLowerCase();o.responseType="json"!==Q?Q:"text"}const l=e.serializeBody();let h=null;const g=()=>{if(null!==h)return h;const Q=o.statusText||"OK",se=new Ma(o.getAllResponseHeaders()),Te=function sE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return h=new Ru({headers:se,status:o.status,statusText:Q,url:Te}),h},b=()=>{let{headers:Q,status:se,statusText:Te,url:He}=g(),lt=null;204!==se&&(lt=void 0===o.response?o.responseText:o.response),0===se&&(se=lt?200:0);let Ct=se>=200&&se<300;if("json"===e.responseType&&"string"==typeof lt){const Ht=lt;lt=lt.replace(Bb,"");try{lt=""!==lt?JSON.parse(lt):null}catch(_t){lt=Ht,Ct&&(Ct=!1,lt={error:_t,text:lt})}}Ct?(i.next(new Dl({body:lt,headers:Q,status:se,statusText:Te,url:He||void 0})),i.complete()):i.error(new Nb({error:lt,headers:Q,status:se,statusText:Te,url:He||void 0}))},E=Q=>{const{url:se}=g(),Te=new Nb({error:Q,status:o.status||0,statusText:o.statusText||"Unknown Error",url:se||void 0});i.error(Te)};let T=!1;const O=Q=>{T||(i.next(g()),T=!0);let se={type:Vn.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(se.total=Q.total),"text"===e.responseType&&!!o.responseText&&(se.partialText=o.responseText),i.next(se)},j=Q=>{let se={type:Vn.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(se.total=Q.total),i.next(se)};return o.addEventListener("load",b),o.addEventListener("error",E),o.addEventListener("timeout",E),o.addEventListener("abort",E),e.reportProgress&&(o.addEventListener("progress",O),null!==l&&o.upload&&o.upload.addEventListener("progress",j)),o.send(l),i.next({type:Vn.Sent}),()=>{o.removeEventListener("error",E),o.removeEventListener("abort",E),o.removeEventListener("load",b),o.removeEventListener("timeout",E),e.reportProgress&&(o.removeEventListener("progress",O),null!==l&&o.upload&&o.upload.removeEventListener("progress",j)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yt))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _p=new c.OlP("XSRF_COOKIE_NAME"),Hb=new c.OlP("XSRF_HEADER_NAME");class Ng{}let Lg=(()=>{class n{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=co(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(c.Lbi),c.LFG(_p))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Vg=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ng),c.LFG(Hb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),jb=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Vb,[]);this.chain=i.reduceRight((o,l)=>new Lb(o,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pg),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),aE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Vg,useClass:Fg}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:_p,useValue:e.cookieName}:[],e.headerName?{provide:Hb,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Vg,{provide:Vb,useExisting:Vg,multi:!0},{provide:Ng,useClass:Lg},{provide:_p,useValue:"XSRF-TOKEN"},{provide:Hb,useValue:"X-XSRF-TOKEN"}]}),n})(),lE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uh,{provide:Tb,useClass:jb},oE,{provide:Pg,useExisting:oE}],imports:[[aE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Bg=P(3099);function ps(n,t){return(0,In.e)((e,i)=>{let o=null,l=0,h=!1;const g=()=>h&&!o&&i.complete();e.subscribe((0,tn.x)(i,b=>{null==o||o.unsubscribe();let E=0;const T=l++;(0,Oi.Xf)(n(b,T)).subscribe(o=(0,tn.x)(i,O=>i.next(t?t(b,O,T,E++):O),()=>{o=null,g()}))},()=>{h=!0,g()}))})}function fh(n,t,e,i,o){return(l,h)=>{let g=e,b=t,E=0;l.subscribe((0,tn.x)(h,T=>{const O=E++;b=g?n(b,T,O):(g=!0,T),i&&h.next(b)},o&&(()=>{g&&h.next(b),h.complete()})))}}function Hg(n,t){return(0,In.e)(fh(n,t,arguments.length>=2,!0))}var Vr=P(5813),ms=P(2011),cE=(P(3677),P(3942)),pc=P(4859),mc=P(5861),gc=P(9681),L=P(2090),yp=P(1877);const Ou="@firebase/database";let ph="";function eo(n){ph=n}class uE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class jg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Pu=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new uE(t)}}catch(t){}return new jg},_c=Pu("localStorage"),Ug=Pu("sessionStorage"),Fu=new yp.Yd("@firebase/database"),mh=function(){let n=1;return function(){return n++}}(),gh=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const i=e.digest();return L.US.encodeByteArray(i)},_h=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=_h.apply(null,i):t+="object"==typeof i?(0,L.Pz)(i):i,t+=" "}return t};let yc=null,Gg=!0;const zg=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Fu.logLevel=yp.in.VERBOSE,yc=Fu.log.bind(Fu),t&&Ug.set("logging_enabled",!0)):"function"==typeof n?yc=n:(yc=null,Ug.remove("logging_enabled"))},Wn=function(...n){if(!0===Gg&&(Gg=!1,null===yc&&!0===Ug.get("logging_enabled")&&zg(!0)),yc){const t=_h.apply(null,n);yc(t)}},Nu=function(n){return function(...t){Wn(n,...t)}},$g=function(...n){const t="FIREBASE INTERNAL ERROR: "+_h(...n);Fu.error(t)},Bo=function(...n){const t=`FIREBASE FATAL ERROR: ${_h(...n)}`;throw Fu.error(t),new Error(t)},Ki=function(...n){const t="FIREBASE WARNING: "+_h(...n);Fu.warn(t)},Lu=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},to="[MIN_NAME]",gs="[MAX_NAME]",vc=function(n,t){if(n===t)return 0;if(n===to||t===gs)return-1;if(t===to||n===gs)return 1;{const e=bp(n),i=bp(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},dE=function(n,t){return n===t?0:n<t?-1:1},yh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(t))},Yg=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,L.Pz)(t[i]),e+=":",e+=Yg(n[t[i]]);return e+="}",e},qg=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function Yn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Kg=function(n){(0,L.hu)(!Lu(n),"Invalid JSON number");const i=1023;let o,l,h,g,b;0===n?(l=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=g+i,h=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(l=0,h=Math.round(n/Math.pow(2,-1074))));const E=[];for(b=52;b;b-=1)E.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)E.push(l%2?1:0),l=Math.floor(l/2);E.push(o?1:0),E.reverse();const T=E.join("");let O="";for(b=0;b<64;b+=8){let j=parseInt(T.substr(b,8),2).toString(16);1===j.length&&(j="0"+j),O+=j}return O.toLowerCase()},hE=new RegExp("^-?(0*)\\d{1,10}$"),Zg=-2147483648,vp=2147483647,bp=function(n){if(hE.test(n)){const t=Number(n);if(t>=Zg&&t<=vp)return t}return null},bc=function(n){try{n()}catch(t){setTimeout(()=>{throw Ki("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},si=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Vu{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ki(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pE{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Wn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ki(t)}}let vh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Xg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jg="websocket",e_="long_polling";class Hu{constructor(t,e,i,o,l=!1,h="",g=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_c.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_c.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mE(n,t,e){let i;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===Jg)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==e_)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function t_(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return Yn(e,(l,h)=>{o.push(l+"="+h)}),i+o.join("&")}class Jb{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const n_={},Dp={};function ju(n){const t=n.toString();return n_[t]||(n_[t]=new Jb),n_[t]}class gE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&bc(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ia{constructor(t,e,i,o,l,h,g){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nu(t),this.stats_=ju(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),mE(e,e_,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new gE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new a_((...l)=>{const[h,g,b,E,T]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=g,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[h,g]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Xg.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ia.forceAllow_=!0}static forceDisallow(){Ia.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Ia.forceAllow_&&(Ia.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,L.h$)(e),o=qg(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class a_{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=mh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=a_.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){Wn("frame writing exception"),g.stack&&Wn(g.stack),Wn(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Wn("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Wn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Ch=null;"undefined"!=typeof MozWebSocket?Ch=MozWebSocket:"undefined"!=typeof WebSocket&&(Ch=WebSocket);let Dh=(()=>{class n{constructor(e,i,o,l,h,g,b){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nu(this.connId),this.stats_=ju(i),this.connURL=n.connectionURL_(i,g,b,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l,h){const g={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&Xg.test(location.hostname)&&(g.r="f"),i&&(g.s=i),o&&(g.ls=o),l&&(g.ac=l),h&&(g.p=h),mE(e,Jg,g)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_c.set("previous_websocket_failure",!0);try{let o;if((0,L.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${ph}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,b=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;b&&(h.proxy={origin:b})}this.mySock=new Ch(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Ch&&!n.forceDisallow_}static previouslyFailed(){return _c.isInMemoryStorage||!0===_c.get("previous_websocket_failure")}markConnectionHealthy(){_c.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,L.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,L.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=qg(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),DE=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ia,Dh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Dh&&Dh.isAvailable();let o=i&&!Dh.previouslyFailed();if(e.webSocketOnly&&(i||Ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Dh];else{const l=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class d_{constructor(t,e,i,o,l,h,g,b,E,T){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=b,this.onKill_=E,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nu("c:"+this.id+":"),this.transportManager_=new DE(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=si(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=yh("t",t),i=yh("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=yh("t",t),i=yh("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=yh("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?$g("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$g("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),si(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):si(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_c.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class d0{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class h0{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class h_ extends h0{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new h_}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ut{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Gt(){return new Ut("")}function Tt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Cc(n){return n.pieces_.length-n.pieceNum_}function sn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ut(n.pieces_,t)}function f_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function wh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function SE(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ut(t,0)}function yn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ut)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Ut(e,0)}function wt(n){return n.pieceNum_>=n.pieces_.length}function Zi(n,t){const e=Tt(n),i=Tt(t);if(null===e)return t;if(e===i)return Zi(sn(n),sn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function no(n,t){const e=wh(n,0),i=wh(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=vc(e[o],i[o]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function p_(n,t){if(Cc(n)!==Cc(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function gr(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Cc(n)>Cc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class AE{constructor(t,e){this.errorPrefix_=e,this.parts_=wh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);g_(this)}}function g_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wl(n))}function wl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class __ extends h0{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new __}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Uu=1e3;let b_,wc=(()=>{class n extends d0{constructor(e,i,o,l,h,g,b,E){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=g,this.appCheckTokenProvider_=b,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=Nu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");__.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&h_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,h={r:l,a:e,b:i};this.log_((0,L.Pz)(h)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new L.BH,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:g=>{const b=g.d;"ok"===g.s?i.resolve(b):i.reject(b)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const g=this.outstandingGets_[h];void 0===g||l!==g||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),i.promise}listen(e,i,o,l){this.initConnection_();const h=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+h),this.listens.has(g)||this.listens.set(g,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(g).has(h),"listen() called twice for same path/queryId.");const b={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(g).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const E=b.d,T=b.s;n.warnOnListenWarnings_(E,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",b),"ok"!==T&&this.removeListen_(o,l),e.onComplete&&e.onComplete(T,E))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const o=(0,L.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,L.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const h=l.s,g=l.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const h={p:e};l&&(h.q=o,h.t=l),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,g=>{l&&setTimeout(()=>{l(g.s,g.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,h){this.initConnection_();const g={p:i,d:o};void 0!==h&&(g.h=h),this.outstandingPuts_.push({action:e,request:g,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Pz)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):$g("Unrecognized action received from server: "+(0,L.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Uu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,mc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let b=!1,E=null;const T=function(){E?E.close():(b=!0,l())};e.realtime_={close:T,sendRequest:function(Q){(0,L.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(Q)}};const j=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Q,se]=yield Promise.all([e.authTokenProvider_.getToken(j),e.appCheckTokenProvider_.getToken(j)]);b?Wn("getToken() completed but was canceled"):(Wn("getToken() completed. Creating connection."),e.authToken_=Q&&Q.accessToken,e.appCheckToken_=se&&se.token,E=new d_(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,Te=>{Ki(Te+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(Q){e.log_("Failed to get token: "+Q),b||(e.repoInfo_.nodeAdmin&&Ki(Q),T())}}})()}interrupt(e){Wn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Wn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>Yg(h)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new Ut(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){Wn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Wn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+ph.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=h_.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Rt(t,e)}}class Ip{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Rt(to,t),o=new Rt(to,e);return 0!==this.compare(i,o)}minPost(){return Rt.MIN}}class g0 extends Ip{static get __EMPTY_NODE(){return b_}static set __EMPTY_NODE(t){b_=t}compare(t,e){return vc(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(gs,b_)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,b_)}toString(){return".key"}}const io=new g0;class Sp{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?i(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let D_,ro=(()=>{class n{constructor(e,i,o,l,h){this.key=e,this.value=i,this.color=null!=o?o:n.RED,this.left=null!=l?l:Li.EMPTY_NODE,this.right=null!=h?h:Li.EMPTY_NODE}copy(e,i,o,l,h){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===h?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Li.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Li.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Li{constructor(t,e=Li.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Li(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ro.BLACK,null,null))}remove(t){return new Li(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ro.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Sp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Sp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Sp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Sp(this.root_,null,this.comparator_,!0,t)}}function _0(n,t){return vc(n.name,t.name)}function C_(n,t){return vc(n,t)}Li.EMPTY_NODE=new class KS{copy(t,e,i,o,l){return this}insert(t,e,i){return new ro(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ap=function(n){return"number"==typeof n?"number:"+Kg(n):"string:"+n},Tp=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===D_||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===D_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let w_,E_,M_,Gu=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tp(this.priorityNode_)}static set __childrenNodeConstructor(e){w_=e}static get __childrenNodeConstructor(){return w_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:".priority"===Tt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=Tt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,L.hu)(".priority"!==o||1===Cc(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ap(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Kg(this.value_):this.value_,this.lazyHash_=gh(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,L.hu)(l>=0,"Unknown leaf type: "+i),(0,L.hu)(h>=0,"Unknown leaf type: "+o),l===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const dn=new class ZS extends Ip{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?vc(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(gs,new Gu("[PRIORITY-POST]",M_))}makePost(t,e){const i=E_(t);return new Rt(e,new Gu("[PRIORITY-POST]",i))}toString(){return".priority"}},v0=Math.log(2);class PE{constructor(t){this.count=parseInt(Math.log(t+1)/v0,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const kp=function(n,t,e,i){n.sort(t);const o=function(b,E){const T=E-b;let O,j;if(0===T)return null;if(1===T)return O=n[b],j=e?e(O):O,new ro(j,O.node,ro.BLACK,null,null);{const Q=parseInt(T/2,10)+b,se=o(b,Q),Te=o(Q+1,E);return O=n[Q],j=e?e(O):O,new ro(j,O.node,ro.BLACK,se,Te)}},g=function(b){let E=null,T=null,O=n.length;const j=function(se,Te){const He=O-se,lt=O;O-=se;const Ct=o(He+1,lt),Ht=n[He],_t=e?e(Ht):Ht;Q(new ro(_t,Ht.node,Te,null,Ct))},Q=function(se){E?(E.left=se,E=se):(T=se,E=se)};for(let se=0;se<b.count;++se){const Te=b.nextBitIsOne(),He=Math.pow(2,b.count-(se+1));Te?j(He,ro.BLACK):(j(He,ro.BLACK),j(He,ro.RED))}return T}(new PE(n.length));return new Li(i||t,g)};let I_;const Eh={};class El{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(Eh&&dn,"ChildrenNode.ts has not been loaded"),I_=I_||new El({".priority":Eh},{".priority":dn}),I_}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Li?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==io,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(Rt.Wrap);let g,h=l.getNext();for(;h;)o=o||t.isDefinedOn(h.node),i.push(h),h=l.getNext();g=o?kp(i,t.getCompare()):Eh;const b=t.toString(),E=Object.assign({},this.indexSet_);E[b]=t;const T=Object.assign({},this.indexes_);return T[b]=g,new El(T,E)}addToIndexes(t,e){const i=(0,L.UI)(this.indexes_,(o,l)=>{const h=(0,L.DV)(this.indexSet_,l);if((0,L.hu)(h,"Missing index implementation for "+l),o===Eh){if(h.isDefinedOn(t.node)){const g=[],b=e.getIterator(Rt.Wrap);let E=b.getNext();for(;E;)E.name!==t.name&&g.push(E),E=b.getNext();return g.push(t),kp(g,h.getCompare())}return Eh}{const g=e.get(t.name);let b=o;return g&&(b=b.remove(new Rt(t.name,g))),b.insert(t,t.node)}});return new El(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,L.UI)(this.indexes_,o=>{if(o===Eh)return o;{const l=e.get(t.name);return l?o.remove(new Rt(t.name,l)):o}});return new El(i,this.indexSet_)}}let xp,bt=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Tp(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xp||(xp=new n(new Li(C_),null,El.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xp}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?xp:i}}getChild(e){const i=Tt(e);return null===i?this:this.getImmediateChild(i).getChild(sn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new Rt(e,i);let l,h;i.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const g=l.isEmpty()?xp:this.priorityNode_;return new n(l,g,h)}}updateChild(e,i){const o=Tt(e);if(null===o)return i;{(0,L.hu)(".priority"!==Tt(e)||1===Cc(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(sn(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,h=!0;if(this.forEachChild(dn,(g,b)=>{i[g]=b.val(e),o++,h&&n.INTEGER_REGEXP_.test(g)?l=Math.max(l,Number(g)):h=!1}),!e&&h&&l<2*o){const g=[];for(const b in i)g[b]=i[b];return g}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ap(this.getPriority().val())+":"),this.forEachChild(dn,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":gh(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new Rt(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Rt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Rt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Rt.Wrap);let h=l.peek();for(;null!=h&&i.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let h=l.peek();for(;null!=h&&i.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mh?-1:0}withIndex(e){if(e===io||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===io||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(dn),l=i.getIterator(dn);let h=o.getNext(),g=l.getNext();for(;h&&g;){if(h.name!==g.name||!h.node.equals(g.node))return!1;h=o.getNext(),g=l.getNext()}return null===h&&null===g}return!1}return!1}}resolveIndex_(e){return e===io?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Mh=new class QS extends bt{constructor(){super(new Li(C_),bt.EMPTY_NODE,El.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return bt.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return bt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Gu(n,Dn(t));if(n instanceof Array){let e=bt.EMPTY_NODE;return Yn(n,(i,o)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const l=Dn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(Dn(t))}{const e=[];let i=!1;if(Yn(n,(h,g)=>{if("."!==h.substring(0,1)){const b=Dn(g);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new Rt(h,b)))}}),0===e.length)return bt.EMPTY_NODE;const l=kp(e,_0,h=>h.name,C_);if(i){const h=kp(e,dn.getCompare());return new bt(l,Dn(t),new El({".priority":h},{".priority":dn}))}return new bt(l,Dn(t),El.Default)}}Object.defineProperties(Rt,{MIN:{value:new Rt(to,bt.EMPTY_NODE)},MAX:{value:new Rt(gs,Mh)}}),g0.__EMPTY_NODE=bt.EMPTY_NODE,Gu.__childrenNodeConstructor=bt,function y0(n){D_=n}(Mh),function OE(n){M_=n}(Mh),function RE(n){E_=n}(Dn);class S_ extends Ip{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!wt(t)&&".priority"!==Tt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?vc(t.name,e.name):l}makePost(t,e){const i=Dn(t),o=bt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Rt(e,o)}maxPost(){const t=bt.EMPTY_NODE.updateChild(this.indexPath_,Mh);return new Rt(gs,t)}toString(){return wh(this.indexPath_,0).join("/")}}const Sa=new class b0 extends Ip{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?vc(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,e){const i=Dn(t);return new Rt(e,i)}toString(){return".value"}},Ec="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",A_=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Ec.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let h=l.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Ec.charAt(t[o]);return(0,L.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),Pp=function(n){if(n===""+vp)return"-";const t=bp(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return gs;const l=Ec.charAt(Ec.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},Sh=function(n){if(n===""+Zg)return to;const t=bp(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+vp:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ec.charAt(Ec.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function FE(n){return{type:"value",snapshotNode:n}}function Ah(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Fp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Np(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class T_{constructor(t){this.index_=t}updateChild(t,e,i,o,l,h){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(o).equals(i.getChild(o))&&g.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?t.hasChild(e)?h.trackChildChange(Fp(e,g)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(Ah(e,i)):h.trackChildChange(Np(e,i,g))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(dn,(o,l)=>{e.hasChild(o)||i.trackChildChange(Fp(o,l))}),e.isLeafNode()||e.forEachChild(dn,(o,l)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(l)||i.trackChildChange(Np(o,l,h))}else i.trackChildChange(Ah(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?bt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Th{constructor(t){this.indexedFilter_=new T_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Th.getStartPost_(t),this.endPost_=Th.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,o,l,h){return this.matches(new Rt(e,i))||(i=bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,h)}updateFullNode(t,e,i){e.isLeafNode()&&(e=bt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(bt.EMPTY_NODE);const l=this;return e.forEachChild(dn,(h,g)=>{l.matches(new Rt(h,g))||(o=o.updateImmediateChild(h,bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class NE{constructor(t){this.rangedFilter_=new Th(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,o,l,h){return this.rangedFilter_.matches(new Rt(e,i))||(i=bt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,h):this.fullLimitUpdateChild_(t,e,i,l,h)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=bt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;l.hasNext()&&h<this.limit_;){const g=l.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!b)break;o=o.updateImmediateChild(g.name,g.node),h++}}else{let l,h,g,b;if(o=e.withIndex(this.index_),o=o.updatePriority(bt.EMPTY_NODE),this.reverse_){b=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();g=(j,Q)=>O(Q,j)}else b=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let E=0,T=!1;for(;b.hasNext();){const O=b.getNext();!T&&g(l,O)<=0&&(T=!0),T&&E<this.limit_&&g(O,h)<=0?E++:o=o.updateImmediateChild(O.name,bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let h;if(this.reverse_){const O=this.index_.getCompare();h=(j,Q)=>O(Q,j)}else h=this.index_.getCompare();const g=t;(0,L.hu)(g.numChildren()===this.limit_,"");const b=new Rt(e,i),E=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(b);if(g.hasChild(e)){const O=g.getImmediateChild(e);let j=o.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=j&&(j.name===e||g.hasChild(j.name));)j=o.getChildAfterChild(this.index_,j,this.reverse_);const Q=null==j?1:h(j,b);if(T&&!i.isEmpty()&&Q>=0)return null!=l&&l.trackChildChange(Np(e,i,O)),g.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(Fp(e,O));const Te=g.updateImmediateChild(e,bt.EMPTY_NODE);return null!=j&&this.rangedFilter_.matches(j)?(null!=l&&l.trackChildChange(Ah(j.name,j.node)),Te.updateImmediateChild(j.name,j.node)):Te}}return i.isEmpty()?t:T&&h(E,b)>=0?(null!=l&&(l.trackChildChange(Fp(E.name,E.node)),l.trackChildChange(Ah(e,i))),g.updateImmediateChild(e,i).updateImmediateChild(E.name,bt.EMPTY_NODE)):t}}class Lp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dn}copy(){const t=new Lp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function k_(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Vp(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function R_(n,t){const e=n.copy();return e.index_=t,e}function O_(n){const t={};if(n.isDefault())return t;let e;return n.index_===dn?e="$priority":n.index_===Sa?e="$value":n.index_===io?e="$key":((0,L.hu)(n.index_ instanceof S_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Pz)(e),n.startSet_&&(t.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Bp(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==dn&&(t.i=n.index_.toString()),t}class Hp extends d0{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Nu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const h=Hp.getListenId_(t,i),g={};this.listens_[h]=g;const b=O_(t._queryParams);this.restRequest_(l+".json",b,(E,T)=>{let O=T;if(404===E&&(O=null,E=null),null===E&&this.onDataUpdate_(l,O,!1,i),(0,L.DV)(this.listens_,h)===g){let j;j=E?401===E?"permission_denied":"rest_error:"+E:"ok",o(j,null)}})}unlisten(t,e){const i=Hp.getListenId_(t,e);delete this.listens_[i]}get(t){const e=O_(t._queryParams),i=t._path.toString(),o=new L.BH;return this.restRequest_(i+".json",e,(l,h)=>{let g=h;404===l&&(g=null,l=null),null===l?(this.onDataUpdate_(i,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(i&&4===g.readyState){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let b=null;if(g.status>=200&&g.status<300){try{b=(0,L.cI)(g.responseText)}catch(E){Ki("Failed to parse JSON response for "+h+": "+g.responseText)}i(null,b)}else 401!==g.status&&404!==g.status&&Ki("Got unsuccessful REST response for "+h+" Status: "+g.status),i(g.status);i=null}},g.open("GET",h,!0),g.send()})}}class VE{constructor(){this.rootNode_=bt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function P_(){return{value:null,children:new Map}}function kh(n,t,e){if(wt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Tt(t);n.children.has(i)||n.children.set(i,P_()),kh(n.children.get(i),t=sn(t),e)}}function F_(n,t){if(wt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(dn,(i,o)=>{kh(n,new Ut(i),o)}),F_(n,t)}}if(n.children.size>0){const e=Tt(t);return t=sn(t),n.children.has(e)&&F_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function N_(n,t,e){null!==n.value?e(t,n.value):function XS(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{N_(o,new Ut(t.toString()+"/"+i),e)})}class JS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Yn(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class HE{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new JS(t);const i=1e4+2e4*Math.random();si(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Yn(t,(o,l)=>{l>0&&(0,L.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),si(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var so=(()=>{return(n=so||(so={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",so;var n})();function A0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class r{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=so.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ut(t));return new r(Gt(),e,this.revert)}}return(0,L.hu)(Tt(this.path)===t,"operationForChild called for unrelated child."),new r(sn(this.path),this.affectedTree,this.revert)}}class s{constructor(t,e){this.source=t,this.path=e,this.type=so.LISTEN_COMPLETE}operationForChild(t){return wt(this.path)?new s(this.source,Gt()):new s(this.source,sn(this.path))}}class a{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=so.OVERWRITE}operationForChild(t){return wt(this.path)?new a(this.source,Gt(),this.snap.getImmediateChild(t)):new a(this.source,sn(this.path),this.snap)}}class u{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=so.MERGE}operationForChild(t){if(wt(this.path)){const e=this.children.subtree(new Ut(t));return e.isEmpty()?null:e.value?new a(this.source,Gt(),e.value):new u(this.source,Gt(),e)}return(0,L.hu)(Tt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new u(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class d{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(wt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Tt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class p{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function C(n,t,e,i,o,l){const h=i.filter(g=>g.type===e);h.sort((g,b)=>function S(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new Rt(t.childName,t.snapshotNode),o=new Rt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,g,b)),h.forEach(g=>{const b=function D(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,l);o.forEach(E=>{E.respondsTo(g.type)&&t.push(E.createEvent(b,n.query_))})})}function k(n,t){return{eventCache:n,serverCache:t}}function N(n,t,e,i){return k(new d(t,e,i),n.serverCache)}function U(n,t,e,i){return k(n.eventCache,new d(t,e,i))}function ee(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ge(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Re;class Oe{constructor(t,e=(()=>(Re||(Re=new Li(dE)),Re))()){this.value=t,this.children=e}static fromObject(t){let e=new Oe(null);return Yn(t,(i,o)=>{e=e.set(new Ut(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Gt(),value:this.value};if(wt(t))return null;{const i=Tt(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue(sn(t),e);return null!=l?{path:yn(new Ut(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(wt(t))return this;{const e=Tt(t),i=this.children.get(e);return null!==i?i.subtree(sn(t)):new Oe(null)}}set(t,e){if(wt(t))return new Oe(e,this.children);{const i=Tt(t),l=(this.children.get(i)||new Oe(null)).set(sn(t),e),h=this.children.insert(i,l);return new Oe(this.value,h)}}remove(t){if(wt(t))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const e=Tt(t),i=this.children.get(e);if(i){const o=i.remove(sn(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new Oe(null):new Oe(this.value,l)}return this}}get(t){if(wt(t))return this.value;{const e=Tt(t),i=this.children.get(e);return i?i.get(sn(t)):null}}setTree(t,e){if(wt(t))return e;{const i=Tt(t),l=(this.children.get(i)||new Oe(null)).setTree(sn(t),e);let h;return h=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new Oe(this.value,h)}}fold(t){return this.fold_(Gt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(yn(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Gt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(wt(t))return null;{const l=Tt(t),h=this.children.get(l);return h?h.findOnPath_(sn(t),yn(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Gt(),e)}foreachOnPath_(t,e,i){if(wt(t))return this;{this.value&&i(e,this.value);const o=Tt(t),l=this.children.get(o);return l?l.foreachOnPath_(sn(t),yn(e,o),i):new Oe(null)}}foreach(t){this.foreach_(Gt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(yn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class we{constructor(t){this.writeTree_=t}static empty(){return new we(new Oe(null))}}function et(n,t,e){if(wt(t))return new we(new Oe(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const h=Zi(o,t);return l=l.updateChild(h,e),new we(n.writeTree_.set(o,l))}{const o=new Oe(e),l=n.writeTree_.setTree(t,o);return new we(l)}}}function At(n,t,e){let i=n;return Yn(e,(o,l)=>{i=et(i,yn(t,o),l)}),i}function qt(n,t){if(wt(t))return we.empty();{const e=n.writeTree_.setTree(t,new Oe(null));return new we(e)}}function Qi(n,t){return null!=Br(n,t)}function Br(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Zi(e.path,t)):null}function jp(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(dn,(i,o)=>{t.push(new Rt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new Rt(i,o.value))}),t}function Ho(n,t){if(wt(t))return n;{const e=Br(n,t);return new we(null!=e?new Oe(e):n.writeTree_.subtree(t))}}function xh(n){return n.writeTree_.isEmpty()}function Ml(n,t){return Up(Gt(),n.writeTree_,t)}function Up(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,L.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=Up(yn(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(yn(n,".priority"),i)),e}}function zu(n,t){return oA(t,n)}function zx(n,t){if(n.snap)return gr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&gr(yn(n.path,e),t))return!0;return!1}function Wx(n){return n.visible}function nA(n,t,e){let i=we.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const h=l.path;let g;if(l.snap)gr(e,h)?(g=Zi(e,h),i=et(i,g,l.snap)):gr(h,e)&&(g=Zi(h,e),i=et(i,Gt(),l.snap.getChild(g)));else{if(!l.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(gr(e,h))g=Zi(e,h),i=At(i,g,l.children);else if(gr(h,e))if(g=Zi(h,e),wt(g))i=At(i,Gt(),l.children);else{const b=(0,L.DV)(l.children,Tt(g));if(b){const E=b.getChild(sn(g));i=et(i,Gt(),E)}}}}}return i}function iA(n,t,e,i,o){if(i||o){const l=Ho(n.visibleWrites,t);return!o&&xh(l)?e:o||null!=e||Qi(l,Gt())?Ml(nA(n.allWrites,function(E){return(E.visible||o)&&(!i||!~i.indexOf(E.writeId))&&(gr(E.path,t)||gr(t,E.path))},t),e||bt.EMPTY_NODE):null}{const l=Br(n.visibleWrites,t);if(null!=l)return l;{const h=Ho(n.visibleWrites,t);return xh(h)?e:null!=e||Qi(h,Gt())?Ml(h,e||bt.EMPTY_NODE):null}}}function T0(n,t,e,i){return iA(n.writeTree,n.treePath,t,e,i)}function jE(n,t){return function Yx(n,t,e){let i=bt.EMPTY_NODE;const o=Br(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(dn,(l,h)=>{i=i.updateImmediateChild(l,h)}),i;if(e){const l=Ho(n.visibleWrites,t);return e.forEachChild(dn,(h,g)=>{const b=Ml(Ho(l,new Ut(h)),g);i=i.updateImmediateChild(h,b)}),jp(l).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return jp(Ho(n.visibleWrites,t)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(n.writeTree,n.treePath,t)}function rA(n,t,e,i){return function qx(n,t,e,i,o){(0,L.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=yn(t,e);if(Qi(n.visibleWrites,l))return null;{const h=Ho(n.visibleWrites,l);return xh(h)?o.getChild(e):Ml(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function k0(n,t){return function Zx(n,t){return Br(n.visibleWrites,t)}(n.writeTree,yn(n.treePath,t))}function UE(n,t,e){return function Kx(n,t,e,i){const o=yn(t,e),l=Br(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?Ml(Ho(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function sA(n,t){return oA(yn(n.treePath,t),n.writeTree)}function oA(n,t){return{treePath:n,writeTree:t}}class eR{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,Np(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,Fp(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,Ah(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,Np(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const aA=new class tR{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class GE{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new d(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return UE(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ge(this.viewCache_),l=function Jx(n,t,e,i,o,l){return function Qx(n,t,e,i,o,l,h){let g;const b=Ho(n.visibleWrites,t),E=Br(b,Gt());if(null!=E)g=E;else{if(null==e)return[];g=Ml(b,e)}if(g=g.withIndex(h),g.isEmpty()||g.isLeafNode())return[];{const T=[],O=h.getCompare(),j=l?g.getReverseIteratorFrom(i,h):g.getIteratorFrom(i,h);let Q=j.getNext();for(;Q&&T.length<o;)0!==O(Q,i)&&T.push(Q),Q=j.getNext();return T}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function lA(n,t,e,i,o,l){const h=t.eventCache;if(null!=k0(i,e))return t;{let g,b;if(wt(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const E=ge(t),O=jE(i,E instanceof bt?E:bt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),O,l)}else{const E=T0(i,ge(t));g=n.filter.updateFullNode(t.eventCache.getNode(),E,l)}else{const E=Tt(e);if(".priority"===E){(0,L.hu)(1===Cc(e),"Can't have a priority with additional path components");const T=h.getNode();b=t.serverCache.getNode();const O=rA(i,e,T,b);g=null!=O?n.filter.updatePriority(T,O):h.getNode()}else{const T=sn(e);let O;if(h.isCompleteForChild(E)){b=t.serverCache.getNode();const j=rA(i,e,h.getNode(),b);O=null!=j?h.getNode().getImmediateChild(E).updateChild(T,j):h.getNode().getImmediateChild(E)}else O=UE(i,E,t.serverCache);g=null!=O?n.filter.updateChild(h.getNode(),E,O,T,o,l):h.getNode()}}return N(t,g,h.isFullyInitialized()||wt(e),n.filter.filtersNodes())}}function x0(n,t,e,i,o,l,h,g){const b=t.serverCache;let E;const T=h?n.filter:n.filter.getIndexedFilter();if(wt(e))E=T.updateFullNode(b.getNode(),i,null);else if(T.filtersNodes()&&!b.isFiltered()){const Q=b.getNode().updateChild(e,i);E=T.updateFullNode(b.getNode(),Q,null)}else{const Q=Tt(e);if(!b.isCompleteForPath(e)&&Cc(e)>1)return t;const se=sn(e),He=b.getNode().getImmediateChild(Q).updateChild(se,i);E=".priority"===Q?T.updatePriority(b.getNode(),He):T.updateChild(b.getNode(),Q,He,se,aA,null)}const O=U(t,E,b.isFullyInitialized()||wt(e),T.filtersNodes());return lA(n,O,e,o,new GE(o,O,l),g)}function zE(n,t,e,i,o,l,h){const g=t.eventCache;let b,E;const T=new GE(o,t,l);if(wt(e))E=n.filter.updateFullNode(t.eventCache.getNode(),i,h),b=N(t,E,!0,n.filter.filtersNodes());else{const O=Tt(e);if(".priority"===O)E=n.filter.updatePriority(t.eventCache.getNode(),i),b=N(t,E,g.isFullyInitialized(),g.isFiltered());else{const j=sn(e),Q=g.getNode().getImmediateChild(O);let se;if(wt(j))se=i;else{const Te=T.getCompleteChild(O);se=null!=Te?".priority"===f_(j)&&Te.getChild(SE(j)).isEmpty()?Te:Te.updateChild(j,i):bt.EMPTY_NODE}b=Q.equals(se)?t:N(t,n.filter.updateChild(g.getNode(),O,se,j,T,h),g.isFullyInitialized(),n.filter.filtersNodes())}}return b}function cA(n,t){return n.eventCache.isCompleteForChild(t)}function uA(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function $E(n,t,e,i,o,l,h,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let E,b=t;E=wt(e)?i:new Oe(null).setTree(e,i);const T=t.serverCache.getNode();return E.children.inorderTraversal((O,j)=>{if(T.hasChild(O)){const se=uA(0,t.serverCache.getNode().getImmediateChild(O),j);b=x0(n,b,new Ut(O),se,o,l,h,g)}}),E.children.inorderTraversal((O,j)=>{const Q=!t.serverCache.isCompleteForChild(O)&&void 0===j.value;if(!T.hasChild(O)&&!Q){const Te=uA(0,t.serverCache.getNode().getImmediateChild(O),j);b=x0(n,b,new Ut(O),Te,o,l,h,g)}}),b}class uR{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new T_(i.getIndex()),l=function w0(n){return n.loadsAllData()?new T_(n.getIndex()):n.hasLimit()?new NE(n):new Th(n)}(i);this.processor_=function nR(n){return{filter:n}}(l);const h=e.serverCache,g=e.eventCache,b=o.updateFullNode(bt.EMPTY_NODE,h.getNode(),null),E=l.updateFullNode(bt.EMPTY_NODE,g.getNode(),null),T=new d(b,h.isFullyInitialized(),o.filtersNodes()),O=new d(E,g.isFullyInitialized(),l.filtersNodes());this.viewCache_=k(O,T),this.eventGenerator_=new p(this.query_)}get query(){return this.query_}}function fR(n,t){const e=ge(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!wt(t)&&!e.getImmediateChild(Tt(t)).isEmpty())?e.getChild(t):null}function dA(n){return 0===n.eventRegistrations_.length}function hA(n,t,e){const i=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const h=l.createCancelEvent(e,o);h&&i.push(h)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const h=n.eventRegistrations_[l];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function fA(n,t,e,i){t.type===so.MERGE&&null!==t.source.queryId&&((0,L.hu)(ge(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(ee(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function rR(n,t,e,i,o){const l=new eR;let h,g;if(e.type===so.OVERWRITE){const E=e;E.source.fromUser?h=zE(n,t,E.path,E.snap,i,o,l):((0,L.hu)(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered()&&!wt(E.path),h=x0(n,t,E.path,E.snap,i,o,g,l))}else if(e.type===so.MERGE){const E=e;E.source.fromUser?h=function oR(n,t,e,i,o,l,h){let g=t;return i.foreach((b,E)=>{const T=yn(e,b);cA(t,Tt(T))&&(g=zE(n,g,T,E,o,l,h))}),i.foreach((b,E)=>{const T=yn(e,b);cA(t,Tt(T))||(g=zE(n,g,T,E,o,l,h))}),g}(n,t,E.path,E.children,i,o,l):((0,L.hu)(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered(),h=$E(n,t,E.path,E.children,i,o,g,l))}else if(e.type===so.ACK_USER_WRITE){const E=e;h=E.revert?function cR(n,t,e,i,o,l){let h;if(null!=k0(i,e))return t;{const g=new GE(i,t,o),b=t.eventCache.getNode();let E;if(wt(e)||".priority"===Tt(e)){let T;if(t.serverCache.isFullyInitialized())T=T0(i,ge(t));else{const O=t.serverCache.getNode();(0,L.hu)(O instanceof bt,"serverChildren would be complete if leaf node"),T=jE(i,O)}T=T,E=n.filter.updateFullNode(b,T,l)}else{const T=Tt(e);let O=UE(i,T,t.serverCache);null==O&&t.serverCache.isCompleteForChild(T)&&(O=b.getImmediateChild(T)),E=null!=O?n.filter.updateChild(b,T,O,sn(e),g,l):t.eventCache.getNode().hasChild(T)?n.filter.updateChild(b,T,bt.EMPTY_NODE,sn(e),g,l):b,E.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=T0(i,ge(t)),h.isLeafNode()&&(E=n.filter.updateFullNode(E,h,l)))}return h=t.serverCache.isFullyInitialized()||null!=k0(i,Gt()),N(t,E,h,n.filter.filtersNodes())}}(n,t,E.path,i,o,l):function aR(n,t,e,i,o,l,h){if(null!=k0(o,e))return t;const g=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(wt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return x0(n,t,e,b.getNode().getChild(e),o,l,g,h);if(wt(e)){let E=new Oe(null);return b.getNode().forEachChild(io,(T,O)=>{E=E.set(new Ut(T),O)}),$E(n,t,e,E,o,l,g,h)}return t}{let E=new Oe(null);return i.foreach((T,O)=>{const j=yn(e,T);b.isCompleteForPath(j)&&(E=E.set(T,b.getNode().getChild(j)))}),$E(n,t,e,E,o,l,g,h)}}(n,t,E.path,E.affectedTree,i,o,l)}else{if(e.type!==so.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);h=function lR(n,t,e,i,o){const l=t.serverCache;return lA(n,U(t,l.getNode(),l.isFullyInitialized()||wt(e),l.isFiltered()),e,i,aA,o)}(n,t,e.path,i,l)}const b=l.getChanges();return function sR(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=ee(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(FE(ee(t)))}}(t,h,b),{viewCache:h,changes:b}}(n.processor_,o,t,e,i);return function iR(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,L.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,pA(n,l.changes,l.viewCache.eventCache.getNode(),null)}function pA(n,t,e,i){return function y(n,t,e,i){const o=[],l=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&l.push(function D0(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),C(n,o,"child_removed",t,i,e),C(n,o,"child_added",t,i,e),C(n,o,"child_moved",l,i,e),C(n,o,"child_changed",t,i,e),C(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let R0,P0;class mA{constructor(){this.views=new Map}}function WE(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,L.hu)(null!=l,"SyncTree gave us an op for an invalid query."),fA(l,t,e,i)}{let l=[];for(const h of n.views.values())l=l.concat(fA(h,t,e,i));return l}}function YE(n,t,e,i,o){const h=n.views.get(t._queryIdentifier);if(!h){let g=T0(e,o?i:null),b=!1;g?b=!0:i instanceof bt?(g=jE(e,i),b=!1):(g=bt.EMPTY_NODE,b=!1);const E=k(new d(g,b,!1),new d(i,o,!1));return new uR(t,E)}return h}function gA(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function $u(n,t){let e=null;for(const i of n.views.values())e=e||fR(i,t);return e}function _A(n,t){return t._queryParams.loadsAllData()?O0(n):n.views.get(t._queryIdentifier)}function yA(n,t){return null!=_A(n,t)}function Wu(n){return null!=O0(n)}function O0(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let wR=1;class vA{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=function Xx(){return{visibleWrites:we.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qE(n,t,e,i,o){return function L_(n,t,e,i,o){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=et(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?Gp(n,new a({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Yu(n,t,e=!1){const i=function B_(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Gx(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const g=n.allWrites[h];g.visible&&(h>=e&&zx(g,i.path)?o=!1:gr(i.path,g.path)&&(l=!0)),h--}return!!o&&(l?(function $x(n){n.visibleWrites=nA(n.allWrites,Wx,Gt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=qt(n.visibleWrites,i.path):Yn(i.children,b=>{n.visibleWrites=qt(n.visibleWrites,yn(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let l=new Oe(null);return null!=i.snap?l=l.set(Gt(),!0):Yn(i.children,h=>{l=l.set(new Ut(h),!0)}),Gp(n,new r(i.path,l,e))}return[]}function H_(n,t,e){return Gp(n,new a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function F0(n,t,e,i){const o=t._path,l=n.syncPointTree_.get(o);let h=[];if(l&&("default"===t._queryIdentifier||yA(l,t))){const g=function bR(n,t,e,i){const o=t._queryIdentifier,l=[];let h=[];const g=Wu(n);if("default"===o)for(const[b,E]of n.views.entries())h=h.concat(hA(E,e,i)),dA(E)&&(n.views.delete(b),E.query._queryParams.loadsAllData()||l.push(E.query));else{const b=n.views.get(o);b&&(h=h.concat(hA(b,e,i)),dA(b)&&(n.views.delete(o),b.query._queryParams.loadsAllData()||l.push(b.query)))}return g&&!Wu(n)&&l.push(new(function _R(){return(0,L.hu)(R0,"Reference.ts has not been loaded"),R0}())(t._repo,t._path)),{removed:l,events:h}}(l,t,e,i);(function yR(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const b=g.removed;h=g.events;const E=-1!==b.findIndex(O=>O._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(o,(O,j)=>Wu(j));if(E&&!T){const O=n.syncPointTree_.subtree(o);if(!O.isEmpty()){const j=function xR(n){return n.fold((t,e,i)=>{if(e&&Wu(e))return[O0(e)];{let o=[];return e&&(o=gA(e)),Yn(i,(l,h)=>{o=o.concat(h)}),o}})}(O);for(let Q=0;Q<j.length;++Q){const se=j[Q],Te=se.query,He=MA(n,se);n.listenProvider_.startListening(U_(Te),j_(n,Te),He.hashFn,He.onComplete)}}}!T&&b.length>0&&!i&&(E?n.listenProvider_.stopListening(U_(t),null):b.forEach(O=>{const j=n.queryToTagMap.get(L0(O));n.listenProvider_.stopListening(U_(O),j)})),function RR(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=L0(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,b)}return h}function bA(n,t,e,i){const o=KE(n,i);if(null!=o){const l=ZE(o),h=l.path,g=l.queryId,b=Zi(h,t);return QE(n,h,new a(A0(g),b,e))}return[]}function CA(n,t){const e=n._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(e,(E,T)=>{const O=Zi(E,e);i=i||$u(T,O),o=o||Wu(T)});let h,l=t.syncPointTree_.get(e);l?(o=o||Wu(l),i=i||$u(l,Gt())):(l=new mA,t.syncPointTree_=t.syncPointTree_.set(e,l)),null!=i?h=!0:(h=!1,i=bt.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((T,O)=>{const j=$u(O,Gt());j&&(i=i.updateImmediateChild(T,j))}));const g=yA(l,n);if(!g&&!n._queryParams.loadsAllData()){const E=L0(n);(0,L.hu)(!t.queryToTagMap.has(E),"View does not exist, but we have a tag");const T=function OR(){return wR++}();t.queryToTagMap.set(E,T),t.tagToQueryMap.set(T,E)}return{syncPoint:l,writesCache:zu(t.pendingWriteTree_,e),serverCache:i,serverCacheComplete:h,foundAncestorDefaultView:o,viewAlreadyExists:g}}function DA(n,t,e){const{syncPoint:i,serverCache:o,writesCache:l,serverCacheComplete:h,viewAlreadyExists:g,foundAncestorDefaultView:b}=CA(t,n);let E=function vR(n,t,e,i,o,l){const h=YE(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function pR(n,t){n.eventRegistrations_.push(t)}(h,e),function mR(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(dn,(l,h)=>{i.push(Ah(l,h))}),e.isFullyInitialized()&&i.push(FE(e.getNode())),pA(n,i,e.getNode(),t)}(h,e)}(i,t,e,l,o,h);if(!g&&!b){const T=_A(i,t);E=E.concat(function PR(n,t,e){const i=t._path,o=j_(n,t),l=MA(n,e),h=n.listenProvider_.startListening(U_(t),o,l.hashFn,l.onComplete),g=n.syncPointTree_.subtree(i);if(o)(0,L.hu)(!Wu(g.value),"If we're adding a query, it shouldn't be shadowed");else{const b=g.fold((E,T,O)=>{if(!wt(E)&&T&&Wu(T))return[O0(T).query];{let j=[];return T&&(j=j.concat(gA(T).map(Q=>Q.query))),Yn(O,(Q,se)=>{j=j.concat(se)}),j}});for(let E=0;E<b.length;++E){const T=b[E];n.listenProvider_.stopListening(U_(T),j_(n,T))}}return h}(n,t,T))}return E}function N0(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(h,g)=>{const E=$u(g,Zi(h,t));if(E)return E});return iA(o,t,l,e,!0)}function Gp(n,t){return wA(t,n.syncPointTree_,null,zu(n.pendingWriteTree_,Gt()))}function wA(n,t,e,i){if(wt(n.path))return EA(n,t,e,i);{const o=t.get(Gt());null==e&&null!=o&&(e=$u(o,Gt()));let l=[];const h=Tt(n.path),g=n.operationForChild(h),b=t.children.get(h);if(b&&g){const E=e?e.getImmediateChild(h):null,T=sA(i,h);l=l.concat(wA(g,b,E,T))}return o&&(l=l.concat(WE(o,n,i,e))),l}}function EA(n,t,e,i){const o=t.get(Gt());null==e&&null!=o&&(e=$u(o,Gt()));let l=[];return t.children.inorderTraversal((h,g)=>{const b=e?e.getImmediateChild(h):null,E=sA(i,h),T=n.operationForChild(h);T&&(l=l.concat(EA(T,g,b,E)))}),o&&(l=l.concat(WE(o,n,i,e))),l}function MA(n,t){const e=t.query,i=j_(n,e);return{hashFn:()=>(function dR(n){return n.viewCache_.serverCache.getNode()}(t)||bt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function SR(n,t,e){const i=KE(n,e);if(i){const o=ZE(i),l=o.path,h=o.queryId,g=Zi(l,t);return QE(n,l,new s(A0(h),g))}return[]}(n,e._path,i):function IR(n,t){return Gp(n,new s({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function qb(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return F0(n,e,null,l)}}}}function j_(n,t){const e=L0(t);return n.queryToTagMap.get(e)}function L0(n){return n._path.toString()+"$"+n._queryIdentifier}function KE(n,t){return n.tagToQueryMap.get(t)}function ZE(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ut(n.substr(0,t))}}function QE(n,t,e){const i=n.syncPointTree_.get(t);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),WE(i,e,zu(n.pendingWriteTree_,t),null)}function U_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function DR(){return(0,L.hu)(P0,"Reference.ts has not been loaded"),P0}())(n._repo,n._path):n}class XE{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new XE(e)}node(){return this.node_}}class JE{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=yn(this.path_,t);return new JE(this.syncTree_,e)}node(){return N0(this.syncTree_,this.path_)}}const IA=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?NR(n[".sv"],t,e):"object"==typeof n[".sv"]?LR(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},NR=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},LR=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,L.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},SA=function(n,t,e,i){return tM(t,new JE(e,n),i)},eM=function(n,t,e){return tM(n,new XE(t),e)};function tM(n,t,e){const i=n.getPriority().val(),o=IA(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const h=n,g=IA(h.getValue(),t,e);return g!==h.getValue()||o!==h.getPriority().val()?new Gu(g,Dn(o)):n}{const h=n;return l=h,o!==h.getPriority().val()&&(l=l.updatePriority(new Gu(o))),h.forEachChild(dn,(g,b)=>{const E=tM(b,t.getImmediateChild(g),e);E!==b&&(l=l.updateImmediateChild(g,E))}),l}}class nM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function V0(n,t){let e=t instanceof Ut?t:new Ut(t),i=n,o=Tt(e);for(;null!==o;){const l=(0,L.DV)(i.node.children,o)||{children:{},childCount:0};i=new nM(o,i,l),e=sn(e),o=Tt(e)}return i}function Rh(n){return n.node.value}function iM(n,t){n.node.value=t,rM(n)}function AA(n){return n.node.childCount>0}function B0(n,t){Yn(n.node.children,(e,i)=>{t(new nM(e,n,i))})}function TA(n,t,e,i){e&&!i&&t(n),B0(n,o=>{TA(o,t,!0,i)}),e&&i&&t(n)}function G_(n){return new Ut(null===n.parent?n.name:G_(n.parent)+"/"+n.name)}function rM(n){null!==n.parent&&function HR(n,t,e){const i=function VR(n){return void 0===Rh(n)&&!AA(n)}(e),o=(0,L.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,rM(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,rM(n))}(n.parent,n.name,n)}const jR=/[\[\].#$\/\u0000-\u001F\u007F]/,UR=/[\[\].#$\u0000-\u001F\u007F]/,sM=10485760,H0=function(n){return"string"==typeof n&&0!==n.length&&!jR.test(n)},kA=function(n){return"string"==typeof n&&0!==n.length&&!UR.test(n)},z_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Lu(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Il=function(n,t,e,i){i&&void 0===t||$_((0,L.gK)(n,"value"),t,e)},$_=function(n,t,e){const i=e instanceof Ut?new AE(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+wl(i));if("function"==typeof t)throw new Error(n+"contains a function "+wl(i)+" with contents = "+t.toString());if(Lu(t))throw new Error(n+"contains "+t.toString()+" "+wl(i));if("string"==typeof t&&t.length>sM/3&&(0,L.ug)(t)>sM)throw new Error(n+"contains a string greater than "+sM+" utf8 bytes "+wl(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(Yn(t,(h,g)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(l=!0,!H0(h)))throw new Error(n+" contains an invalid key ("+h+") "+wl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function TE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),g_(n)})(i,h),$_(n,g,i),function m_(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+wl(i)+" in addition to actual children.")}},xA=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];Yn(t,(h,g)=>{const b=new Ut(h);if($_(o,g,yn(e,b)),".priority"===f_(b)&&!z_(g))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=wh(i);for(let h=0;h<l.length;h++)if((".priority"!==l[h]||h!==l.length-1)&&!H0(l[h]))throw new Error(n+"contains an invalid key ("+l[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(no);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&gr(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)},oM=function(n,t,e){if(!e||void 0!==t){if(Lu(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!z_(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},W_=function(n,t,e,i){if(!(i&&void 0===e||H0(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Y_=function(n,t,e,i){if(!(i&&void 0===e||kA(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jo=function(n,t){if(".info"===Tt(t))throw new Error(n+" failed = Can't modify data under /.info/")},RA=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!H0(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kA(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class WR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function j0(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!p_(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function OA(n,t,e){j0(n,e),PA(n,i=>p_(i,t))}function Uo(n,t,e){j0(n,e),PA(n,i=>gr(i,t)||gr(t,i))}function PA(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(YR(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function YR(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();yc&&Wn("event: "+e.toString()),bc(i)}}}const FA="repo_interrupt";class KR{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=P_(),this.transactionQueueTree_=new nM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NA(n){const e=n.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function q_(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:NA(n)})}function LA(n,t,e,i,o){n.dataUpdateCount++;const l=new Ut(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(i){const b=(0,L.UI)(e,E=>Dn(E));h=function TR(n,t,e,i){const o=KE(n,i);if(o){const l=ZE(o),h=l.path,g=l.queryId,b=Zi(h,t),E=Oe.fromObject(e);return QE(n,h,new u(A0(g),b,E))}return[]}(n.serverSyncTree_,l,b,o)}else{const b=Dn(e);h=bA(n.serverSyncTree_,l,b,o)}else if(i){const b=(0,L.UI)(e,E=>Dn(E));h=function MR(n,t,e){const i=Oe.fromObject(e);return Gp(n,new u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,b)}else{const b=Dn(e);h=H_(n.serverSyncTree_,l,b)}let g=l;h.length>0&&(g=zp(n,l)),Uo(n.eventQueue_,g,h)}function VA(n,t){aM(n,"connected",t),!1===t&&function eO(n){Oh(n,"onDisconnectEvents");const t=q_(n),e=P_();N_(n.onDisconnect_,Gt(),(o,l)=>{const h=SA(o,l,n.serverSyncTree_,t);kh(e,o,h)});let i=[];N_(e,Gt(),(o,l)=>{i=i.concat(H_(n.serverSyncTree_,o,l));const h=dM(n,o);zp(n,h)}),n.onDisconnect_=P_(),Uo(n.eventQueue_,Gt(),i)}(n)}function aM(n,t,e){const i=new Ut("/.info/"+t),o=Dn(e);n.infoData_.updateSnapshot(i,o);const l=H_(n.infoSyncTree_,i,o);Uo(n.eventQueue_,i,l)}function U0(n){return n.nextWriteId_++}function XR(n,t){const e=function kR(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(E,T)=>{const O=Zi(E,e);i=i||$u(T,O)});let o=n.syncPointTree_.get(e);o?i=i||$u(o,Gt()):(o=new mA,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,h=l?new d(i,!0,!1):null;return function hR(n){return ee(n.viewCache_)}(YE(o,t,zu(n.pendingWriteTree_,t._path),l?h.getNode():bt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const o=Dn(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())H_(n.serverSyncTree_,t._path,o);else{const h=function AR(n,t){const{syncPoint:e,serverCache:i,writesCache:o,serverCacheComplete:l}=CA(t,n),h=YE(e,t,o,i,l);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,h),t._queryParams.loadsAllData()?null:j_(n,t)}(n.serverSyncTree_,t);bA(n.serverSyncTree_,t._path,o,h)}return F0(n.serverSyncTree_,t,null).length>0&&Oh(n,"unexpected cancel events in repoGetValue"),o},i=>(Oh(n,"get for query "+(0,L.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}function lM(n,t,e,i,o){Oh(n,"set",{path:t.toString(),value:e,priority:i});const l=q_(n),h=Dn(e,i),g=N0(n.serverSyncTree_,t),b=eM(h,g,l),E=U0(n),T=qE(n.serverSyncTree_,t,b,E,!0);j0(n.eventQueue_,T),n.server_.put(t.toString(),h.val(!0),(j,Q)=>{const se="ok"===j;se||Ki("set at "+t+" failed: "+j);const Te=Yu(n.serverSyncTree_,E,!se);Uo(n.eventQueue_,t,Te),qu(0,o,j,Q)});const O=dM(n,t);zp(n,O),Uo(n.eventQueue_,O,[])}function tO(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&F_(n.onDisconnect_,t),qu(0,e,i,o)})}function BA(n,t,e,i){const o=Dn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,h)=>{"ok"===l&&kh(n.onDisconnect_,t,o),qu(0,i,l,h)})}function cM(n,t,e){let i;i=".info"===Tt(t._path)?F0(n.infoSyncTree_,t,e):F0(n.serverSyncTree_,t,e),OA(n.eventQueue_,t._path,i)}function HA(n){n.persistentConnection_&&n.persistentConnection_.interrupt(FA)}function Oh(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Wn(e,...t)}function qu(n,t,e,i){t&&bc(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const h=new Error(l);h.code=o,t(h)}})}function uM(n,t,e){return N0(n.serverSyncTree_,t,e)||bt.EMPTY_NODE}function G0(n,t=n.transactionQueueTree_){if(t||z0(n,t),Rh(t)){const e=UA(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function aO(n,t,e){const i=e.map(E=>E.currentWriteId),o=uM(n,t,i);let l=o;const h=o.hash();for(let E=0;E<e.length;E++){const T=e[E];(0,L.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const O=Zi(t,T.path);l=l.updateChild(O,T.currentOutputSnapshotRaw)}const g=l.val(!0),b=t;n.server_.put(b.toString(),g,E=>{Oh(n,"transaction put response",{path:b.toString(),status:E});let T=[];if("ok"===E){const O=[];for(let j=0;j<e.length;j++)e[j].status=2,T=T.concat(Yu(n.serverSyncTree_,e[j].currentWriteId)),e[j].onComplete&&O.push(()=>e[j].onComplete(null,!0,e[j].currentOutputSnapshotResolved)),e[j].unwatcher();z0(n,V0(n.transactionQueueTree_,t)),G0(n,n.transactionQueueTree_),Uo(n.eventQueue_,t,T);for(let j=0;j<O.length;j++)bc(O[j])}else{if("datastale"===E)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Ki("transaction at "+b.toString()+" failed: "+E);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=E}zp(n,t)}},h)}(n,G_(t),e)}else AA(t)&&B0(t,e=>{G0(n,e)})}function zp(n,t){const e=jA(n,t),i=G_(e);return function lO(n,t,e){if(0===t.length)return;const i=[];let o=[];const h=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const b=t[g],E=Zi(e,b.path);let O,T=!1;if((0,L.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)T=!0,O=b.abortReason,o=o.concat(Yu(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)T=!0,O="maxretry",o=o.concat(Yu(n.serverSyncTree_,b.currentWriteId,!0));else{const j=uM(n,b.path,h);b.currentInputSnapshot=j;const Q=t[g].update(j.val());if(void 0!==Q){$_("transaction failed: Data returned ",Q,b.path);let se=Dn(Q);"object"==typeof Q&&null!=Q&&(0,L.r3)(Q,".priority")||(se=se.updatePriority(j.getPriority()));const He=b.currentWriteId,lt=q_(n),Ct=eM(se,j,lt);b.currentOutputSnapshotRaw=se,b.currentOutputSnapshotResolved=Ct,b.currentWriteId=U0(n),h.splice(h.indexOf(He),1),o=o.concat(qE(n.serverSyncTree_,b.path,Ct,b.currentWriteId,b.applyLocally)),o=o.concat(Yu(n.serverSyncTree_,He,!0))}else T=!0,O="nodata",o=o.concat(Yu(n.serverSyncTree_,b.currentWriteId,!0))}Uo(n.eventQueue_,e,o),o=[],T&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&i.push("nodata"===O?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(O),!1,null)))}z0(n,n.transactionQueueTree_);for(let g=0;g<i.length;g++)bc(i[g]);G0(n,n.transactionQueueTree_)}(n,UA(n,e),i),i}function jA(n,t){let e,i=n.transactionQueueTree_;for(e=Tt(t);null!==e&&void 0===Rh(i);)i=V0(i,e),e=Tt(t=sn(t));return i}function UA(n,t){const e=[];return GA(n,t,e),e.sort((i,o)=>i.order-o.order),e}function GA(n,t,e){const i=Rh(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);B0(t,o=>{GA(n,o,e)})}function z0(n,t){const e=Rh(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,iM(t,e.length>0?e:void 0)}B0(t,i=>{z0(n,i)})}function dM(n,t){const e=G_(jA(n,t)),i=V0(n.transactionQueueTree_,t);return function BR(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{hM(n,o)}),hM(n,i),TA(i,o=>{hM(n,o)}),e}function hM(n,t){const e=Rh(t);if(e){const i=[];let o=[],l=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,L.hu)(l===h-1,"All SENT items should be at beginning of queue."),l=h,e[h].status=3,e[h].abortReason="set"):((0,L.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(Yu(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===l?iM(t,void 0):e.length=l+1,Uo(n.eventQueue_,G_(t),o);for(let h=0;h<i.length;h++)bc(i[h])}}const fM=function(n,t){const e=dO(n),i=e.namespace;return"firebase.com"===e.domain&&Bo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Bo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Hu(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Ut(e.pathString)}},dO=function(n){let t="",e="",i="",o="",l="",h=!0,g="https",b=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(g=n.substring(0,E-1),n=n.substring(E+2));let T=n.indexOf("/");-1===T&&(T=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(T,O)),T<O&&(o=function cO(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(l){}t+="/"+o}return t}(n.substring(T,O)));const j=function uO(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ki(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));E=t.indexOf(":"),E>=0?(h="https"===g||"wss"===g,b=parseInt(t.substring(E+1),10)):E=t.length;const Q=t.slice(0,E);if("localhost"===Q.toLowerCase())e="localhost";else if(Q.split(".").length<=2)e=Q;else{const se=t.indexOf(".");i=t.substring(0,se).toLowerCase(),e=t.substring(se+1),l=i}"ns"in j&&(l=j.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:h,scheme:g,pathString:o,namespace:l}};class zA{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class $A{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class WA{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class YA{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return tO(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){jo("OnDisconnect.remove",this._path);const t=new L.BH;return BA(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){jo("OnDisconnect.set",this._path),Il("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return BA(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){jo("OnDisconnect.setWithPriority",this._path),Il("OnDisconnect.setWithPriority",t,this._path,!1),oM("OnDisconnect.setWithPriority",e,!1);const i=new L.BH;return function nO(n,t,e,i,o){const l=Dn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(h,g)=>{"ok"===h&&kh(n.onDisconnect_,t,l),qu(0,o,h,g)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){jo("OnDisconnect.update",this._path),xA("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function iO(n,t,e,i){if((0,L.xb)(e))return Wn("onDisconnect().update() called with empty data.  Don't do anything."),void qu(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&Yn(e,(h,g)=>{const b=Dn(g);kh(n.onDisconnect_,yn(t,h),b)}),qu(0,i,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class _s{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return wt(this._path)?null:f_(this._path)}get ref(){return new Go(this._repo,this._path)}get _queryIdentifier(){const t=Bp(this._queryParams),e=Yg(t);return"{}"===e?"default":e}get _queryObject(){return Bp(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof _s))return!1;const e=this._repo===t._repo,i=p_(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qS(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function $0(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ku(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===io){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==to)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==gs)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===dn){if(null!=t&&!z_(t)||null!=e&&!z_(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof S_||n.getIndex()===Sa,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function W0(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Go extends _s{constructor(t,e){super(t,e,new Lp,!1)}get parent(){const t=SE(this._path);return null===t?null:new Go(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ph{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ut(t),i=Fh(this.ref,t);return new Ph(this._node.getChild(e),i,dn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new Ph(o,Fh(this.ref,i),dn)))}hasChild(t){const e=new Ut(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qA(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?Fh(n._root,t):n._root}function KA(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=fM(t,n._repo.repoInfo_.nodeAdmin);RA("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Bo("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),qA(n,e.path.toString())}function Fh(n,t){return null===Tt((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Y_("child","path",e,!1)):Y_("child","path",t,!1),new Go(n._repo,yn(n._path,t));var e}function pM(n,t){n=(0,L.m9)(n),jo("set",n._path),Il("set",t,n._path,!1);const e=new L.BH;return lM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function gO(n,t){xA("update",t,n._path,!1);const e=new L.BH;return function JR(n,t,e,i){Oh(n,"update",{path:t.toString(),value:e});let o=!0;const l=q_(n),h={};if(Yn(e,(g,b)=>{o=!1,h[g]=SA(yn(t,g),Dn(b),n.serverSyncTree_,l)}),o)Wn("update() called with empty data.  Don't do anything."),qu(0,i,"ok",void 0);else{const g=U0(n),b=function ER(n,t,e,i){!function V_(n,t,e,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=At(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=Oe.fromObject(e);return Gp(n,new u({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,g);j0(n.eventQueue_,b),n.server_.merge(t.toString(),e,(E,T)=>{const O="ok"===E;O||Ki("update at "+t+" failed: "+E);const j=Yu(n.serverSyncTree_,g,!O),Q=j.length>0?zp(n,t):t;Uo(n.eventQueue_,Q,j),qu(0,i,E,T)}),Yn(e,E=>{const T=dM(n,yn(t,E));zp(n,T)}),Uo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class Y0{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new zA("value",this,new Ph(t.snapshotNode,new Go(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new $A(this,t,e):null}matches(t){return t instanceof Y0&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class q0{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new $A(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const i=Fh(new Go(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new zA(t.type,this,new Ph(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof q0&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function K_(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const b=e,E=(T,O)=>{cM(n._repo,n,g),b(T,O)};E.userCallback=e.userCallback,E.context=e.context,e=E}const h=new WA(e,l||void 0),g="value"===t?new Y0(h):new q0(t,h);return function rO(n,t,e){let i;i=".info"===Tt(t._path)?DA(n.infoSyncTree_,t,e):DA(n.serverSyncTree_,t,e),OA(n.eventQueue_,t._path,i)}(n._repo,n,g),()=>cM(n._repo,n,g)}function mM(n,t,e,i){return K_(n,"value",t,e,i)}function ZA(n,t,e,i){return K_(n,"child_added",t,e,i)}function QA(n,t,e,i){return K_(n,"child_changed",t,e,i)}function XA(n,t,e,i){return K_(n,"child_moved",t,e,i)}function JA(n,t,e,i){return K_(n,"child_removed",t,e,i)}function eT(n,t,e){let i=null;const o=e?new WA(e):null;"value"===t?i=new Y0(o):t&&(i=new q0(t,o)),cM(n._repo,n,i)}class Aa{}class tT extends Aa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Il("endAt",this._value,t._path,!0);const e=Vp(t._queryParams,this._value,this._key);if(W0(e),Ku(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(t._repo,t._path,e,t._orderByCalled)}}class vO extends Aa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Il("endBefore",this._value,t._path,!1);const e=function x_(n,t,e){let i,o;return n.index_===io?("string"==typeof t&&(t=Sh(t)),o=Vp(n,t,e)):(i=null==e?to:Sh(e),o=Vp(n,t,i)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(W0(e),Ku(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(t._repo,t._path,e,t._orderByCalled)}}class nT extends Aa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Il("startAt",this._value,t._path,!0);const e=k_(t._queryParams,this._value,this._key);if(W0(e),Ku(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _s(t._repo,t._path,e,t._orderByCalled)}}class DO extends Aa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Il("startAfter",this._value,t._path,!1);const e=function LE(n,t,e){let i;if(n.index_===io)"string"==typeof t&&(t=Pp(t)),i=k_(n,t,e);else{let o;o=null==e?gs:Pp(e),i=k_(n,t,o)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(W0(e),Ku(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _s(t._repo,t._path,e,t._orderByCalled)}}class EO extends Aa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _s(t._repo,t._path,function E0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class IO extends Aa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _s(t._repo,t._path,function M0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class AO extends Aa{constructor(t){super(),this._path=t}_apply(t){$0(t,"orderByChild");const e=new Ut(this._path);if(wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new S_(e),o=R_(t._queryParams,i);return Ku(o),new _s(t._repo,t._path,o,!0)}}class kO extends Aa{_apply(t){$0(t,"orderByKey");const e=R_(t._queryParams,io);return Ku(e),new _s(t._repo,t._path,e,!0)}}class RO extends Aa{_apply(t){$0(t,"orderByPriority");const e=R_(t._queryParams,dn);return Ku(e),new _s(t._repo,t._path,e,!0)}}class PO extends Aa{_apply(t){$0(t,"orderByValue");const e=R_(t._queryParams,Sa);return Ku(e),new _s(t._repo,t._path,e,!0)}}class NO extends Aa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Il("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tT(this._value,this._key)._apply(new nT(this._value,this._key)._apply(t))}}function Ta(n,...t){let e=(0,L.m9)(n);for(const i of t)e=i._apply(e);return e}(function gR(n){(0,L.hu)(!R0,"__referenceConstructor has already been defined"),R0=n})(Go),function CR(n){(0,L.hu)(!P0,"__referenceConstructor has already been defined"),P0=n}(Go);const gM={};function rT(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||Bo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wn("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,E,h=fM(l,o),g=h.repoInfo;"undefined"!=typeof process&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(b=!0,l=`http://${E}?ns=${g.namespace}`,h=fM(l,o),g=h.repoInfo):b=!h.repoInfo.secure;const T=o&&b?new vh(vh.OWNER):new pE(n.name,n.options,t);RA("Invalid Firebase Database URL",h),wt(h.path)||Bo("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function jO(n,t,e,i){let o=gM[t.name];o||(o={},gM[t.name]=o);let l=o[n.toURLString()];return l&&Bo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new KR(n,false,e,i),o[n.toURLString()]=l,l}(g,n,T,new Vu(n.name,e));return new GO(O,n)}class GO{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ZR(n,t,e){if(n.stats_=ju(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Hp(n.repoInfo_,(i,o,l,h)=>{LA(n,i,o,l,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>VA(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new wc(n.repoInfo_,t,(i,o,l,h)=>{LA(n,i,o,l,h)},i=>{VA(n,i)},i=>{!function QR(n,t){Yn(t,(e,i)=>{aM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function e0(n,t){const e=n.toString();return Dp[e]||(Dp[e]=t()),Dp[e]}(n.repoInfo_,()=>new HE(n.stats_,n.server_)),n.infoData_=new VE,n.infoSyncTree_=new vA({startListening:(i,o,l,h)=>{let g=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(g=H_(n.infoSyncTree_,i._path,b),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),aM(n,"connected",!1),n.serverSyncTree_=new vA({startListening:(i,o,l,h)=>(n.server_.listen(i,l,o,(g,b)=>{const E=h(g,b);Uo(n.eventQueue_,i._path,E)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Go(this._repo,Gt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HO(n,t){const e=gM[t];(!e||e[n.key]!==n)&&Bo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),HA(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Bo("Cannot call "+t+" on a deleted database.")}}function sT(){DE.IS_TRANSPORT_INITIALIZED&&Ki("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zO(){sT(),Ia.forceDisallow()}function $O(){sT(),Dh.forceDisallow(),Ia.forceAllow()}function KO(n,t){zg(n,t)}const QO={".sv":"timestamp"};class eP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}wc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},wc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function ZO(n){eo(gc.SDK_VERSION),(0,gc._registerComponent)(new pc.wA("database",(t,{instanceIdentifier:e})=>rT(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,gc.registerVersion)(Ou,"0.13.2",n),(0,gc.registerVersion)(Ou,"0.13.2","esm2017")}();const rP=new yp.Yd("@firebase/database-compat"),oT=function(n){rP.warn("FIREBASE WARNING: "+n)};class aP{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),l=>i(l)),o}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,oT("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class lP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Y_("DataSnapshot.child","path",t,!1),new Zu(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Y_("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Zu(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new oo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Xi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var l;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const h=Xi.getCancelAndContextArgs_("Query.on",i,o),g=(E,T)=>{e.call(h.context,new Zu(this.database,E),T)};g.userCallback=e,g.context=h.context;const b=null===(l=h.cancel)||void 0===l?void 0:l.bind(h.context);switch(t){case"value":return mM(this._delegate,g,b),e;case"child_added":return ZA(this._delegate,g,b),e;case"child_removed":return JA(this._delegate,g,b),e;case"child_changed":return QA(this._delegate,g,b),e;case"child_moved":return XA(this._delegate,g,b),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,eT(this._delegate,t,o)}else eT(this._delegate,t)}get(){return function _O(n){return XR((n=(0,L.m9)(n))._repo,n).then(t=>new Ph(t,new Go(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new Zu(this.database,t))}once(t,e,i,o){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const l=Xi.getCancelAndContextArgs_("Query.once",i,o),h=new L.BH,g=(E,T)=>{const O=new Zu(this.database,E);e&&e.call(l.context,O,T),h.resolve(O)};g.userCallback=e,g.context=l.context;const b=E=>{l.cancel&&l.cancel.call(l.context,E),h.reject(E)};switch(t){case"value":mM(this._delegate,g,b,{onlyOnce:!0});break;case"child_added":ZA(this._delegate,g,b,{onlyOnce:!0});break;case"child_removed":JA(this._delegate,g,b,{onlyOnce:!0});break;case"child_changed":QA(this._delegate,g,b,{onlyOnce:!0});break;case"child_moved":XA(this._delegate,g,b,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Xi(this.database,Ta(this._delegate,function MO(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new EO(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Xi(this.database,Ta(this._delegate,function SO(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new IO(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Xi(this.database,Ta(this._delegate,function TO(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Y_("orderByChild","path",n,!1),new AO(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Xi(this.database,Ta(this._delegate,function xO(){return new kO}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Xi(this.database,Ta(this._delegate,function OO(){return new RO}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Xi(this.database,Ta(this._delegate,function FO(){return new PO}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Xi(this.database,Ta(this._delegate,function CO(n=null,t){return W_("startAt","key",t,!0),new nT(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Xi(this.database,Ta(this._delegate,function wO(n,t){return W_("startAfter","key",t,!0),new DO(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Xi(this.database,Ta(this._delegate,function yO(n,t){return W_("endAt","key",t,!0),new tT(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Xi(this.database,Ta(this._delegate,function bO(n,t){return W_("endBefore","key",t,!0),new vO(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Xi(this.database,Ta(this._delegate,function LO(n,t){return W_("equalTo","key",t,!0),new NO(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Xi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,L.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,L.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new oo(this.database,new Go(this._delegate._repo,this._delegate._path))}}class oo extends Xi{constructor(t,e){super(t,new _s(e._repo,e._path,new Lp,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new oo(this.database,Fh(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new oo(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new oo(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const i=pM(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,oT("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jo("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const i=gO(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function mO(n,t,e){if(jo("setWithPriority",n._path),Il("setWithPriority",t,n._path,!1),oM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return lM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),l=>i(l)),o}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function fO(n){return jo("remove",n._path),pM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function tP(n,t,e){var i;if(n=(0,L.m9)(n),jo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new L.BH,g=mM(n,()=>{});return function oO(n,t,e,i,o,l){Oh(n,"transaction on "+t);const h={path:t,update:e,onComplete:i,status:null,order:mh(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=uM(n,t,void 0);h.currentInputSnapshot=g;const b=h.update(g.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{$_("transaction failed: Data returned ",b,h.path),h.status=0;const E=V0(n.transactionQueueTree_,t),T=Rh(E)||[];let O;T.push(h),iM(E,T),"object"==typeof b&&null!==b&&(0,L.r3)(b,".priority")?(O=(0,L.DV)(b,".priority"),(0,L.hu)(z_(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(N0(n.serverSyncTree_,t)||bt.EMPTY_NODE).getPriority().val();const j=q_(n),Q=Dn(b,O),se=eM(Q,g,j);h.currentOutputSnapshotRaw=Q,h.currentOutputSnapshotResolved=se,h.currentWriteId=U0(n);const Te=qE(n.serverSyncTree_,t,se,h.currentWriteId,h.applyLocally);Uo(n.eventQueue_,t,Te),G0(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,E,T)=>{let O=null;b?l.reject(b):(O=new Ph(T,new Go(n._repo,n._path),dn),l.resolve(new eP(E,O)))},g,o),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new lP(l.committed,new Zu(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const i=function pO(n,t){n=(0,L.m9)(n),jo("setPriority",n._path),oM("setPriority",t,!1);const e=new L.BH;return lM(n._repo,yn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const i=function hO(n,t){n=(0,L.m9)(n),jo("push",n._path),Il("push",t,n._path,!0);const e=NA(n._repo),i=A_(e),o=Fh(n,i),l=Fh(n,i);let h;return h=null!=t?pM(l,t).then(()=>l):Promise.resolve(l),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=i.then(h=>new oo(this.database,h));e&&o.then(()=>e(null),h=>e(h));const l=new oo(this.database,i);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return jo("Reference.onDisconnect",this._delegate._path),new aP(new YA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Z_{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zO,forceLongPolling:$O}}useEmulator(t,e,i={}){!function WO(n,t,e,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Bo("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Bo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new vh(vh.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);l=new vh(h)}!function BO(n,t,e,i){n.repoInfo_=new Hu(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(o,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof oo){const e=KA(this._delegate,t.toString());return new oo(this,e)}{const e=qA(this._delegate,t);return new oo(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=KA(this._delegate,t);return new oo(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function YO(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),HA(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function qO(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function sO(n){n.persistentConnection_&&n.persistentConnection_.resume(FA)}(n._repo)}(this._delegate)}}Z_.ServerValue={TIMESTAMP:function XO(){return QO}(),increment:n=>function JO(n){return{".sv":{increment:n}}}(n)};var uP=Object.freeze({__proto__:null,initStandalone:function cP({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:l=!1}){eo(e);const h=new pc.zt("auth-internal",new pc.H0("database-standalone"));return h.setComponent(new pc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Z_(rT(n,h,void 0,t,l),n),namespace:o}}});const dP=Z_.ServerValue;!function hP(n){n.INTERNAL.registerComponent(new pc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new Z_(o,i)},"PUBLIC").setServiceProps({Reference:oo,Query:Xi,Database:Z_,DataSnapshot:Zu,enableLogging:KO,INTERNAL:uP,ServerValue:dP}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.2")}(cE.Z);var K0=P(5363),fP=P(6063);class pP extends Ft.x{constructor(t=1/0,e=1/0,i=fP.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;e||(i.push(t),!o&&i.push(l.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!t.closed;h+=i?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const h=e.now();let g=0;for(let b=1;b<i.length&&i[b]<=h;b+=2)g=b;g&&i.splice(0,g+1)}}}function aT(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,Bg.B)({connector:()=>new pP(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const lT=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gP(n){return(0,In.e)((t,e)=>{let i=!1;t.subscribe((0,tn.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function _P(n=yP){return(0,In.e)((t,e)=>{let i=!1;t.subscribe((0,tn.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function yP(){return new lT}function cT(n,t){return(0,Pn.m)(t)?ps(()=>n,t):ps(()=>n)}var _M=P(9468);P(5867);const dT=new Map,EP={activated:!1,tokenObservers:[]},MP={initialized:!1,enabled:!1};function Vi(n){return dT.get(n)||EP}function ka(n,t){dT.set(n,t)}function Q0(){return MP}class kP{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,mc.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function xP(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Hr=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fT(n){if(!Vi(n).activated)throw Hr.create("use-before-activation",{appName:n.name})}function CM(n,t){return DM.apply(this,arguments)}function DM(){return(DM=(0,mc.Z)(function*({url:n,body:t},e){var i,o;const l={"Content-Type":"application/json"},h=e.getImmediate({optional:!0});if(h){const Q=yield h.getHeartbeatsHeader();Q&&(l["X-Firebase-Client"]=Q)}const g={method:"POST",body:JSON.stringify(t),headers:l};let b,E;try{b=yield fetch(n,g)}catch(Q){throw Hr.create("fetch-network-error",{originalErrorMessage:null===(i=Q)||void 0===i?void 0:i.message})}if(200!==b.status)throw Hr.create("fetch-status-error",{httpStatus:b.status});try{E=yield b.json()}catch(Q){throw Hr.create("fetch-parse-error",{originalErrorMessage:null===(o=Q)||void 0===o?void 0:o.message})}const T=E.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const O=1e3*Number(T[1]),j=Date.now();return{token:E.token,expireTimeMillis:j+O,issuedAtTimeMillis:j}})).apply(this,arguments)}function FP(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Q_="firebase-app-check-store";let eC=null;function mT(){return eC||(eC=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=o=>{n(o.target.result)},i.onerror=o=>{var l;t(Hr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},i.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Q_,{keyPath:"compositeKey"})}}catch(i){t(Hr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),eC)}function wM(){return(wM=(0,mc.Z)(function*(n,t){const i=(yield mT()).transaction(Q_,"readwrite"),l=i.objectStore(Q_).put({compositeKey:n,value:t});return new Promise((h,g)=>{l.onsuccess=b=>{h()},i.onerror=b=>{var E;g(Hr.create("storage-set",{originalErrorMessage:null===(E=b.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const X_=new yp.Yd("@firebase/app-check");function vT(n,t){return(0,L.hl)()?function BP(n,t){return function gT(n,t){return wM.apply(this,arguments)}(function yT(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{X_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function bT(){return Q0().enabled}function CT(){return SM.apply(this,arguments)}function SM(){return(SM=(0,mc.Z)(function*(){const n=Q0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $P={error:"UNKNOWN_ERROR"};function WP(n){return L.US.encodeString(JSON.stringify(n),!1)}function tC(n){return AM.apply(this,arguments)}function AM(){return(AM=(0,mc.Z)(function*(n,t=!1){const e=n.app;fT(e);const i=Vi(e);let l,o=i.token;if(!o){const b=yield i.cachedTokenPromise;b&&nC(b)&&(o=b)}if(!t&&o&&nC(o))return{token:o.token};let g,h=!1;if(bT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=CM(FP(e,yield CT()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),h=!0);const b=yield i.exchangeTokenPromise;return yield vT(e,b),ka(e,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),h=!0),o=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?X_.warn(b.message):X_.error(b),l=b}return o?(g={token:o.token},ka(e,Object.assign(Object.assign({},i),{token:o})),yield vT(e,o)):g=qP(l),h&&wT(e,g),g})).apply(this,arguments)}function kM(n,t){const e=Vi(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ka(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function DT(n){const{app:t}=n,e=Vi(t);let i=e.tokenRefresher;i||(i=function YP(n){const{app:t}=n;return new kP((0,mc.Z)(function*(){let i;if(i=Vi(t).token?yield tC(n,!0):yield tC(n),i.error)throw i.error}),()=>!0,()=>{const e=Vi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ka(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function wT(n,t){const e=Vi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}function nC(n){return n.expireTimeMillis-Date.now()>0}function qP(n){return{token:WP($P),error:n}}class KP{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Vi(this.app);for(const e of t)kM(this.app,e.next);return Promise.resolve()}}const xT="app-check-internal";!function cF(){(0,gc._registerComponent)(new pc.wA("app-check",n=>function ZP(n,t){return new KP(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(xT).initialize()})),(0,gc._registerComponent)(new pc.wA(xT,n=>function QP(n){return{getToken:t=>tC(n,t),addTokenListener:t=>function TM(n,t,e,i){const{app:o}=n,l=Vi(o),h={next:e,error:i,type:t};if(ka(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&nC(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),DT(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>DT(n))}(n,"INTERNAL",t),removeTokenListener:t=>kM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gc.registerVersion)("@firebase/app-check","0.5.10")}();class PM{constructor(){return(0,Vr.vb)("app-check")}}"undefined"!=typeof window&&window;var pF=P(127);const OT=new c.OlP("angularfire2.auth.use-emulator"),PT=new c.OlP("angularfire2.auth.settings"),FT=new c.OlP("angularfire2.auth.tenant-id"),NT=new c.OlP("angularfire2.auth.langugage-code"),LT=new c.OlP("angularfire2.auth.use-device-language"),VT=new c.OlP("angularfire.auth.persistence"),BT=(n,t,e,i,o,l,h,g)=>(0,ms.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[E,T]of Object.entries(h))b.settings[E]=T;return g&&b.setPersistence(g),b},[e,i,o,l,h,g]);let HT=(()=>{class n{constructor(e,i,o,l,h,g,b,E,T,O,j,Q){const se=new Ft.x,Te=Jt(void 0).pipe((0,K0.Q)(h.outsideAngular),ps(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3677)))),(0,ht.U)(()=>(0,ms.on)(e,l,i)),(0,ht.U)(He=>BT(He,l,g,E,T,O,b,j)),aT({bufferSize:1,refCount:!1}));if(function Ko(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Jt(null);else{Te.pipe(function vP(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ce((o,l)=>n(o,l,i)):ic.y,(0,rn.q)(1),e?gP(t):_P(()=>new lT))}()).subscribe();const lt=Te.pipe(ps(_t=>_t.getRedirectResult().then(Ei=>Ei,()=>null)),Vr.iC,aT({bufferSize:1,refCount:!1})),Ct=Te.pipe(ps(_t=>new an.y(Ei=>({unsubscribe:l.runOutsideAngular(()=>_t.onAuthStateChanged(Bi=>Ei.next(Bi),Bi=>Ei.error(Bi),()=>Ei.complete()))})))),Ht=Te.pipe(ps(_t=>new an.y(Ei=>({unsubscribe:l.runOutsideAngular(()=>_t.onIdTokenChanged(Bi=>Ei.next(Bi),Bi=>Ei.error(Bi),()=>Ei.complete()))}))));this.authState=lt.pipe(cT(Ct),(0,_M.R)(h.outsideAngular),(0,K0.Q)(h.insideAngular)),this.user=lt.pipe(cT(Ht),(0,_M.R)(h.outsideAngular),(0,K0.Q)(h.insideAngular)),this.idToken=this.user.pipe(ps(_t=>_t?(0,Er.D)(_t.getIdToken()):Jt(null))),this.idTokenResult=this.user.pipe(ps(_t=>_t?(0,Er.D)(_t.getIdTokenResult()):Jt(null))),this.credential=(0,Ln.T)(lt,se,this.authState.pipe(Ce(_t=>!_t))).pipe((0,ht.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,_M.R)(h.outsideAngular),(0,K0.Q)(h.insideAngular))}return(0,ms.pX)(this,Te,l,{spy:{apply:(He,lt,Ct)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&Ct.then(Ht=>se.next(Ht))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ms.Dh),c.LFG(ms.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Vr.HU),c.LFG(OT,8),c.LFG(PT,8),c.LFG(FT,8),c.LFG(NT,8),c.LFG(LT,8),c.LFG(VT,8),c.LFG(PM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jT(n){return null==n}function UT(n){return"function"==typeof n.set}function GT(n,t){return UT(t)?t:n.ref(t)}function zT(n,t){if(function gF(n){return"string"==typeof n}(n))return t.stringCase();if(UT(n))return t.firebaseCase();if(function _F(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function J_(n,t,e="on",i=w.z){return new an.y(o=>{let l=null;return l=n[e](t,(h,g)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:g})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,ht.U)(o=>{const{snapshot:l,prevKey:h}=o;let g=null;return l.exists()&&(g=l.key),{type:t,payload:l,prevKey:h,key:g}}),(0,Bg.B)())}function $T(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function bF(n,t){const{payload:e,prevKey:i,key:o}=t,l=$T(n,o),h=function vF(n,t){if(jT(t))return 0;{const e=$T(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(b=>{const E={payload:b,type:"value",prevKey:g,key:b.key};return g=b.key,n=[...n,E],!1})}return n;case"child_added":if(l>-1){const g=n[l-1];(g&&g.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(h,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===o?t:g);case"child_moved":if(l>-1){const g=n.splice(l,1)[0];return(n=n.slice()).splice(h,0,g),n}return n;default:return n}}function WT(n){return(jT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function YT(n,t,e){return function yF(n,t,e){return J_(n,"value","once",e).pipe(ps(i=>{const o=[Jt(i)];return t.forEach(l=>o.push(J_(n,l,"on",e))),(0,Ln.T)(...o).pipe(Hg(bF,[]))}),Em())}(n,t=WT(t),e)}function qT(n,t,e){const i=(t=WT(t)).map(o=>J_(n,o,"on",e));return(0,Ln.T)(...i)}function KT(n,t){return function(i,o){return zT(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function EF(n){return function(e){return e?zT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function ZT(n,t){return function(){return J_(n,"value","on",t)}}const SF=new c.OlP("angularfire2.realtimeDatabaseURL"),AF=new c.OlP("angularfire2.database.use-emulator");let NM=(()=>{class n{constructor(e,i,o,l,h,g,b,E,T,O,j,Q,se,Te,He){this.schedulers=g;const lt=b,Ct=(0,ms.on)(e,h,i);E&&BT(Ct,h,T,j,Q,se,O,Te),this.database=(0,ms.cc)(`${Ct.name}.database.${o}`,"AngularFireDatabase",Ct.name,()=>{const Ht=h.runOutsideAngular(()=>Ct.database(o||void 0));return lt&&Ht.useEmulator(...lt),Ht},[lt])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>GT(this.database,e));let l=o;return i&&(l=i(o)),function MF(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:KT(i,"update"),set:KT(i,"set"),push:o=>i.push(o),remove:EF(i),snapshotChanges:o=>YT(n,o,e).pipe(Vr.iC),stateChanges:o=>qT(n,o,e).pipe(Vr.iC),auditTrail:o=>function CF(n,t,e){return function wF(n,t,e){return function DF(n,t){return J_(n,"value","on",t).pipe((0,ht.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Ub(...n){const t=(0,ln.jO)(n);return(0,In.e)((e,i)=>{const o=n.length,l=new Array(o);let h=n.map(()=>!1),g=!1;for(let b=0;b<o;b++)(0,Oi.Xf)(n[b]).subscribe((0,tn.x)(i,E=>{l[b]=E,!g&&!h[b]&&(h[b]=!0,(g=h.every(ic.y))&&(h=null))},sa.Z));e.subscribe((0,tn.x)(i,b=>{if(g){const E=[b,...l];i.next(t?t(...E):E)}}))})}(t),(0,ht.U)(([o,l])=>{const h=o.lastKeyToLoad,g=l.map(b=>b.key);return{actions:l,lastKeyToLoad:h,loadedKeys:g}}),function Gb(n){return(0,In.e)((t,e)=>{let i=!1,o=0;t.subscribe((0,tn.x)(e,l=>(i||(i=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,ht.U)(o=>o.actions))}(n,qT(n,t).pipe(Hg((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(Vr.iC),valueChanges:(o,l)=>YT(n,o,e).pipe((0,ht.U)(g=>g.map(b=>l&&l.idField?Object.assign(Object.assign({},b.payload.val()),{[l.idField]:b.key}):b.payload.val())),Vr.iC)}}(l,this)}object(e){return function IF(n,t){return{query:n,snapshotChanges:()=>ZT(n,t.schedulers.outsideAngular)().pipe(Vr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>ZT(n,t.schedulers.outsideAngular)().pipe(Vr.iC,(0,ht.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>GT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ms.Dh),c.LFG(ms.xv,8),c.LFG(SF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Vr.HU),c.LFG(AF,8),c.LFG(HT,8),c.LFG(OT,8),c.LFG(PT,8),c.LFG(FT,8),c.LFG(NT,8),c.LFG(LT,8),c.LFG(VT,8),c.LFG(PM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TF=(()=>{class n{constructor(){pF.Z.registerVersion("angularfire",Vr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[NM]}),n})(),kF=(()=>{class n{constructor(e,i){this.http=e,this.db=i,this.dbPath="pomiary",this.baseUrl="",this.weatherData=i.list(this.dbPath)}getAll(){return this.weatherData}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uh),c.LFG(NM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n{constructor(e,i,o){this.data=e,this.weatherDataService=i,this.db=o,this.title="meteo-frontend",this.stationData=e.stationData,this.weatherData=[]}ngOnInit(){this.retrieveMeasurements()}retrieveMeasurements(){this.weatherDataService.getAll().snapshotChanges().pipe((0,ht.U)(e=>e.map(i=>{console.log(i),Object.assign({key:i.payload.key},i.payload.val())}))).subscribe(e=>{console.log(e),this.weatherData=e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(bb),c.Y36(kF),c.Y36(NM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-station"]],decls:0,vars:0,template:function(e,i){},styles:[""]}),n})();const RF=["mat-button",""],OF=["*"],FF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],NF=Eu(wu(Kd(class{constructor(n){this._elementRef=n}})));let LF=(()=>{class n extends NF{constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of FF)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Td),c.Y36(Xs,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(dc,5),2&e){let o;c.iGM(o=c.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:RF,ngContentSelectors:OF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[dc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),QT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Zd,Nt],Nt]}),n})();var rC=P(8505);function JT(n){return(0,In.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,tn.x)(e,void 0,void 0,h=>{l=(0,Oi.Xf)(n(h,JT(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}const HF=["*"];let sC;function ey(n){var t;return(null===(t=function jF(){if(void 0===sC&&(sC=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(sC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return sC}())||void 0===t?void 0:t.createHTML(n))||n}function ek(n){return Error(`Unable to find icon with the name "${n}"`)}function tk(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nk(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Nh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let oC=(()=>{class n{constructor(e,i,o,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,l){return this._addSvgIconConfig(e,i,new Nh(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,l){const h=this._sanitizer.sanitize(c.q3G.HTML,o);if(!h)throw nk(o);const g=ey(h);return this._addSvgIconConfig(e,i,new Nh("",g,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Nh(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw nk(i);const h=ey(l);return this._addSvgIconSetConfig(e,new Nh("",h,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw tk(e);const o=this._cachedIconsByUrl.get(i);return o?Jt(aC(o)):this._loadSvgIconFromConfig(new Nh(e,null)).pipe((0,rC.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,ht.U)(l=>aC(l)))}getNamedSvgIcon(e,i=""){const o=ik(i,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(i);return h?this._getSvgFromIconSetConfigs(e,h):function VF(n,t){const e=(0,Pn.m)(n)?n:()=>n,i=o=>o.error(e());return new an.y(t?o=>t.schedule(i,0,o):i)}(ek(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Jt(aC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ht.U)(i=>aC(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?Jt(o):function XT(...n){const t=(0,ln.jO)(n),{args:e,keys:i}=qv(n),o=new an.y(l=>{const{length:h}=e;if(!h)return void l.complete();const g=new Array(h);let b=h,E=h;for(let T=0;T<h;T++){let O=!1;(0,Oi.Xf)(e[T]).subscribe((0,tn.x)(l,j=>{O||(O=!0,E--),g[T]=j},()=>b--,void 0,()=>{(!b||!O)&&(E||l.next(i?Kv(i,g):g),l.complete())}))}});return t?o.pipe(Ja(t)):o}(i.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(JT(g=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,h.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(E)),Jt(null)})))).pipe((0,ht.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,i);if(!h)throw ek(e);return h}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const h=this._svgElementFromConfig(l),g=this._extractSvgIconFromSet(h,e,l.options);if(g)return g}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,rC.b)(i=>e.svgText=i),(0,ht.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Jt(null):this._fetchIcon(e).pipe((0,rC.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const g=this._svgElementFromString(ey("<svg></svg>"));return g.appendChild(h),this._setSvgAttributes(g,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(ey("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:h,value:g}=o[l];"id"!==h&&i.setAttribute(h,g)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:o,options:l}=e,h=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function UF(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const g=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,o);if(!g)throw tk(o);const b=this._inProgressUrlFetches.get(g);if(b)return b;const E=this._httpClient.get(g,{responseType:"text",withCredentials:h}).pipe((0,ht.U)(T=>ey(T)),function BF(n){return(0,In.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>this._inProgressUrlFetches.delete(g)),(0,Bg.B)());return this._inProgressUrlFetches.set(g,E),E}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(ik(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,e);if(l)return zF(l)?new Nh(l.url,null,l.options):new Nh(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uh,8),c.LFG(jl),c.LFG(ne,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aC(n){return n.cloneNode(!0)}function ik(n,t){return n+":"+t}function zF(n){return!(!n.url||!n.options)}const $F=Eu(class{constructor(n){this._elementRef=n}}),WF=new c.OlP("mat-icon-location",{providedIn:"root",factory:function YF(){const n=(0,c.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),rk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qF=rk.map(n=>`[${n}]`).join(", "),KF=/^url\(['"]?#(.*?)['"]?\)$/;let ZF=(()=>{class n extends $F{constructor(e,i,o,l,h){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=hr.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Xt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(qF),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)rk.forEach(h=>{const g=i[l],b=g.getAttribute(h),E=b?b.match(KF):null;if(E){let T=o.get(g);T||(T=[],o.set(g,T)),T.push({name:h,value:E[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,rn.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(oC),c.$8M("aria-hidden"),c.Y36(WF),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:HF,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),QF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nt],Nt]}),n})();function XF(n,t){if(1&n&&(c.TgZ(0,"mat-header-cell"),c._uU(1),c.qZA()),2&n){const e=c.oxw().$implicit;c.xp6(1),c.Oqu(e)}}function JF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-cell")(1,"button",9),c.NdJ("click",function(){const l=c.CHM(e).$implicit;return c.oxw(3).openStationWeatherDetails(l)}),c.TgZ(2,"mat-icon"),c._uU(3,"open_in_new"),c.qZA()(),c.TgZ(4,"button",9),c.NdJ("click",function(){const l=c.CHM(e).$implicit;return c.oxw(3).openStationInfoDialog(l)}),c.TgZ(5,"mat-icon"),c._uU(6,"info"),c.qZA()()()}}function e1(n,t){1&n&&(c.ynx(0),c.YNc(1,JF,7,0,"mat-cell",8),c.BQk())}function t1(n,t){if(1&n&&(c.TgZ(0,"mat-cell"),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=c.oxw().$implicit;c.xp6(1),c.Oqu(e[i])}}function n1(n,t){if(1&n&&(c.ynx(0,5),c.YNc(1,XF,2,1,"mat-header-cell",6),c.YNc(2,e1,2,0,"ng-container",7),c.YNc(3,t1,2,1,"mat-cell",8),c.BQk()),2&n){const e=t.$implicit;c.Q6J("matColumnDef",e),c.xp6(2),c.Q6J("ngIf","Actions"==e)}}function r1(n,t){1&n&&c._UZ(0,"mat-header-row")}function s1(n,t){1&n&&c._UZ(0,"mat-row")}let o1=(()=>{class n{constructor(e,i){this.dialog=e,this.bottomSheet=i,this.title="meteo-frontend",this.displayedColumns=["ID","Location","Name","Owner","Actions"],this.stationsData=[{ID:"211221",Location:"Krak\xf3w",Name:"KR-01",Owner:"Kacper",Actions:"Open"},{ID:"211222",Location:"Krak\xf3w",Name:"KR-02",Owner:"Micha\u0142",Actions:"Open"}],this.dataSource=new vw(this.stationsData)}ngOnInit(){}ngAfterViewInit(){}openStationWeatherDetails(e){this.dialog.open(xF,{height:"400px",width:"600px",data:{stationData:e}})}openStationInfoDialog(e){this.bottomSheet.open(Ww,{data:{stationData:e}})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wb),c.Y36(ah))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-overview"]],decls:7,vars:4,consts:[[2,"text-align","center"],[1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"ngIf"],[4,"matCellDef"],["mat-icon-button","","color","accent","aria-label","Example icon button with a menu icon",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-card")(1,"h2",0),c._uU(2,"Dost\u0119pne stacje"),c.qZA(),c.TgZ(3,"mat-table",1),c.YNc(4,n1,4,2,"ng-container",2),c.YNc(5,r1,1,0,"mat-header-row",3),c.YNc(6,s1,1,0,"mat-row",4),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("dataSource",i.dataSource),c.xp6(1),c.Q6J("ngForOf",i.displayedColumns),c.xp6(1),c.Q6J("matHeaderRowDef",i.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",i.displayedColumns))},directives:[xg,vg,Rn,op,Xd,ap,jn,rp,lp,LF,ZF,bg,Dg,Cg,eb],styles:[""]}),n})(),a1=(()=>{class n{constructor(){this.title="meteo-frontend"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:14,vars:0,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","./assets/img/logo.png"],[1,"spacer"],["role","main",1,"content"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"img",1),c.TgZ(2,"span"),c._uU(3,"Meteo"),c.qZA(),c._UZ(4,"div",2),c.qZA(),c.TgZ(5,"div",3),c.O4$(),c.TgZ(6,"svg",4)(7,"title"),c._uU(8,"Gray Clouds Background"),c.qZA(),c._UZ(9,"path",5),c.qZA()(),c.kcU(),c._UZ(10,"app-overview"),c.TgZ(11,"footer")(12,"span"),c._uU(13," Meteo@2022 "),c.qZA()())},directives:[o1],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#696969;color:#000;font-size:1.5em;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{color:#fff;background-color:#696969;position:fixed;left:0;bottom:0;width:100%;text-align:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']}),n})(),lC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Jr,Nt,Sf],Nt]}),n})();const yN={provide:new c.OlP("mat-autocomplete-scroll-strategy"),deps:[Lr],useFactory:function _N(n){return()=>n.scrollStrategies.reposition()}};let DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yN],imports:[[ku,Nr,Nt,Jr],To,Nr,Nt]}),n})(),px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Zd,Nt,Sf,px],Nt,px]}),n})();const BN={provide:new c.OlP("mat-select-scroll-strategy"),deps:[Lr],useFactory:function VN(n){return()=>n.scrollStrategies.reposition()}};let HN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BN],imports:[[Jr,ku,Nr,Nt],To,lC,Nr,Nt]}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[gx,Zd,Nt,Sf],gx,Nt]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Hv],imports:[[_x,lC,Nt],_x,lC]}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Zd,Nt],Nt]}),n})(),ML=(()=>{class n{constructor(){this.changes=new Ft.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AL={provide:new c.OlP("mat-datepicker-scroll-strategy"),deps:[Lr],useFactory:function SL(n){return()=>n.scrollStrategies.reposition()}};let OL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ML,AL],imports:[[Jr,QT,ku,xm,Su,Nt],To]}),n})(),zL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Jr,Nt],Nt]}),n})(),$L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[a1]}),n.\u0275inj=c.cJS({providers:[],imports:[[go,DN,QT,PN,OL,lC,nL,mL,HN,zL,eL,$w,gw,QF,HD,Og,mb,ms.hO.initializeApp(Sb_firebase),TF,lE]]}),n})();(0,c.G48)(),Ga().bootstrapModule($L).catch(n=>console.error(n))},5867:(We,ve,P)=>{P.d(ve,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=P(9681);(0,c.registerVersion)("firebase","9.8.4","app")},127:(We,ve,P)=>{P.d(ve,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.8.4","app-compat")},3677:(We,ve,P)=>{P.r(ve);var c=P(5861),te=P(3942),F=P(2090),ue=P(9681),oe=P(655),pe=P(1877),ne=P(4859);const ke=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new pe.Yd("@firebase/auth");function Ye(_,...f){Ge.logLevel<=pe.in.ERROR&&Ge.error(`Auth (${ue.SDK_VERSION}): ${_}`,...f)}function Ie(_,...f){throw Ve(_,...f)}function De(_,...f){return Ve(_,...f)}function Ee(_,f,m){const v=Object.assign(Object.assign({},Le()),{[f]:m});return new F.LL("auth","Firebase",v).create(f,{appName:_.name})}function Ne(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ie(_,"argument-error"),Ee(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(_,...f){if("string"!=typeof _){const m=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(m,...v)}return me.create(_,...f)}function z(_,f,...m){if(!_)throw Ve(f,...m)}function be(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ye(f),new Error(f)}function Y(_,f){_||be(f)}const ae=new Map;function ie(_){Y(_ instanceof Function,"Expected a class definition");let f=ae.get(_);return f?(Y(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ae.set(_,f),f)}function xe(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function tt(){return"http:"===kt()||"https:"===kt()}function kt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class jt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Y(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Et(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(_,f){Y(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class zt{static initialize(f,m,v){this.fetchImpl=f,m&&(this.headersImpl=m),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},oi=new jt(3e4,6e4);function Ot(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Mt(_,f,m,v){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(_,f,m,v,I={}){return Mi(_,I,(0,c.Z)(function*(){let R={},W={};v&&("GET"===f?W=v:R={body:JSON.stringify(v)});const he=(0,F.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Pe=yield _._getAdditionalHeaders();return Pe["Content-Type"]="application/json",_.languageCode&&(Pe["X-Firebase-Locale"]=_.languageCode),zt.fetch()(zr(_,_.config.apiHost,m,he),Object.assign({method:f,headers:Pe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Mi(_,f,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(_,f,m){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Lt),f);try{const I=new fi(_),R=yield Promise.race([m(),I.promise]);I.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw ji(_,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const he=R.ok?W.errorMessage:W.error.message,[Pe,qe]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw ji(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Pe)throw ji(_,"email-already-in-use",W);if("USER_DISABLED"===Pe)throw ji(_,"user-disabled",W);const st=v[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Ee(_,st,qe);Ie(_,st)}}catch(I){if(I instanceof F.ZR)throw I;Ie(_,"network-request-failed")}})).apply(this,arguments)}function ai(_,f,m,v){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(_,f,m,v,I={}){const R=yield Mt(_,f,m,v,I);return"mfaPendingCredential"in R&&Ie(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function zr(_,f,m,v){const I=`${f}${m}?${v}`;return _.config.emulator?hn(_.config,I):`${_.config.apiScheme}://${I}`}class fi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,v)=>{this.timer=setTimeout(()=>v(De(this.auth,"network-request-failed")),oi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ji(_,f,m){const v={appName:_.name};m.email&&(v.email=m.email),m.phoneNumber&&(v.phoneNumber=m.phoneNumber);const I=De(_,f,v);return I.customData._tokenResponse=m,I}function Ii(){return(Ii=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function on(_,f){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $r(_,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function xn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ys(){return(ys=(0,c.Z)(function*(_,f=!1){const m=(0,F.m9)(_),v=yield m.getIdToken(f),I=Qe(v);z(I&&I.exp&&I.auth_time&&I.iat,m.auth,"internal-error");const R="object"==typeof I.firebase?I.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:I,token:v,authTime:xn(xt(I.auth_time)),issuedAtTime:xn(xt(I.iat)),expirationTime:xn(xt(I.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function xt(_){return 1e3*Number(_)}function Qe(_){var f;const[m,v,I]=_.split(".");if(void 0===m||void 0===v||void 0===I)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,F.tV)(v);return R?JSON.parse(R):(Ye("Failed to decode base64 JWT payload"),null)}catch(R){return Ye("Caught error parsing JWT payload as JSON",null===(f=R)||void 0===f?void 0:f.toString()),null}}function Kn(_,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(v){throw v instanceof F.ZR&&St(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function St({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Wr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const I=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null===(m=v)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class li{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(_){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(_){var f;const m=_.auth,v=yield _.getIdToken(),I=yield Kn(_,$r(m,{idToken:v}));z(null==I?void 0:I.users.length,m,"internal-error");const R=I.users[0];_._notifyReloadListener(R);const W=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?X(R.providerUserInfo):[],he=J(_.providerData,W),st=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==he?void 0:he.length)),it={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:he,metadata:new li(R.createdAt,R.lastLoginAt),isAnonymous:st};Object.assign(_,it)})).apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(_){const f=(0,F.m9)(_);yield Zn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function J(_,f){return[..._.filter(v=>!f.some(I=>I.providerId===v.providerId)),...f]}function X(_){return _.map(f=>{var{providerId:m}=f,v=(0,oe._T)(f,["providerId"]);return{providerId:m,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ye(){return(ye=(0,c.Z)(function*(_,f){const m=yield Mi(_,{},(0,c.Z)(function*(){const v=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:R}=_.config,W=zr(_,I,"/v1/token",`key=${R}`),he=yield _._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",zt.fetch()(W,{method:"POST",headers:he,body:v})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(void 0!==f.idToken,"internal-error"),z(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function ct(_){const f=Qe(_);return z(f,"internal-error"),z(void 0!==f.exp,"internal-error"),z(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var v=this;return(0,c.Z)(function*(){return z(!v.accessToken||v.refreshToken,f,"user-token-expired"),m||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var v=this;return(0,c.Z)(function*(){const{accessToken:I,refreshToken:R,expiresIn:W}=yield function B(_,f){return ye.apply(this,arguments)}(f,m);v.updateTokensAndExpiration(I,R,Number(W))})()}updateTokensAndExpiration(f,m,v){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,m){const{refreshToken:v,accessToken:I,expirationTime:R}=m,W=new Fe;return v&&(z("string"==typeof v,"internal-error",{appName:f}),W.refreshToken=v),I&&(z("string"==typeof I,"internal-error",{appName:f}),W.accessToken=I),R&&(z("number"==typeof R,"internal-error",{appName:f}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Fe,this.toJSON())}_performRefresh(){return be("not implemented")}}function Ze(_,f){z("string"==typeof _||void 0===_,"internal-error",{appName:f})}class ft{constructor(f){var{uid:m,auth:v,stsTokenManager:I}=f,R=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=v,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new li(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const v=yield Kn(m,m.stsTokenManager.getToken(m.auth,f));return z(v,m.auth,"internal-error"),m.accessToken!==v&&(m.accessToken=v,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),v})()}getIdTokenResult(f){return function Si(_){return ys.apply(this,arguments)}(this,f)}reload(){return function q(_){return H.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ft(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var v=this;return(0,c.Z)(function*(){let I=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),I=!0),m&&(yield Zn(v)),yield v.auth._persistUserIfCurrent(v),I&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield Kn(f,function ot(_,f){return Ii.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var v,I,R,W,he,Pe,qe,st;const it=null!==(v=m.displayName)&&void 0!==v?v:void 0,Nn=null!==(I=m.email)&&void 0!==I?I:void 0,mr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,nc=null!==(W=m.photoURL)&&void 0!==W?W:void 0,wf=null!==(he=m.tenantId)&&void 0!==he?he:void 0,_m=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,cl=null!==(qe=m.createdAt)&&void 0!==qe?qe:void 0,Id=null!==(st=m.lastLoginAt)&&void 0!==st?st:void 0,{uid:Sd,emailVerified:ym,isAnonymous:Ad,providerData:Ef,stsTokenManager:vm}=m;z(Sd&&vm,f,"internal-error");const Iy=Fe.fromJSON(this.name,vm);z("string"==typeof Sd,f,"internal-error"),Ze(it,f.name),Ze(Nn,f.name),z("boolean"==typeof ym,f,"internal-error"),z("boolean"==typeof Ad,f,"internal-error"),Ze(mr,f.name),Ze(nc,f.name),Ze(wf,f.name),Ze(_m,f.name),Ze(cl,f.name),Ze(Id,f.name);const Mf=new ft({uid:Sd,auth:f,email:Nn,emailVerified:ym,displayName:it,isAnonymous:Ad,photoURL:nc,phoneNumber:mr,tenantId:wf,stsTokenManager:Iy,createdAt:cl,lastLoginAt:Id});return Ef&&Array.isArray(Ef)&&(Mf.providerData=Ef.map(Sy=>Object.assign({},Sy))),_m&&(Mf._redirectEventId=_m),Mf}static _fromIdTokenResponse(f,m,v=!1){return(0,c.Z)(function*(){const I=new Fe;I.updateFromServerResponse(m);const R=new ft({uid:m.localId,auth:f,stsTokenManager:I,isAnonymous:v});return yield Zn(R),R})()}}const $t=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,v){var I=this;return(0,c.Z)(function*(){I.storage[m]=v})()}_get(m){var v=this;return(0,c.Z)(function*(){const I=v.storage[m];return void 0===I?null:I})()}_remove(m){var v=this;return(0,c.Z)(function*(){delete v.storage[m]})()}_addListener(m,v){}_removeListener(m,v){}}return _.type="NONE",_})();function Dt(_,f,m){return`firebase:${_}:${f}:${m}`}class vn{constructor(f,m,v){this.persistence=f,this.auth=m,this.userKey=v;const{config:I,name:R}=this.auth;this.fullUserKey=Dt(this.userKey,I.apiKey,R),this.fullPersistenceKey=Dt("persistence",I.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?ft._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const v=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,v?m.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,v="authUser"){return(0,c.Z)(function*(){if(!m.length)return new vn(ie($t),f,v);const I=(yield Promise.all(m.map(function(){var qe=(0,c.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let R=I[0]||ie($t);const W=Dt(v,f.config.apiKey,f.name);let he=null;for(const qe of m)try{const st=yield qe._get(W);if(st){const it=ft._fromJSON(f,st);qe!==R&&(he=it),R=qe;break}}catch(st){}const Pe=I.filter(qe=>qe._shouldAllowMigration);return R._shouldAllowMigration&&Pe.length?(R=Pe[0],he&&(yield R._set(W,he.toJSON())),yield Promise.all(m.map(function(){var qe=(0,c.Z)(function*(st){if(st!==R)try{yield st._remove(W)}catch(it){}});return function(st){return qe.apply(this,arguments)}}())),new vn(R,f,v)):new vn(R,f,v)})()}}function vs(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(wn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(bs(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(yr(f))return"Blackberry";if(En(f))return"Webos";if(xa(f))return"Safari";if((f.includes("chrome/")||$o(f))&&!f.includes("edge/"))return"Chrome";if(ci(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function bs(_=(0,F.z$)()){return/firefox\//i.test(_)}function xa(_=(0,F.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function $o(_=(0,F.z$)()){return/crios\//i.test(_)}function wn(_=(0,F.z$)()){return/iemobile/i.test(_)}function ci(_=(0,F.z$)()){return/android/i.test(_)}function yr(_=(0,F.z$)()){return/blackberry/i.test(_)}function En(_=(0,F.z$)()){return/webos/i.test(_)}function mi(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)}function Yr(_=(0,F.z$)()){return mi(_)||ci(_)||En(_)||yr(_)||/windows phone/i.test(_)||wn(_)}function lo(_,f=[]){let m;switch(_){case"Browser":m=vs((0,F.z$)());break;case"Worker":m=`${vs((0,F.z$)())}-${_}`;break;default:m=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${v}`}class gi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const v=R=>new Promise((W,he)=>{try{W(f(R))}catch(Pe){he(Pe)}});v.onAbort=m,this.queue.push(v);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,c.Z)(function*(){var v;if(m.auth.currentUser===f)return;const I=[];try{for(const R of m.queue)yield R(f),R.onAbort&&I.push(R.onAbort)}catch(R){I.reverse();for(const W of I)try{W()}catch(he){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(v=R)||void 0===v?void 0:v.message})}})()}}class ze{constructor(f,m,v){this.app=f,this.heartbeatServiceProvider=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wt(this),this.idTokenSubscription=new Wt(this),this.beforeStateQueue=new gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,m){var v=this;return m&&(this._popupRedirectResolver=ie(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var I,R;if(!v._deleted&&(v.persistenceManager=yield vn.create(v,f),!v._deleted)){if(null===(I=v._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(W){}yield v.initializeCurrentUser(m),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var v;const I=yield m.assertedPersistence.getCurrentUser();let R=I,W=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const he=null===(v=m.redirectUser)||void 0===v?void 0:v._redirectEventId,Pe=null==R?void 0:R._redirectEventId,qe=yield m.tryRedirectSignIn(f);(!he||he===Pe)&&(null==qe?void 0:qe.user)&&(R=qe.user,W=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(R)}catch(he){R=I,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(he))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let v=null;try{v=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(I){yield m._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){var v;try{yield Zn(f)}catch(I){if("auth/network-request-failed"!==(null===(v=I)||void 0===v?void 0:v.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $e(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const v=f?(0,F.m9)(f):null;return v&&z(v.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(v&&v._clone(m))})()}_updateCurrentUser(f,m=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&z(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),m||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ie(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,m,v){return this.registerStateListener(this.authStateSubscription,f,m,v)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,v){return this.registerStateListener(this.idTokenSubscription,f,m,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var v=this;return(0,c.Z)(function*(){const I=yield v.getOrInitRedirectPersistenceManager(m);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const v=f&&ie(f)||m._popupRedirectResolver;z(v,m,"argument-error"),m.redirectPersistenceManager=yield vn.create(m,[ie(v._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var v,I;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(v=m._currentUser)||void 0===v?void 0:v._redirectEventId)===f?m._currentUser:(null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,v,I){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return z(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof m?f.addObserver(m,v,I):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=lo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return I&&(v["X-Firebase-Client"]=I),v})()}}function Je(_){return(0,F.m9)(_)}class Wt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function nr(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Ui{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,m){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function mn(_,f){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:resetPassword",Ot(_,f))})).apply(this,arguments)}function co(_,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ra(_,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",Ot(_,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithPassword",Ot(_,f))})).apply(this,arguments)}function Zr(_,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:sendOobCode",Ot(_,f))})).apply(this,arguments)}function Zt(_,f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function Yo(_,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function ir(_,f){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function Tc(_,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,f))})).apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,f))})).apply(this,arguments)}class Qn extends Ui{constructor(f,m,v,I=null){super("password",v),this._email=f,this._password=m,this._tenantId=I}static _fromEmailAndPassword(f,m){return new Qn(f,m,"password")}static _fromEmailAndCode(f,m,v=null){return new Qn(f,m,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Rn(_,f){return Ds.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function sr(_,f){return Fa.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,m){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return co(f,{idToken:m,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Uh(_,f){return kc.apply(this,arguments)}(f,{idToken:m,email:v._email,oobCode:v._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Qr(_,f){return xc.apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithIdp",Ot(_,f))})).apply(this,arguments)}class vr extends Ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new vr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:I}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!v||!I)return null;const W=new vr(v,I);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(f){return Qr(f,this.buildRequest())}_linkToIdToken(f,m){const v=this.buildRequest();return v.idToken=m,Qr(f,v)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Qr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,F.xO)(m)}return f}}function zh(_,f){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:sendVerificationCode",Ot(_,f))})).apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,f))})).apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(_,f){const m=yield ai(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,f));if(m.temporaryProof)throw ji(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Wh={USER_NOT_FOUND:"user-not-found"};function Pc(){return(Pc=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wh)})).apply(this,arguments)}class uo extends Ui{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new uo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new uo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Al(_,f){return Xr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function $h(_,f){return Oc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Yh(_,f){return Pc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:v,verificationCode:I}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:v,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:v,phoneNumber:I,temporaryProof:R}=f;return v||m||I||R?new uo({verificationId:m,verificationCode:v,phoneNumber:I,temporaryProof:R}):null}}class Na{constructor(f){var m,v,I,R,W,he;const Pe=(0,F.zd)((0,F.pd)(f)),qe=null!==(m=Pe.apiKey)&&void 0!==m?m:null,st=null!==(v=Pe.oobCode)&&void 0!==v?v:null,it=function nd(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Pe.mode)&&void 0!==I?I:null);z(qe&&st&&it,"argument-error"),this.apiKey=qe,this.operation=it,this.code=st,this.continueUrl=null!==(R=Pe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Pe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(he=Pe.tenantId)&&void 0!==he?he:null}static parseLink(f){const m=function qo(_){const f=(0,F.zd)((0,F.pd)(_)).link,m=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,v=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(v?(0,F.zd)((0,F.pd)(v)).link:null)||v||m||f||_}(f);try{return new Na(m)}catch(v){return null}}}let Nc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,v){return Qn._fromEmailAndPassword(m,v)}static credentialWithLink(m,v){const I=Na.parseLink(v);return z(I,"argument-error"),Qn._fromEmailAndCode(m,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Xn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ws extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class or extends ws{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return z("providerId"in m&&"signInMethod"in m,"argument-error"),vr._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return or.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return or.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:v,oauthTokenSecret:I,pendingToken:R,nonce:W,providerId:he}=f;if(!v&&!I&&!m&&!R||!he)return null;try{return new or(he)._credential({idToken:m,accessToken:v,nonce:W,pendingToken:R})}catch(Pe){return null}}}let ho=(()=>{class _ extends ws{constructor(){super("facebook.com")}static credential(m){return vr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Lc=(()=>{class _ extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(m,v){return vr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:v})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:I}=m;if(!v&&!I)return null;try{return _.credential(v,I)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),id=(()=>{class _ extends ws{constructor(){super("github.com")}static credential(m){return vr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Es extends Ui{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Qr(f,this.buildRequest())}_linkToIdToken(f,m){const v=this.buildRequest();return v.idToken=m,Qr(f,v)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Qr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:I,pendingToken:R}=m;return v&&I&&R&&v===I?new Es(v,R):null}static _create(f,m){return new Es(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends Xn{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ui.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ui.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Es.fromJSON(f);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:v}=f;if(!m||!v)return null;try{return Es._create(v,m)}catch(I){return null}}}let Vc=(()=>{class _ extends ws{constructor(){super("twitter.com")}static credential(m,v){return vr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:v})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:v,oauthTokenSecret:I}=m;if(!v||!I)return null;try{return _.credential(v,I)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Jn(_,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signUp",Ot(_,f))})).apply(this,arguments)}class Ti{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,v,I=!1){return(0,c.Z)(function*(){const R=yield ft._fromIdTokenResponse(f,v,I),W=Tl(v);return new Ti({user:R,providerId:W,_tokenResponse:v,operationType:m})})()}static _forOperation(f,m,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const I=Tl(v);return new Ti({user:f,providerId:I,_tokenResponse:v,operationType:m})})()}}function Tl(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Hc(){return(Hc=(0,c.Z)(function*(_){var f;const m=Je(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Ti({user:m.currentUser,providerId:null,operationType:"signIn"});const v=yield Jn(m,{returnSecureToken:!0}),I=yield Ti._fromIdTokenResponse(m,"signIn",v,!0);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class Zo extends F.ZR{constructor(f,m,v,I){var R;super(m.code,m.message),this.operationType=v,this.user=I,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,m,v,I){return new Zo(f,m,v,I)}}function kl(_,f,m,v){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Zo._fromErrorAndOperation(_,R,f,v):R})}function ar(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Yt(){return(Yt=(0,c.Z)(function*(_,f){const m=(0,F.m9)(_);yield Bt(!0,m,f);const{providerUserInfo:v}=yield on(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),I=ar(v||[]);return m.providerData=m.providerData.filter(R=>I.has(R.providerId)),I.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Qo(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(_,f,m=!1){const v=yield Kn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Ti._forOperation(_,"link",v)})).apply(this,arguments)}function Bt(_,f,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(_,f,m){yield Zn(f);const I=!1===_?"provider-already-linked":"no-such-provider";z(ar(f.providerData).has(m)===_,f.auth,I)})).apply(this,arguments)}function La(_,f){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(_,f,m=!1){var v;const{auth:I}=_,R="reauthenticate";try{const W=yield Kn(_,kl(I,R,f,_),m);z(W.idToken,I,"internal-error");const he=Qe(W.idToken);z(he,I,"internal-error");const{sub:Pe}=he;return z(_.uid===Pe,I,"user-mismatch"),Ti._forOperation(_,R,W)}catch(W){throw"auth/user-not-found"===(null===(v=W)||void 0===v?void 0:v.code)&&Ie(I,"user-mismatch"),W}})).apply(this,arguments)}function Un(_,f){return xl.apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(_,f,m=!1){const v="signIn",I=yield kl(_,v,f),R=yield Ti._fromIdTokenResponse(_,v,I);return m||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function nn(_,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,f){return Un(Je(_),f)})).apply(this,arguments)}function Gn(_,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(_,f){const m=(0,F.m9)(_);return yield Bt(!1,m,f.providerId),Qo(m,f)})).apply(this,arguments)}function br(_,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(_,f){return La((0,F.m9)(_),f)})).apply(this,arguments)}function Gi(_,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(_,f){return ai(_,"POST","/v1/accounts:signInWithCustomToken",Ot(_,f))})).apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(_,f){const m=Je(_),v=yield Gi(m,{token:f,returnSecureToken:!0}),I=yield Ti._fromIdTokenResponse(m,"signIn",v);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class ts{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Rl._fromServerResponse(f,m):Ie(f,"internal-error")}}class Rl extends ts{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Rl(m)}}function ea(_,f,m){var v;z((null===(v=m.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),z(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Va(){return(Va=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_),I={requestType:"PASSWORD_RESET",email:f};m&&ea(v,I,m),yield Yo(v,I)})).apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(_,f,m){yield mn((0,F.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(_,f){yield Ra((0,F.m9)(_),{oobCode:f})})).apply(this,arguments)}function It(_,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_,f){const m=(0,F.m9)(_),v=yield mn(m,{oobCode:f}),I=v.requestType;switch(z(I,m,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(v.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(v.mfaInfo,m,"internal-error");default:z(v.email,m,"internal-error")}let R=null;return v.mfaInfo&&(R=ts._fromServerResponse(Je(m),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:I}})).apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(_,f){const{data:m}=yield It((0,F.m9)(_),f);return m.email})).apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(_,f,m){const v=Je(_),I=yield Jn(v,{returnSecureToken:!0,email:f,password:m}),R=yield Ti._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ll(){return(Ll=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_),I={requestType:"EMAIL_SIGNIN",email:f};z(m.handleCodeInApp,v,"argument-error"),m&&ea(v,I,m),yield ir(v,I)})).apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_),I=Nc.credentialWithLink(f,m||xe());return z(I._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),nn(v,I)})).apply(this,arguments)}function ei(_,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:createAuthUri",Ot(_,f))})).apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(_,f){const v={identifier:f,continueUri:tt()?xe():"http://localhost"},{signinMethods:I}=yield ei((0,F.m9)(_),v);return I||[]})).apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(_,f){const m=(0,F.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ea(m.auth,I,f);const{email:R}=yield Zt(m.auth,I);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&ea(v.auth,R,m);const{email:W}=yield Tc(v.auth,R);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function Bl(_,f){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const v=(0,F.m9)(_),R={idToken:yield v.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},W=yield Kn(v,Bl(v.auth,R));v.displayName=W.displayName||null,v.photoURL=W.photoUrl||null;const he=v.providerData.find(({providerId:Pe})=>"password"===Pe);he&&(he.displayName=v.displayName,he.photoURL=v.photoURL),yield v._updateTokensIfNecessary(W)})).apply(this,arguments)}function Wa(_,f,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(_,f,m){const{auth:v}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),m&&(R.password=m);const W=yield Kn(_,co(v,R));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class _o{constructor(f,m,v={}){this.isNewUser=f,this.providerId=m,this.profile=v}}class $c extends _o{constructor(f,m,v,I){super(f,m,v),this.username=I}}class Ya extends _o{constructor(f,m){super(f,"facebook.com",m)}}class vi extends $c{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class sd extends _o{constructor(f,m){super(f,"google.com",m)}}class Hl extends $c{constructor(f,m,v){super(f,"twitter.com",m,v)}}function On(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function zc(_){var f,m;if(!_)return null;const{providerId:v}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const W=null===(m=null===(f=Qe(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new _o(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!v)return null;switch(v){case"facebook.com":return new Ya(R,I);case"github.com":return new vi(R,I);case"google.com":return new sd(R,I);case"twitter.com":return new Hl(R,I,_.screenName||null);case"custom":case"anonymous":return new _o(R,null);default:return new _o(R,v,I)}}(m)}class Dr{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Dr("enroll",f)}static _fromMfaPendingCredential(f){return new Dr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,v;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Dr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return Dr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xs{constructor(f,m,v){this.session=f,this.hints=m,this.signInResolver=v}static _fromError(f,m){const v=Je(f),I=m.customData._serverResponse,R=(I.mfaInfo||[]).map(he=>ts._fromServerResponse(v,he));z(I.mfaPendingCredential,v,"internal-error");const W=Dr._fromMfaPendingCredential(I.mfaPendingCredential);return new xs(W,R,function(){var he=(0,c.Z)(function*(Pe){const qe=yield Pe._process(v,W);delete I.mfaInfo,delete I.mfaPendingCredential;const st=Object.assign(Object.assign({},I),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(m.operationType){case"signIn":const it=yield Ti._fromIdTokenResponse(v,m.operationType,st);return yield v._updateCurrentUser(it.user),it;case"reauthenticate":return z(m.user,v,"internal-error"),Ti._forOperation(m.user,m.operationType,st);default:Ie(v,"internal-error")}});return function(Pe){return he.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function qc(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:start",Ot(_,f))}class yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(v=>ts._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new yo(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Dr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var v=this;return(0,c.Z)(function*(){const I=f,R=yield v.getSession(),W=yield Kn(v.user,I._process(v.user.auth,R,m));return yield v.user._updateTokensIfNecessary(W),v.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){var v;const I="string"==typeof f?f:f.uid,R=yield m.user.getIdToken(),W=yield Kn(m.user,function Rs(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(_,f))}(m.user.auth,{idToken:R,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:he})=>he!==I),yield m.user._updateTokensIfNecessary(W);try{yield m.user.reload()}catch(he){if("auth/user-token-expired"!==(null===(v=he)||void 0===v?void 0:v.code))throw he}})()}}const qa=new WeakMap,ur="__sak";class na{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ur,"1"),this.storage.removeItem(ur),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const $i=(()=>{class _ extends na{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,v)=>this.onStorageEvent(m,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xh(){const _=(0,F.z$)();return xa(_)||mi(_)}()&&function Hn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Yr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const v of Object.keys(this.listeners)){const I=this.storage.getItem(v),R=this.localCache[v];I!==R&&m(v,R,I)}}onStorageEvent(m,v=!1){if(!m.key)return void this.forAllChangedKeys((he,Pe,qe)=>{this.notifyListeners(he,qe)});const I=m.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(I);if(m.newValue!==he)null!==m.newValue?this.storage.setItem(I,m.newValue):this.storage.removeItem(I);else if(this.localCache[I]===m.newValue&&!v)return}const R=()=>{const he=this.storage.getItem(I);!v&&this.localCache[I]===he||this.notifyListeners(I,he)},W=this.storage.getItem(I);!function Wo(){return(0,F.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,v){this.localCache[m]=v;const I=this.listeners[m];if(I)for(const R of Array.from(I))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,v,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:v,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,v){var I=()=>super._set,R=this;return(0,c.Z)(function*(){yield I().call(R,m,v),R.localCache[m]=JSON.stringify(v)})()}_get(m){var v=()=>super._get,I=this;return(0,c.Z)(function*(){const R=yield v().call(I,m);return I.localCache[m]=JSON.stringify(R),R})()}_remove(m){var v=()=>super._remove,I=this;return(0,c.Z)(function*(){yield v().call(I,m),delete I.localCache[m]})()}}return _.type="LOCAL",_})(),zn=(()=>{class _ extends na{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,v){}_removeListener(m,v){}}return _.type="SESSION",_})();let Kc=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const v=this.receivers.find(R=>R.isListeningto(m));if(v)return v;const I=new _(m);return this.receivers.push(I),I}isListeningto(m){return this.eventTarget===m}handleEvent(m){var v=this;return(0,c.Z)(function*(){const I=m,{eventId:R,eventType:W,data:he}=I.data,Pe=v.handlersMap[W];if(!(null==Pe?void 0:Pe.size))return;I.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const qe=Array.from(Pe).map(function(){var it=(0,c.Z)(function*(Nn){return Nn(I.origin,he)});return function(Nn){return it.apply(this,arguments)}}()),st=yield function Ka(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(v){return{fulfilled:!1,reason:v}}});return function(m){return f.apply(this,arguments)}}()))}(qe);I.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:st})})()}_subscribe(m,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(v)}_unsubscribe(m,v){this.handlersMap[m]&&v&&this.handlersMap[m].delete(v),(!v||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function is(_="",f=10){let m="";for(let v=0;v<f;v++)m+=Math.floor(10*Math.random());return _+m}class Ps{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,v=50){var I=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,he;return new Promise((Pe,qe)=>{const st=is("",20);R.port1.start();const it=setTimeout(()=>{qe(new Error("unsupported_event"))},v);he={messageChannel:R,onMessage(Nn){const mr=Nn;if(mr.data.eventId===st)switch(mr.data.status){case"ack":clearTimeout(it),W=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Pe(mr.data.response);break;default:clearTimeout(it),clearTimeout(W),qe(new Error("invalid_response"))}}},I.handlers.add(he),R.port1.addEventListener("message",he.onMessage),I.target.postMessage({eventType:f,eventId:st,data:m},[R.port2])}).finally(()=>{he&&I.removeMessageHandler(he)})})()}}function _n(){return window}function ia(){return void 0!==_n().WorkerGlobalScope&&"function"==typeof _n().importScripts}function Zc(){return(Zc=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Er="firebaseLocalStorageDb",an="firebaseLocalStorage",Pn="fbase_key";class Ns{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ln(_,f){return _.transaction([an],f?"readwrite":"readonly").objectStore(an)}function In(){const _=indexedDB.open(Er,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(an,{keyPath:Pn})}catch(I){m(I)}}),_.addEventListener("success",(0,c.Z)(function*(){const v=_.result;v.objectStoreNames.contains(an)?f(v):(v.close(),yield function Jt(){const _=indexedDB.deleteDatabase(Er);return new Ns(_).toPromise()}(),f(yield In()))}))})}function tn(_,f,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(_,f,m){const v=ln(_,!0).put({[Pn]:f,value:m});return new Ns(v).toPromise()})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(_,f){const m=ln(_,!1).get(f),v=yield new Ns(m).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function rn(_,f){const m=ln(_,!0).delete(f);return new Ns(m).toPromise()}const bo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield In()),m.db})()}_withRetries(m){var v=this;return(0,c.Z)(function*(){let I=0;for(;;)try{const R=yield v._openDb();return yield m(R)}catch(R){if(I++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return ia()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Kc._getInstance(function Ft(){return ia()?self:null}()),m.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(I,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(I,R){return v.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(I,R){return["keyChanged"]});return function(I,R){return v.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var v,I;if(m.activeServiceWorker=yield function ra(){return Zc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ps(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(v=R[0])||void 0===v?void 0:v.fulfilled)&&(null===(I=R[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function vo(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:m},v.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield In();return yield tn(m,ur,"1"),yield rn(m,ur),!0}catch(m){}return!1})()}_withPendingWrite(m){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield m()}finally{v.pendingWrites--}})()}_set(m,v){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(R=>tn(R,m,v)),I.localCache[m]=v,I.notifyServiceWorker(m)}))})()}_get(m){var v=this;return(0,c.Z)(function*(){const I=yield v._withRetries(R=>function sa(_,f){return ti.apply(this,arguments)}(R,m));return v.localCache[m]=I,I})()}_remove(m){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(I=>rn(I,m)),delete v.localCache[m],v.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const v=yield m._withRetries(W=>{const he=ln(W,!1).getAll();return new Ns(he).toPromise()});if(!v)return[];if(0!==m.pendingWrites)return[];const I=[],R=new Set;for(const{fbase_key:W,value:he}of v)R.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(he)&&(m.notifyListeners(W,he),I.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!R.has(W)&&(m.notifyListeners(W,null),I.push(W));return I})()}notifyListeners(m,v){this.localCache[m]=v;const I=this.listeners[m];if(I)for(const R of Array.from(I))R(v)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Wi(_,f){return Mt(_,"POST","/v2/accounts/mfaSignIn:start",Ot(_,f))}function Co(){return(Co=(0,c.Z)(function*(_){return(yield Mt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ul(_){return new Promise((f,m)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=I=>{const R=De("internal-error");R.customData=I,m(R)},v.type="text/javascript",v.charset="UTF-8",function $n(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function di(_){return`__${_}${Math.floor(1e6*Math.random())}`}const rs=1e12;class Gl{constructor(f){this.auth=f,this.counter=rs,this._widgets=new Map}render(f,m){const v=this.counter;return this._widgets.set(v,new dr(f,this.auth.name,m||{})),this.counter++,v}reset(f){var m;const v=f||rs;null===(m=this._widgets.get(v))||void 0===m||m.delete(),this._widgets.delete(v)}getResponse(f){var m;return(null===(m=this._widgets.get(f||rs))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var v;return null===(v=m._widgets.get(f||rs))||void 0===v||v.execute(),""})()}}class dr{constructor(f,m,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;z(I,"argument-error",{appName:m}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oa(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ss=di("rcb"),cn=new jt(3e4,6e4);class ad{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_n().grecaptcha}load(f,m=""){return z(function ef(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(_n().grecaptcha):new Promise((v,I)=>{const R=_n().setTimeout(()=>{I(De(f,"network-request-failed"))},cn.get());_n()[ss]=()=>{_n().clearTimeout(R),delete _n()[ss];const he=_n().grecaptcha;if(!he)return void I(De(f,"internal-error"));const Pe=he.render;he.render=(qe,st)=>{const it=Pe(qe,st);return this.counter++,it},this.hostLanguage=m,v(he)},Ul(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:ss,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),I(De(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!_n().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ld{load(f){return(0,c.Z)(function*(){return new Gl(f)})()}clearedOneInstance(){}}const Bs="recaptcha",Hs={theme:"light",type:"image"};class Qc{constructor(f,m=Object.assign({},Hs),v){this.parameters=m,this.type=Bs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Je(v),this.isInvisible="invisible"===this.parameters.size,z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;z(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ld:new ad,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(m)||new Promise(R=>{const W=he=>{!he||(f.tokenChangeListeners.delete(W),R(he))};f.tokenChangeListeners.add(W),f.isInvisible&&v.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(v=>v(m)),"function"==typeof f)f(m);else if("string"==typeof f){const v=_n()[f];"function"==typeof v&&v(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const v=document.createElement("div");m.appendChild(v),m=v}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){z(tt()&&!ia(),f.auth,"internal-error"),yield function os(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Pi(_){return Co.apply(this,arguments)}(f.auth);z(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xc{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=uo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function aa(){return(aa=(0,c.Z)(function*(_,f,m){const v=Je(_),I=yield bi(v,f,(0,F.m9)(m));return new Xc(I,R=>nn(v,R))})).apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_);yield Bt(!1,v,"phone");const I=yield bi(v.auth,f,(0,F.m9)(m));return new Xc(I,R=>Gn(v,R))})).apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_),I=yield bi(v.auth,f,(0,F.m9)(m));return new Xc(I,R=>br(v,R))})).apply(this,arguments)}function bi(_,f,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(_,f,m){var v;const I=yield m.verify();try{let R;if(z("string"==typeof I,_,"argument-error"),z(m.type===Bs,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const W=R.session;if("phoneNumber"in R)return z("enroll"===W.type,_,"internal-error"),(yield qc(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{z("signin"===W.type,_,"internal-error");const he=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return z(he,_,"missing-multi-factor-info"),(yield Wi(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield zh(_,{phoneNumber:R.phoneNumber,recaptchaToken:I});return W}}finally{m._reset()}})).apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(_,f){yield Qo((0,F.m9)(_),f)})).apply(this,arguments)}let as=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Je(m)}verifyPhoneNumber(m,v){return bi(this.auth,m,(0,F.m9)(v))}static credential(m,v){return uo._fromVerification(m,v)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:v,temporaryProof:I}=m;return v&&I?uo._fromTokenResponse(v,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Sr(_,f){return f?ie(f):(z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Do extends Ui{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Qr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Qr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Qr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function hr(_){return Un(_.auth,new Do(_),_.bypassAuthState)}function wo(_){const{auth:f,user:m}=_;return z(m,f,"internal-error"),La(m,new Do(_),_.bypassAuthState)}function ud(_){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(_){const{auth:f,user:m}=_;return z(m,f,"internal-error"),Qo(m,new Do(_),_.bypassAuthState)})).apply(this,arguments)}class zl{constructor(f,m,v,I,R=!1){this.auth=f,this.resolver=v,this.user=I,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(v,I){f.pendingPromise={resolve:v,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(v,I){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:I,postBody:R,tenantId:W,error:he,type:Pe}=f;if(he)return void m.reject(he);const qe={auth:m.auth,requestUri:v,sessionId:I,tenantId:W||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(qe))}catch(st){m.reject(st)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return hr;case"linkViaPopup":case"linkViaRedirect":return ud;case"reauthViaPopup":case"reauthViaRedirect":return wo;default:Ie(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Eo=new jt(2e3,1e4);function Ar(){return(Ar=(0,c.Z)(function*(_,f,m){const v=Je(_);Ne(_,f,Xn);const I=Sr(v,m);return new eu(v,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_);Ne(v.auth,f,Xn);const I=Sr(v.auth,m);return new eu(v.auth,"reauthViaPopup",f,I,v).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_);Ne(v.auth,f,Xn);const I=Sr(v.auth,m);return new eu(v.auth,"linkViaPopup",f,I,v).executeNotNull()})).apply(this,arguments)}let eu=(()=>{class _ extends zl{constructor(m,v,I,R,W){super(m,v,R,W),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const v=yield m.execute();return z(v,m.auth,"internal-error"),v})()}onExecution(){var m=this;return(0,c.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const v=is();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],v),m.authWindow.associatedEvent=v,m.resolver._originValidation(m.auth).catch(I=>{m.reject(I)}),m.resolver._isIframeWebStorageSupported(m.auth,I=>{I||m.reject(De(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var v,I;this.pollId=(null===(I=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Eo.get())};m()}}return _.currentPopupAction=null,_})();const Io=new Map;class So extends zl{constructor(f,m,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let v=Io.get(m.auth._key());if(!v){try{const R=(yield function dd(_,f){return Us.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;v=()=>Promise.resolve(R)}catch(I){v=()=>Promise.reject(I)}Io.set(m.auth._key(),v)}return m.bypassAuthState||Io.set(m.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(v,f);if("unknown"!==f.type){if(f.eventId){const I=yield v.auth._redirectUserForId(f.eventId);if(I)return v.user=I,m().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Us(){return(Us=(0,c.Z)(function*(_,f){const m=V(f),v=x(_);if(!(yield v._isAvailable()))return!1;const I="true"===(yield v._get(m));return yield v._remove(m),I})).apply(this,arguments)}function la(_,f){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(_,f){return x(_)._set(V(f),"true")})).apply(this,arguments)}function M(_,f){Io.set(_._key(),f)}function x(_){return ie(_._redirectPersistence)}function V(_){return Dt("pendingRedirect",_.config.apiKey,_.name)}function Ce(){return(Ce=(0,c.Z)(function*(_,f,m){const v=Je(_);Ne(_,f,Xn);const I=Sr(v,m);return yield la(I,v),I._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_);Ne(v.auth,f,Xn);const I=Sr(v.auth,m);yield la(I,v.auth);const R=yield kr(v);return I._openRedirect(v.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(_,f,m){const v=(0,F.m9)(_);Ne(v.auth,f,Xn);const I=Sr(v.auth,m);yield Bt(!1,v,f.providerId),yield la(I,v.auth);const R=yield kr(v);return I._openRedirect(v.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(_,f){return yield Je(_)._initializationPromise,Gs(_,f,!1)})).apply(this,arguments)}function Gs(_,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(_,f,m=!1){const v=Je(_),I=Sr(v,f),W=yield new So(v,I,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield v._persistUserIfCurrent(W.user),yield v._setRedirectUser(null,f)),W})).apply(this,arguments)}function kr(_){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(_){const f=is(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class zs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(m=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function To(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nl(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var v;if(f.error&&!nl(f)){const I=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";m.onError(De(this.auth,I))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const v=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($s(f))}saveEventToCache(f){this.cachedEventUids.add($s(f)),this.lastProcessedEventTime=Date.now()}}function $s(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function nl({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function $l(_){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(_,f={}){return Mt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Kp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,il=/^https?/;function Yl(){return(Yl=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield $l(_);for(const m of f)try{if(ql(m))return}catch(v){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function ql(_){const f=xe(),{protocol:m,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===v?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===v}if(!il.test(m))return!1;if(Kp.test(_))return v===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(v)}const tf=new jt(3e4,6e4);function ua(){const _=_n().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let da=null;function Zp(_){return da=da||function Kl(_){return new Promise((f,m)=>{var v,I,R;function W(){ua(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ua(),m(De(_,"network-request-failed"))},timeout:tf.get()})}if(null===(I=null===(v=_n().gapi)||void 0===v?void 0:v.iframes)||void 0===I?void 0:I.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=_n().gapi)||void 0===R?void 0:R.load)){const he=di("iframefcb");return _n()[he]=()=>{gapi.load?W():m(De(_,"network-request-failed"))},Ul(`https://apis.google.com/js/api.js?onload=${he}`).catch(Pe=>m(Pe))}W()}}).catch(f=>{throw da=null,f})}(_),da}const Qp=new jt(5e3,15e3),ko={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fd(_){const f=_.config;z(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?hn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:ue.SDK_VERSION},I=nf.get(_.config.apiHost);I&&(v.eid=I);const R=_._getFrameworks();return R.length&&(v.fw=R.join(",")),`${m}?${(0,F.xO)(v).slice(1)}`}function xo(){return xo=(0,c.Z)(function*(_){const f=yield Zp(_),m=_n().gapi;return z(m,_,"internal-error"),f.open({where:document.body,url:fd(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ko,dontclear:!0},v=>new Promise(function(){var I=(0,c.Z)(function*(R,W){yield v.restyle({setHideOnLeave:!1});const he=De(_,"network-request-failed"),Pe=_n().setTimeout(()=>{W(he)},Qp.get());function qe(){_n().clearTimeout(Pe),R(v)}v.ping(qe).then(qe,()=>{W(he)})});return function(R,W){return I.apply(this,arguments)}}()))}),xo.apply(this,arguments)}const tu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Fn(_,f,m,v,I,R){z(_.config.authDomain,_,"auth-domain-config-required"),z(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:v,v:ue.SDK_VERSION,eventId:I};if(f instanceof Xn){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Pe,qe]of Object.entries(R||{}))W[Pe]=qe}if(f instanceof ws){const Pe=f.getScopes().filter(qe=>""!==qe);Pe.length>0&&(W.scopes=Pe.join(","))}_.tenantId&&(W.tid=_.tenantId);const he=W;for(const Pe of Object.keys(he))void 0===he[Pe]&&delete he[Pe];return`${function Ro({config:_}){return _.emulator?hn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(he).slice(1)}`}const sl="webStorageSupport";class md extends class sf{constructor(f){this.factorId=f}_process(f,m,v){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,v);case"signin":return this._finalizeSignIn(f,m.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new md(f)}_finalizeEnroll(f,m,v){return function Qh(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(_,f))}(f,{idToken:m,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function od(_,f){return Mt(_,"POST","/v2/accounts/mfaSignIn:finalize",Ot(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cy=(()=>{class _{constructor(){}static assertion(m){return md._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var af="@firebase/auth";class uy{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(v=>{var I;f((null===(I=v)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ol(){return window}function Di(){return(Di=(0,c.Z)(function*(_,f,m){var v;const{BuildInfo:I}=ol();Y(f.sessionId,"AuthEvent did not contain a session ID");const R=yield _d(f.sessionId),W={};return mi()?W.ibi=I.packageName:ci()?W.apn=I.packageName:Ie(_,"operation-not-supported-in-this-environment"),I.displayName&&(W.appDisplayName=I.displayName),W.sessionId=R,Fn(_,m,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,W)})).apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(_){const{BuildInfo:f}=ol(),m={};mi()?m.iosBundleId=f.packageName:ci()?m.androidPackageName=f.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield $l(_,m)})).apply(this,arguments)}function rm(){return(rm=(0,c.Z)(function*(_,f,m){const{cordova:v}=ol();let I=()=>{};try{yield new Promise((R,W)=>{let he=null;function Pe(){var it;R();const Nn=null===(it=v.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof Nn&&Nn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function qe(){he||(he=window.setTimeout(()=>{W(De(_,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}f.addPassiveListener(Pe),document.addEventListener("resume",qe,!1),ci()&&document.addEventListener("visibilitychange",st,!1),I=()=>{f.removePassiveListener(Pe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",st,!1),he&&window.clearTimeout(he)}})}finally{I()}})).apply(this,arguments)}function _d(_){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(_){const f=cf(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cf(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let v=0;v<_.length;v++)m[v]=_.charCodeAt(v);return m}!function hy(_){(0,ue._registerComponent)(new ne.wA("auth",(f,{options:m})=>{const v=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),{apiKey:R,authDomain:W}=v.options;return((he,Pe)=>{z(R&&!R.includes(":"),"invalid-api-key",{appName:he.name}),z(!(null==W?void 0:W.includes(":")),"argument-error",{appName:he.name});const qe={apiKey:R,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lo(_)},st=new ze(he,Pe,qe);return function ce(_,f){const m=(null==f?void 0:f.persistence)||[],v=(Array.isArray(m)?m:[m]).map(ie);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(st,m),st})(v,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,v)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ne.wA("auth-internal",f=>{const m=Je(f.getProvider("auth").getImmediate());return new uy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(af,"0.20.4",function dy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(af,"0.20.4","esm2017")}("Browser");class sm extends zs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function uf(_){return df.apply(this,arguments)}function df(){return(df=(0,c.Z)(function*(_){const f=yield ru()._get(ll(_));return f&&(yield ru()._remove(ll(_))),f})).apply(this,arguments)}function lm(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function ru(){return ie($i)}function ll(_){return Dt("authEvent",_.config.apiKey,_.name)}function ma(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,F.zd)(m.join("?"))}function vd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function ga(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function py(_=(0,F.z$)()){return!("file:"!==ga()&&"ionic:"!==ga()&&"capacitor:"!==ga()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function mf(){try{const _=self.localStorage,f=is();if(_)return _.setItem(f,"1"),_.removeItem(f),!function pf(_=(0,F.z$)()){return function su(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Fi(_=(0,F.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,F.hl)()}catch(_){return Cd()&&(0,F.hl)()}return!1}function Cd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ii(){return(function fy(){return"http:"===ga()||"https:"===ga()}()||(0,F.ru)()||py())&&!function wC(){return(0,F.b$)()||(0,F.UG)()}()&&mf()&&!Cd()}function ec(){return py()&&"undefined"!=typeof document}function _f(){return(_f=(0,c.Z)(function*(){return!!ec()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Yi={LOCAL:"local",NONE:"none",SESSION:"session"},ou=z,yf="persistence";function Dd(_){return vf.apply(this,arguments)}function vf(){return(vf=(0,c.Z)(function*(_){yield _._initializationPromise;const f=wd(),m=Dt(yf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function wd(){var _;try{return(null===(_=function my(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const yy=z;class _a{constructor(){this.browserResolver=ie(class pd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zn,this._completeRedirectFn=Gs,this._overrideRedirectResult=M}_openPopup(f,m,v,I){var R=this;return(0,c.Z)(function*(){var W;Y(null===(W=R.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const he=Fn(f,m,v,xe(),I);return function em(_,f,m,v=500,I=600){const R=Math.max((window.screen.availHeight-I)/2,0).toString(),W=Math.max((window.screen.availWidth-v)/2,0).toString();let he="";const Pe=Object.assign(Object.assign({},tu),{width:v.toString(),height:I.toString(),top:R,left:W}),qe=(0,F.z$)().toLowerCase();m&&(he=$o(qe)?"_blank":m),bs(qe)&&(f=f||"http://localhost",Pe.scrollbars="yes");const st=Object.entries(Pe).reduce((Nn,[mr,nc])=>`${Nn}${mr}=${nc},`,"");if(function Cs(_=(0,F.z$)()){var f;return mi(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(qe)&&"_self"!==he)return function tm(_,f){const m=document.createElement("a");m.href=_,m.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(v)}(f||"",he),new rl(null);const it=window.open(f||"",he,st);z(it,_,"popup-blocked");try{it.focus()}catch(Nn){}return new rl(it)}(f,he,is())})()}_openRedirect(f,m,v,I){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(f),function wr(_){_n().location.href=_}(Fn(f,m,v,xe(),I)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:I,promise:R}=this.eventManagers[m];return I?Promise.resolve(I):(Y(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(f);return this.eventManagers[m]={promise:v},v.catch(()=>{delete this.eventManagers[m]}),v}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const v=yield function Xp(_){return xo.apply(this,arguments)}(f),I=new zs(f);return v.register("authEvent",R=>(z(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:I.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:I},m.iframes[f._key()]=v,I})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(sl,{type:sl},I=>{var R;const W=null===(R=null==I?void 0:I[0])||void 0===R?void 0:R[sl];void 0!==W&&m(!!W),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Wl(_){return Yl.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yr()||xa()||mi()}}),this.cordovaResolver=ie(class um{constructor(){this._redirectPersistence=zn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gs,this._overrideRedirectResult=M}_initialize(f){var m=this;return(0,c.Z)(function*(){const v=f._key();let I=m.eventManagers.get(v);return I||(I=new sm(f),m.eventManagers.set(v,I),m.attachCallbackListeners(f,I)),I})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,v,I){var R=this;return(0,c.Z)(function*(){!function gd(_){var f,m,v,I,R,W,he,Pe,qe,st;const it=ol();z("function"==typeof(null===(f=null==it?void 0:it.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(void 0!==(null===(m=null==it?void 0:it.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(R=null===(I=null===(v=null==it?void 0:it.cordova)||void 0===v?void 0:v.plugins)||void 0===I?void 0:I.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Pe=null===(he=null===(W=null==it?void 0:it.cordova)||void 0===W?void 0:W.plugins)||void 0===he?void 0:he.browsertab)||void 0===Pe?void 0:Pe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(st=null===(qe=null==it?void 0:it.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===st?void 0:st.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield R._initialize(f);yield W.initialized(),W.resetRedirect(),function w(){Io.clear()}(),yield R._originValidation(f);const he=function DC(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:lm(),postBody:null,tenantId:_.tenantId,error:De(_,"no-auth-event")}}(f,v,I);yield function om(_,f){return ru()._set(ll(_),f)}(f,he);const Pe=yield function lf(_,f,m){return Di.apply(this,arguments)}(f,he,m),qe=yield function Jl(_){const{cordova:f}=ol();return new Promise(m=>{f.plugins.browsertab.isAvailable(v=>{let I=null;v?f.plugins.browsertab.openUrl(_):I=f.InAppBrowser.open(_,function Ac(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(I)})})}(Pe);return function im(_,f,m){return rm.apply(this,arguments)}(f,W,qe)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Oo(_){return pa.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:v,handleOpenURL:I,BuildInfo:R}=ol(),W=setTimeout((0,c.Z)(function*(){yield uf(f),m.onEvent(vd())}),500),he=function(){var st=(0,c.Z)(function*(it){clearTimeout(W);const Nn=yield uf(f);let mr=null;Nn&&(null==it?void 0:it.url)&&(mr=function am(_,f){var m,v;const I=function hf(_){const f=ma(_),m=f.link?decodeURIComponent(f.link):void 0,v=ma(m).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ma(I).link||I||v||m||_}(f);if(I.includes("/__/auth/callback")){const R=ma(I),W=R.firebaseError?function cm(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(R.firebaseError)):null,he=null===(v=null===(m=null==W?void 0:W.code)||void 0===m?void 0:m.split("auth/"))||void 0===v?void 0:v[1],Pe=he?De(he):null;return Pe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:I,postBody:null}}return null}(Nn,it.url)),m.onEvent(mr||vd())});return function(Nn){return st.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,he);const Pe=I,qe=`${R.packageName.toLowerCase()}://`;ol().handleOpenURL=function(){var st=(0,c.Z)(function*(it){if(it.toLowerCase().startsWith(qe)&&he({url:it}),"function"==typeof Pe)try{Pe(it)}catch(Nn){console.error(Nn)}});return function(it){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zn,this._completeRedirectFn=Gs,this._overrideRedirectResult=M}_initialize(f){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,v,I){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,m,v,I)})()}_openRedirect(f,m,v,I){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,m,v,I)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ec()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const m=yield function gf(){return _f.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Ed(_){return _.unwrap()}function by(_){return pm(_)}function pm(_){const{_tokenResponse:f}=_ instanceof F.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return as.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let v;switch(m){case"google.com":v=Lc;break;case"facebook.com":v=ho;break;case"github.com":v=id;break;case"twitter.com":v=Vc;break;default:const{oauthIdToken:I,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:he,nonce:Pe}=f;return R||W||I||he?he?m.startsWith("saml.")?Es._create(m,he):vr._fromParams({providerId:m,signInMethod:m,pendingToken:he,idToken:I,accessToken:R}):new or(m).credential({idToken:I,accessToken:R,rawNonce:Pe}):null}return _ instanceof F.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function qi(_,f){return f.catch(m=>{throw m instanceof F.ZR&&function Md(_,f){var m,v;const I=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(v=f)||void 0===v?void 0:v.code))f.resolver=new Cy(_,function Mn(_,f){var m;const v=(0,F.m9)(_),I=f;return z(f.customData.operationType,v,"argument-error"),z(null===(m=I.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,v,"argument-error"),xs._fromError(v,I)}(_,f));else if(I){const R=pm(f),W=f;R&&(W.credential=R,W.tenantId=I.tenantId||void 0,W.email=I.email||void 0,W.phoneNumber=I.phoneNumber||void 0)}}(_,m),m}).then(m=>{const I=m.user;return{operationType:m.operationType,credential:by(m),additionalUserInfo:On(m),user:Ws.getOrCreate(I)}})}function bf(_,f){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,c.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:v=>qi(_,m.confirm(v))}})).apply(this,arguments)}class Cy{constructor(f,m){this.resolver=m,this.auth=function vy(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return qi(Ed(this.auth),this.resolver.resolveSignIn(f))}}class Ws{constructor(f){this._delegate=f,this.multiFactor=function jl(_){const f=(0,F.m9)(_);return qa.has(f)||qa.set(f,yo._fromUser(f)),qa.get(f)}(f)}static getOrCreate(f){return Ws.USER_MAP.has(f)||Ws.USER_MAP.set(f,new Ws(f)),Ws.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,c.Z)(function*(){return qi(m.auth,Gn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var v=this;return(0,c.Z)(function*(){return bf(v.auth,function Xa(_,f,m){return Ja.apply(this,arguments)}(v._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,c.Z)(function*(){return qi(m.auth,function Jc(_,f,m){return Tr.apply(this,arguments)}(m._delegate,f,_a))})()}linkWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield Dd(Je(m.auth)),function yt(_,f,m){return function rt(_,f,m){return un.apply(this,arguments)}(_,f,m)}(m._delegate,f,_a)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,c.Z)(function*(){return qi(m.auth,br(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return bf(this.auth,function cd(_,f,m){return hi.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return qi(this.auth,function el(_,f,m){return Mo.apply(this,arguments)}(this._delegate,f,_a))}reauthenticateWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield Dd(Je(m.auth)),function je(_,f,m){return function Ke(_,f,m){return pt.apply(this,arguments)}(_,f,m)}(m._delegate,f,_a)})()}sendEmailVerification(f){return function zi(_,f){return Vl.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,c.Z)(function*(){return yield function rd(_,f){return Yt.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Uc(_,f){return Wa((0,F.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Gc(_,f){return Wa((0,F.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function js(_,f){return Ir.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function za(_,f){return $a.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ua(_,f,m){return Ga.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ws.USER_MAP=new WeakMap;const au=z;let mm=(()=>{class _{constructor(m,v){if(this.app=m,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=m.options;au(I,"invalid-api-key",{appName:m.name}),au(I,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?_a:void 0;this._delegate=v.initialize({options:{persistence:Dy(I,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,v){!function _i(_,f,m){const v=Je(_);z(v._canInitEmulator,v,"emulator-config-failed"),z(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const I=!!(null==m?void 0:m.disableWarnings),R=tr(f),{host:W,port:he}=function bn(_){const f=tr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const v=m[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(v);if(I){const R=I[1];return{host:R,port:nr(v.substr(R.length+1))}}{const[R,W]=v.split(":");return{host:R,port:nr(W)}}}(f);v.config.emulator={url:`${R}//${W}${null===he?"":`:${he}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:W,port:he,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Qt(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,v)}applyActionCode(m){return function mo(_,f){return Se.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return It(this._delegate,m)}confirmPasswordReset(m,v){return function Ba(_,f,m){return Pl.apply(this,arguments)}(this._delegate,m,v)}createUserWithEmailAndPassword(m,v){var I=this;return(0,c.Z)(function*(){return qi(I._delegate,function As(_,f,m){return ki.apply(this,arguments)}(I._delegate,m,v))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ja(_,f){return ns.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function jc(_,f){const m=Na.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){au(ii(),m._delegate,"operation-not-supported-in-this-environment");const v=yield function Ci(_,f){return Ao.apply(this,arguments)}(m._delegate,_a);return v?qi(m._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ff(_,f){Je(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,v,I){const{next:R,error:W,complete:he}=gm(m,v,I);return this._delegate.onAuthStateChanged(R,W,he)}onIdTokenChanged(m,v,I){const{next:R,error:W,complete:he}=gm(m,v,I);return this._delegate.onIdTokenChanged(R,W,he)}sendSignInLinkToEmail(m,v){return function Nl(_,f,m){return Ll.apply(this,arguments)}(this._delegate,m,v)}sendPasswordResetEmail(m,v){return function Ol(_,f,m){return Va.apply(this,arguments)}(this._delegate,m,v||void 0)}setPersistence(m){var v=this;return(0,c.Z)(function*(){let I;switch(function gy(_,f){ou(Object.values(Yi).includes(f),_,"invalid-persistence-type"),(0,F.b$)()?ou(f!==Yi.SESSION,_,"unsupported-persistence-type"):(0,F.UG)()?ou(f===Yi.NONE,_,"unsupported-persistence-type"):Cd()?ou(f===Yi.NONE||f===Yi.LOCAL&&(0,F.hl)(),_,"unsupported-persistence-type"):ou(f===Yi.NONE||mf(),_,"unsupported-persistence-type")}(v._delegate,m),m){case Yi.SESSION:I=zn;break;case Yi.LOCAL:I=(yield ie(bo)._isAvailable())?bo:$i;break;case Yi.NONE:I=$t;break;default:return Ie("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return qi(this._delegate,function Bc(_){return Hc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return qi(this._delegate,nn(this._delegate,m))}signInWithCustomToken(m){return qi(this._delegate,function po(_,f){return at.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,v){return qi(this._delegate,function Fl(_,f,m){return nn((0,F.m9)(_),Nc.credential(f,m))}(this._delegate,m,v))}signInWithEmailLink(m,v){return qi(this._delegate,function qh(_,f,m){return Cr.apply(this,arguments)}(this._delegate,m,v))}signInWithPhoneNumber(m,v){return bf(this._delegate,function ht(_,f,m){return aa.apply(this,arguments)}(this._delegate,m,v))}signInWithPopup(m){var v=this;return(0,c.Z)(function*(){return au(ii(),v._delegate,"operation-not-supported-in-this-environment"),qi(v._delegate,function qp(_,f,m){return Ar.apply(this,arguments)}(v._delegate,m,_a))})()}signInWithRedirect(m){var v=this;return(0,c.Z)(function*(){return au(ii(),v._delegate,"operation-not-supported-in-this-environment"),yield Dd(v._delegate),function K(_,f,m){return function le(_,f,m){return Ce.apply(this,arguments)}(_,f,m)}(v._delegate,m,_a)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function en(_,f){return Ha.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Yi,_})();function gm(_,f,m){let v=_;"function"!=typeof _&&({next:v,error:f,complete:m}=_);const I=v;return{next:W=>I(W&&Ws.getOrCreate(W)),error:f,complete:m}}function Dy(_,f){const m=function _y(_,f){const m=wd();if(!m)return[];const v=Dt(yf,_,f);switch(m.getItem(v)){case Yi.NONE:return[$t];case Yi.LOCAL:return[bo,zn];case Yi.SESSION:return[zn];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(bo)&&m.push(bo),"undefined"!=typeof window)for(const v of[$i,zn])m.includes(v)||m.push(v);return m.includes($t)||m.push($t),m}class Df{constructor(){this.providerId="phone",this._delegate=new as(Ed(te.Z.auth()))}static credential(f,m){return as.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Df.PHONE_SIGN_IN_METHOD=as.PHONE_SIGN_IN_METHOD,Df.PROVIDER_ID=as.PROVIDER_ID;const wy=z;class Ey{constructor(f,m,v=te.Z.app()){var I;wy(null===(I=v.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Qc(f,m,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function tc(_){_.INTERNAL.registerComponent(new ne.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new mm(m,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Nc,FacebookAuthProvider:ho,GithubAuthProvider:id,GoogleAuthProvider:Lc,OAuthProvider:or,SAMLAuthProvider:ui,PhoneAuthProvider:Df,PhoneMultiFactorGenerator:cy,RecaptchaVerifier:Ey,TwitterAuthProvider:Vc,Auth:mm,AuthCredential:Ui,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.17")}(te.Z)},8306:(We,ve,P)=>{P.d(ve,{y:()=>$});var c=P(930),te=P(727),F=P(8822),ue=P(4671);var ne=P(2416),de=P(576),fe=P(2806);let $=(()=>{class Ae{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const me=new Ae;return me.source=this,me.operator=Le,me}subscribe(Le,me,Me){const Ge=function Ue(Ae){return Ae&&Ae instanceof c.Lv||function re(Ae){return Ae&&(0,de.m)(Ae.next)&&(0,de.m)(Ae.error)&&(0,de.m)(Ae.complete)}(Ae)&&(0,te.Nn)(Ae)}(Le)?Le:new c.Hp(Le,me,Me);return(0,fe.x)(()=>{const{operator:Ye,source:Ie}=this;Ge.add(Ye?Ye.call(Ge,Ie):Ie?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Le){try{return this._subscribe(Le)}catch(me){Le.error(me)}}forEach(Le,me){return new(me=G(me))((Me,Ge)=>{const Ye=new c.Hp({next:Ie=>{try{Le(Ie)}catch(De){Ge(De),Ye.unsubscribe()}},error:Ge,complete:Me});this.subscribe(Ye)})}_subscribe(Le){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Le)}[F.L](){return this}pipe(...Le){return function pe(Ae){return 0===Ae.length?ue.y:1===Ae.length?Ae[0]:function(Le){return Ae.reduce((me,Me)=>Me(me),Le)}}(Le)(this)}toPromise(Le){return new(Le=G(Le))((me,Me)=>{let Ge;this.subscribe(Ye=>Ge=Ye,Ye=>Me(Ye),()=>me(Ge))})}}return Ae.create=ke=>new Ae(ke),Ae})();function G(Ae){var ke;return null!==(ke=null!=Ae?Ae:ne.v.Promise)&&void 0!==ke?ke:Promise}},7579:(We,ve,P)=>{P.d(ve,{x:()=>ne});var c=P(8306),te=P(727);const ue=(0,P(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),pe=P(2806);let ne=(()=>{class fe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const re=new de(this,this);return re.operator=G,re}_throwIfClosed(){if(this.closed)throw new ue}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:re}=this;for(;re.length;)re.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:re,isStopped:Ue,observers:Ae}=this;return re||Ue?te.Lc:(this.currentObservers=null,Ae.push(G),new te.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,G)}))}_checkFinalizedStatuses(G){const{hasError:re,thrownError:Ue,isStopped:Ae}=this;re?G.error(Ue):Ae&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return fe.create=($,G)=>new de($,G),fe})();class de extends ne{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===re||re.call(G,$)}error($){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===re||re.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,re;return null!==(re=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==re?re:te.Lc}}},930:(We,ve,P)=>{P.d(ve,{Hp:()=>Le,Lv:()=>re});var c=P(576),te=P(727),F=P(2416),ue=P(7849),oe=P(5032);const pe=fe("C",void 0,void 0);function fe(Ie,De,Ee){return{kind:Ie,value:De,error:Ee}}var $=P(3410),G=P(2806);class re extends te.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,te.Nn)(De)&&De.add(this)):this.destination=Ye}static create(De,Ee,Ne){return new Le(De,Ee,Ne)}next(De){this.isStopped?Ge(function de(Ie){return fe("N",Ie,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ge(function ne(Ie){return fe("E",void 0,Ie)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ge(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ae(Ie,De){return Ue.call(Ie,De)}class ke{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(De)}catch(Ne){me(Ne)}}error(De){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(De)}catch(Ne){me(Ne)}else me(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Ee){me(Ee)}}}class Le extends re{constructor(De,Ee,Ne){let Ve;if(super(),(0,c.m)(De)||!De)Ve={next:null!=De?De:void 0,error:null!=Ee?Ee:void 0,complete:null!=Ne?Ne:void 0};else{let z;this&&F.v.useDeprecatedNextContext?(z=Object.create(De),z.unsubscribe=()=>this.unsubscribe(),Ve={next:De.next&&Ae(De.next,z),error:De.error&&Ae(De.error,z),complete:De.complete&&Ae(De.complete,z)}):Ve=De}this.destination=new ke(Ve)}}function me(Ie){F.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ie):(0,ue.h)(Ie)}function Ge(Ie,De){const{onStoppedNotification:Ee}=F.v;Ee&&$.z.setTimeout(()=>Ee(Ie,De))}const Ye={closed:!0,next:oe.Z,error:function Me(Ie){throw Ie},complete:oe.Z}},727:(We,ve,P)=>{P.d(ve,{Lc:()=>pe,w0:()=>oe,Nn:()=>ne});var c=P(576);const F=(0,P(3888).d)(fe=>function(G){fe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((re,Ue)=>`${Ue+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ue=P(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ae of G)Ae.remove(this);else G.remove(this);const{initialTeardown:re}=this;if((0,c.m)(re))try{re()}catch(Ae){$=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ae of Ue)try{de(Ae)}catch(ke){$=null!=$?$:[],ke instanceof F?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new F($)}}add($){var G;if($&&$!==this)if(this.closed)de($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,ue.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,ue.P)(G,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const pe=oe.EMPTY;function ne(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,c.m)(fe.remove)&&(0,c.m)(fe.add)&&(0,c.m)(fe.unsubscribe)}function de(fe){(0,c.m)(fe)?fe():fe.unsubscribe()}},2416:(We,ve,P)=>{P.d(ve,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(We,ve,P)=>{P.d(ve,{E:()=>te});const te=new(P(8306).y)(oe=>oe.complete())},8996:(We,ve,P)=>{P.d(ve,{D:()=>De});var c=P(8421),te=P(5363),F=P(9468),pe=P(8306),de=P(2202),fe=P(576),$=P(9672);function re(Ee,Ne){if(!Ee)throw new Error("Iterable cannot be null");return new pe.y(Ve=>{(0,$.f)(Ve,Ne,()=>{const z=Ee[Symbol.asyncIterator]();(0,$.f)(Ve,Ne,()=>{z.next().then(be=>{be.done?Ve.complete():Ve.next(be.value)})},0,!0)})})}var Ue=P(3670),Ae=P(8239),ke=P(1144),Le=P(6495),me=P(2206),Me=P(4532),Ge=P(3260);function De(Ee,Ne){return Ne?function Ie(Ee,Ne){if(null!=Ee){if((0,Ue.c)(Ee))return function ue(Ee,Ne){return(0,c.Xf)(Ee).pipe((0,F.R)(Ne),(0,te.Q)(Ne))}(Ee,Ne);if((0,ke.z)(Ee))return function ne(Ee,Ne){return new pe.y(Ve=>{let z=0;return Ne.schedule(function(){z===Ee.length?Ve.complete():(Ve.next(Ee[z++]),Ve.closed||this.schedule())})})}(Ee,Ne);if((0,Ae.t)(Ee))return function oe(Ee,Ne){return(0,c.Xf)(Ee).pipe((0,F.R)(Ne),(0,te.Q)(Ne))}(Ee,Ne);if((0,me.D)(Ee))return re(Ee,Ne);if((0,Le.T)(Ee))return function G(Ee,Ne){return new pe.y(Ve=>{let z;return(0,$.f)(Ve,Ne,()=>{z=Ee[de.h](),(0,$.f)(Ve,Ne,()=>{let be,Y;try{({value:be,done:Y}=z.next())}catch(ae){return void Ve.error(ae)}Y?Ve.complete():Ve.next(be)},0,!0)}),()=>(0,fe.m)(null==z?void 0:z.return)&&z.return()})}(Ee,Ne);if((0,Ge.L)(Ee))return function Ye(Ee,Ne){return re((0,Ge.Q)(Ee),Ne)}(Ee,Ne)}throw(0,Me.z)(Ee)}(Ee,Ne):(0,c.Xf)(Ee)}},8421:(We,ve,P)=>{P.d(ve,{Xf:()=>Ue});var c=P(655),te=P(1144),F=P(8239),ue=P(8306),oe=P(3670),pe=P(2206),ne=P(4532),de=P(6495),fe=P(3260),$=P(576),G=P(7849),re=P(8822);function Ue(Ie){if(Ie instanceof ue.y)return Ie;if(null!=Ie){if((0,oe.c)(Ie))return function Ae(Ie){return new ue.y(De=>{const Ee=Ie[re.L]();if((0,$.m)(Ee.subscribe))return Ee.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,te.z)(Ie))return function ke(Ie){return new ue.y(De=>{for(let Ee=0;Ee<Ie.length&&!De.closed;Ee++)De.next(Ie[Ee]);De.complete()})}(Ie);if((0,F.t)(Ie))return function Le(Ie){return new ue.y(De=>{Ie.then(Ee=>{De.closed||(De.next(Ee),De.complete())},Ee=>De.error(Ee)).then(null,G.h)})}(Ie);if((0,pe.D)(Ie))return Me(Ie);if((0,de.T)(Ie))return function me(Ie){return new ue.y(De=>{for(const Ee of Ie)if(De.next(Ee),De.closed)return;De.complete()})}(Ie);if((0,fe.L)(Ie))return function Ge(Ie){return Me((0,fe.Q)(Ie))}(Ie)}throw(0,ne.z)(Ie)}function Me(Ie){return new ue.y(De=>{(function Ye(Ie,De){var Ee,Ne,Ve,z;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,c.KL)(Ie);!(Ne=yield Ee.next()).done;)if(De.next(Ne.value),De.closed)return}catch(be){Ve={error:be}}finally{try{Ne&&!Ne.done&&(z=Ee.return)&&(yield z.call(Ee))}finally{if(Ve)throw Ve.error}}De.complete()})})(Ie,De).catch(Ee=>De.error(Ee))})}},6451:(We,ve,P)=>{P.d(ve,{T:()=>pe});var c=P(8189),te=P(8421),F=P(515),ue=P(3269),oe=P(8996);function pe(...ne){const de=(0,ue.yG)(ne),fe=(0,ue._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,te.Xf)($[0]):(0,c.J)(fe)((0,oe.D)($,de)):F.E}},5403:(We,ve,P)=>{P.d(ve,{x:()=>te});var c=P(930);function te(ue,oe,pe,ne,de){return new F(ue,oe,pe,ne,de)}class F extends c.Lv{constructor(oe,pe,ne,de,fe,$){super(oe),this.onFinalize=fe,this.shouldUnsubscribe=$,this._next=pe?function(G){try{pe(G)}catch(re){oe.error(re)}}:super._next,this._error=de?function(G){try{de(G)}catch(re){oe.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(We,ve,P)=>{P.d(ve,{U:()=>F});var c=P(4482),te=P(5403);function F(ue,oe){return(0,c.e)((pe,ne)=>{let de=0;pe.subscribe((0,te.x)(ne,fe=>{ne.next(ue.call(oe,fe,de++))}))})}},8189:(We,ve,P)=>{P.d(ve,{J:()=>F});var c=P(5577),te=P(4671);function F(ue=1/0){return(0,c.z)(te.y,ue)}},5577:(We,ve,P)=>{P.d(ve,{z:()=>de});var c=P(4004),te=P(8421),F=P(4482),ue=P(9672),oe=P(5403),ne=P(576);function de(fe,$,G=1/0){return(0,ne.m)($)?de((re,Ue)=>(0,c.U)((Ae,ke)=>$(re,Ae,Ue,ke))((0,te.Xf)(fe(re,Ue))),G):("number"==typeof $&&(G=$),(0,F.e)((re,Ue)=>function pe(fe,$,G,re,Ue,Ae,ke,Le){const me=[];let Me=0,Ge=0,Ye=!1;const Ie=()=>{Ye&&!me.length&&!Me&&$.complete()},De=Ne=>Me<re?Ee(Ne):me.push(Ne),Ee=Ne=>{Ae&&$.next(Ne),Me++;let Ve=!1;(0,te.Xf)(G(Ne,Ge++)).subscribe((0,oe.x)($,z=>{null==Ue||Ue(z),Ae?De(z):$.next(z)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Me--;me.length&&Me<re;){const z=me.shift();ke?(0,ue.f)($,ke,()=>Ee(z)):Ee(z)}Ie()}catch(z){$.error(z)}}))};return fe.subscribe((0,oe.x)($,De,()=>{Ye=!0,Ie()})),()=>{null==Le||Le()}}(re,Ue,fe,G)))}},5363:(We,ve,P)=>{P.d(ve,{Q:()=>ue});var c=P(9672),te=P(4482),F=P(5403);function ue(oe,pe=0){return(0,te.e)((ne,de)=>{ne.subscribe((0,F.x)(de,fe=>(0,c.f)(de,oe,()=>de.next(fe),pe),()=>(0,c.f)(de,oe,()=>de.complete(),pe),fe=>(0,c.f)(de,oe,()=>de.error(fe),pe)))})}},3099:(We,ve,P)=>{P.d(ve,{B:()=>pe});var c=P(8996),te=P(5698),F=P(7579),ue=P(930),oe=P(4482);function pe(de={}){const{connector:fe=(()=>new F.x),resetOnError:$=!0,resetOnComplete:G=!0,resetOnRefCountZero:re=!0}=de;return Ue=>{let Ae=null,ke=null,Le=null,me=0,Me=!1,Ge=!1;const Ye=()=>{null==ke||ke.unsubscribe(),ke=null},Ie=()=>{Ye(),Ae=Le=null,Me=Ge=!1},De=()=>{const Ee=Ae;Ie(),null==Ee||Ee.unsubscribe()};return(0,oe.e)((Ee,Ne)=>{me++,!Ge&&!Me&&Ye();const Ve=Le=null!=Le?Le:fe();Ne.add(()=>{me--,0===me&&!Ge&&!Me&&(ke=ne(De,re))}),Ve.subscribe(Ne),Ae||(Ae=new ue.Hp({next:z=>Ve.next(z),error:z=>{Ge=!0,Ye(),ke=ne(Ie,$,z),Ve.error(z)},complete:()=>{Me=!0,Ye(),ke=ne(Ie,G),Ve.complete()}}),(0,c.D)(Ee).subscribe(Ae))})(Ue)}}function ne(de,fe,...$){return!0===fe?(de(),null):!1===fe?null:fe(...$).pipe((0,te.q)(1)).subscribe(()=>de())}},9468:(We,ve,P)=>{P.d(ve,{R:()=>te});var c=P(4482);function te(F,ue=0){return(0,c.e)((oe,pe)=>{pe.add(F.schedule(()=>oe.subscribe(pe),ue))})}},5698:(We,ve,P)=>{P.d(ve,{q:()=>ue});var c=P(515),te=P(4482),F=P(5403);function ue(oe){return oe<=0?()=>c.E:(0,te.e)((pe,ne)=>{let de=0;pe.subscribe((0,F.x)(ne,fe=>{++de<=oe&&(ne.next(fe),oe<=de&&ne.complete())}))})}},8505:(We,ve,P)=>{P.d(ve,{b:()=>oe});var c=P(576),te=P(4482),F=P(5403),ue=P(4671);function oe(pe,ne,de){const fe=(0,c.m)(pe)||ne||de?{next:pe,error:ne,complete:de}:pe;return fe?(0,te.e)(($,G)=>{var re;null===(re=fe.subscribe)||void 0===re||re.call(fe);let Ue=!0;$.subscribe((0,F.x)(G,Ae=>{var ke;null===(ke=fe.next)||void 0===ke||ke.call(fe,Ae),G.next(Ae)},()=>{var Ae;Ue=!1,null===(Ae=fe.complete)||void 0===Ae||Ae.call(fe),G.complete()},Ae=>{var ke;Ue=!1,null===(ke=fe.error)||void 0===ke||ke.call(fe,Ae),G.error(Ae)},()=>{var Ae,ke;Ue&&(null===(Ae=fe.unsubscribe)||void 0===Ae||Ae.call(fe)),null===(ke=fe.finalize)||void 0===ke||ke.call(fe)}))}):ue.y}},4408:(We,ve,P)=>{P.d(ve,{o:()=>oe});var c=P(727);class te extends c.w0{constructor(ne,de){super()}schedule(ne,de=0){return this}}const F={setInterval(pe,ne,...de){const{delegate:fe}=F;return(null==fe?void 0:fe.setInterval)?fe.setInterval(pe,ne,...de):setInterval(pe,ne,...de)},clearInterval(pe){const{delegate:ne}=F;return((null==ne?void 0:ne.clearInterval)||clearInterval)(pe)},delegate:void 0};var ue=P(8737);class oe extends te{constructor(ne,de){super(ne,de),this.scheduler=ne,this.work=de,this.pending=!1}schedule(ne,de=0){if(this.closed)return this;this.state=ne;const fe=this.id,$=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId($,fe,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId($,this.id,de),this}requestAsyncId(ne,de,fe=0){return F.setInterval(ne.flush.bind(ne,this),fe)}recycleAsyncId(ne,de,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return de;F.clearInterval(de)}execute(ne,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ne,de);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,de){let $,fe=!1;try{this.work(ne)}catch(G){fe=!0,$=G||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:de}=this,{actions:fe}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(fe,this),null!=ne&&(this.id=this.recycleAsyncId(de,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(We,ve,P)=>{P.d(ve,{v:()=>F});var c=P(6063);class te{constructor(oe,pe=te.now){this.schedulerActionCtor=oe,this.now=pe}schedule(oe,pe=0,ne){return new this.schedulerActionCtor(this,oe).schedule(ne,pe)}}te.now=c.l.now;class F extends te{constructor(oe,pe=te.now){super(oe,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:pe}=this;if(this._active)return void pe.push(oe);let ne;this._active=!0;do{if(ne=oe.execute(oe.state,oe.delay))break}while(oe=pe.shift());if(this._active=!1,ne){for(;oe=pe.shift();)oe.unsubscribe();throw ne}}}},4986:(We,ve,P)=>{P.d(ve,{P:()=>ue,z:()=>F});var c=P(4408);const F=new(P(7565).v)(c.o),ue=F},6063:(We,ve,P)=>{P.d(ve,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(We,ve,P)=>{P.d(ve,{z:()=>c});const c={setTimeout(te,F,...ue){const{delegate:oe}=c;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(te,F,...ue):setTimeout(te,F,...ue)},clearTimeout(te){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(We,ve,P)=>{P.d(ve,{h:()=>te});const te=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(We,ve,P)=>{P.d(ve,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(We,ve,P)=>{P.d(ve,{_6:()=>pe,jO:()=>ue,yG:()=>oe});var c=P(576),te=P(3532);function F(ne){return ne[ne.length-1]}function ue(ne){return(0,c.m)(F(ne))?ne.pop():void 0}function oe(ne){return(0,te.K)(F(ne))?ne.pop():void 0}function pe(ne,de){return"number"==typeof F(ne)?ne.pop():de}},8737:(We,ve,P)=>{function c(te,F){if(te){const ue=te.indexOf(F);0<=ue&&te.splice(ue,1)}}P.d(ve,{P:()=>c})},3888:(We,ve,P)=>{function c(te){const ue=te(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(ve,{d:()=>c})},2806:(We,ve,P)=>{P.d(ve,{O:()=>ue,x:()=>F});var c=P(2416);let te=null;function F(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!te;if(pe&&(te={errorThrown:!1,error:null}),oe(),pe){const{errorThrown:ne,error:de}=te;if(te=null,ne)throw de}}else oe()}function ue(oe){c.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=oe)}},9672:(We,ve,P)=>{function c(te,F,ue,oe=0,pe=!1){const ne=F.schedule(function(){ue(),pe?te.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(te.add(ne),!pe)return ne}P.d(ve,{f:()=>c})},4671:(We,ve,P)=>{function c(te){return te}P.d(ve,{y:()=>c})},1144:(We,ve,P)=>{P.d(ve,{z:()=>c});const c=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(We,ve,P)=>{P.d(ve,{D:()=>te});var c=P(576);function te(F){return Symbol.asyncIterator&&(0,c.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(We,ve,P)=>{function c(te){return"function"==typeof te}P.d(ve,{m:()=>c})},3670:(We,ve,P)=>{P.d(ve,{c:()=>F});var c=P(8822),te=P(576);function F(ue){return(0,te.m)(ue[c.L])}},6495:(We,ve,P)=>{P.d(ve,{T:()=>F});var c=P(2202),te=P(576);function F(ue){return(0,te.m)(null==ue?void 0:ue[c.h])}},8239:(We,ve,P)=>{P.d(ve,{t:()=>te});var c=P(576);function te(F){return(0,c.m)(null==F?void 0:F.then)}},3260:(We,ve,P)=>{P.d(ve,{L:()=>ue,Q:()=>F});var c=P(655),te=P(576);function F(oe){return(0,c.FC)(this,arguments,function*(){const ne=oe.getReader();try{for(;;){const{value:de,done:fe}=yield(0,c.qq)(ne.read());if(fe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(de)}}finally{ne.releaseLock()}})}function ue(oe){return(0,te.m)(null==oe?void 0:oe.getReader)}},3532:(We,ve,P)=>{P.d(ve,{K:()=>te});var c=P(576);function te(F){return F&&(0,c.m)(F.schedule)}},4482:(We,ve,P)=>{P.d(ve,{e:()=>F});var c=P(576);function F(ue){return oe=>{if(function te(ue){return(0,c.m)(null==ue?void 0:ue.lift)}(oe))return oe.lift(function(pe){try{return ue(pe,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(We,ve,P)=>{function c(){}P.d(ve,{Z:()=>c})},7849:(We,ve,P)=>{P.d(ve,{h:()=>F});var c=P(2416),te=P(3410);function F(ue){te.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw ue;oe(ue)})}},4532:(We,ve,P)=>{function c(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ve,{z:()=>c})},655:(We,ve,P)=>{function ue(Y,ae){var ie={};for(var _e in Y)Object.prototype.hasOwnProperty.call(Y,_e)&&ae.indexOf(_e)<0&&(ie[_e]=Y[_e]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(_e=Object.getOwnPropertySymbols(Y);ce<_e.length;ce++)ae.indexOf(_e[ce])<0&&Object.prototype.propertyIsEnumerable.call(Y,_e[ce])&&(ie[_e[ce]]=Y[_e[ce]])}return ie}function de(Y,ae,ie,_e){return new(ie||(ie=Promise))(function(xe,tt){function kt(jt){try{$e(_e.next(jt))}catch(hn){tt(hn)}}function Et(jt){try{$e(_e.throw(jt))}catch(hn){tt(hn)}}function $e(jt){jt.done?xe(jt.value):function ce(xe){return xe instanceof ie?xe:new ie(function(tt){tt(xe)})}(jt.value).then(kt,Et)}$e((_e=_e.apply(Y,ae||[])).next())})}function me(Y){return this instanceof me?(this.v=Y,this):new me(Y)}function Me(Y,ae,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,_e=ie.apply(Y,ae||[]),xe=[];return ce={},tt("next"),tt("throw"),tt("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function tt(zt){_e[zt]&&(ce[zt]=function(Lt){return new Promise(function(oi,Ot){xe.push([zt,Lt,oi,Ot])>1||kt(zt,Lt)})})}function kt(zt,Lt){try{!function Et(zt){zt.value instanceof me?Promise.resolve(zt.value.v).then($e,jt):hn(xe[0][2],zt)}(_e[zt](Lt))}catch(oi){hn(xe[0][3],oi)}}function $e(zt){kt("next",zt)}function jt(zt){kt("throw",zt)}function hn(zt,Lt){zt(Lt),xe.shift(),xe.length&&kt(xe[0][0],xe[0][1])}}function Ye(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,ae=Y[Symbol.asyncIterator];return ae?ae.call(Y):(Y=function re(Y){var ae="function"==typeof Symbol&&Symbol.iterator,ie=ae&&Y[ae],_e=0;if(ie)return ie.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&_e>=Y.length&&(Y=void 0),{value:Y&&Y[_e++],done:!Y}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ie={},_e("next"),_e("throw"),_e("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function _e(xe){ie[xe]=Y[xe]&&function(tt){return new Promise(function(kt,Et){!function ce(xe,tt,kt,Et){Promise.resolve(Et).then(function($e){xe({value:$e,done:kt})},tt)}(kt,Et,(tt=Y[xe](tt)).done,tt.value)})}}}P.d(ve,{FC:()=>Me,KL:()=>Ye,_T:()=>ue,mG:()=>de,qq:()=>me})},5e3:(We,ve,P)=>{P.d(ve,{$8M:()=>Ul,$Z:()=>jD,AFp:()=>l_,AaK:()=>de,BQk:()=>hg,CHM:()=>Ss,CRH:()=>qb,CZH:()=>Mp,CqO:()=>Kd,EJc:()=>Gt,EiD:()=>cm,EpF:()=>GD,F$t:()=>$D,F4k:()=>Eu,FYo:()=>Rb,FiY:()=>kr,G48:()=>OE,Gf:()=>Wb,GfV:()=>xu,GkF:()=>Nv,Gpc:()=>G,Hsn:()=>WD,Ikx:()=>Su,JOm:()=>R,JVY:()=>pd,L6k:()=>Xl,LAX:()=>md,LFG:()=>Ke,Lbi:()=>d0,MAs:()=>wv,NdJ:()=>Mu,O4$:()=>Wc,OlP:()=>cn,Oqu:()=>Xd,Q6J:()=>Pv,QGY:()=>wu,Qsj:()=>Ob,R0b:()=>no,RDi:()=>kl,Rgc:()=>Pu,SBq:()=>fs,Suo:()=>Yb,TTD:()=>or,TgZ:()=>Yd,Udp:()=>gg,VKq:()=>jb,VLi:()=>p0,WFA:()=>Lv,X6Q:()=>RE,XFs:()=>ot,Xpm:()=>Ze,Y36:()=>tp,YNc:()=>Qf,Yjl:()=>$o,Yz7:()=>Lt,ZZ4:()=>x_,_Bn:()=>Ab,_UZ:()=>np,_Vd:()=>mp,_c5:()=>F_,_uU:()=>rp,aQg:()=>Bp,cJS:()=>Ot,cg1:()=>nh,d8E:()=>ib,dDg:()=>Uu,dqk:()=>St,eBb:()=>sf,eFA:()=>io,ekj:()=>$v,f3M:()=>yt,g9A:()=>d_,h0i:()=>dh,hGG:()=>N_,hij:()=>sp,iGM:()=>Kg,ifc:()=>xt,ip1:()=>u0,kL8:()=>rb,kcU:()=>Kh,lG2:()=>xa,mCW:()=>fa,n5z:()=>Co,oAB:()=>vn,oxw:()=>fg,pB0:()=>cy,q3G:()=>Sn,q4F:()=>Vn,qLn:()=>Md,qOj:()=>Jm,qZA:()=>qd,qzn:()=>Ro,sBO:()=>PE,sIi:()=>Ud,s_b:()=>gh,soG:()=>Ut,tp0:()=>cs,uIk:()=>rg,vHH:()=>ke,vpe:()=>eo,wAp:()=>ut,xp6:()=>HC,yhl:()=>sl,ynx:()=>Nt,z2F:()=>Ap,z3N:()=>Fn,zSh:()=>Nd,zs3:()=>Tn});var c=P(7579),te=P(727),F=P(8306),ue=P(6451),oe=P(3099);function pe(r){for(let s in r)if(r[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function ne(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function de(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(de).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const $=pe({__forward_ref__:pe});function G(r){return r.__forward_ref__=G,r.toString=function(){return de(this())},r}function re(r){return Ue(r)?r():r}function Ue(r){return"function"==typeof r&&r.hasOwnProperty($)&&r.__forward_ref__===G}class ke extends Error{constructor(s,a){super(function Le(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function me(r){return"string"==typeof r?r:null==r?"":String(r)}function Me(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():me(r)}function De(r,s){const a=s?` in ${s}`:"";throw new ke(-201,`No provider for ${Me(r)} found${a}`)}function Et(r,s){null==r&&function $e(r,s,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function Lt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ot(r){return{providers:r.providers||[],imports:r.imports||[]}}function Mt(r){return Ji(r,er)||Ji(r,fi)}function Ji(r,s){return r.hasOwnProperty(s)?r[s]:null}function ai(r){return r&&(r.hasOwnProperty(zr)||r.hasOwnProperty(ji))?r[zr]:null}const er=pe({\u0275prov:pe}),zr=pe({\u0275inj:pe}),fi=pe({ngInjectableDef:pe}),ji=pe({ngInjectorDef:pe});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Ii;function fn(r){const s=Ii;return Ii=r,s}function $r(r,s,a){const u=Mt(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ot.Optional?null:void 0!==s?s:void De(de(r),"Injector")}function xn(r){return{toString:r}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),xt=(()=>{return(r=xt||(xt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",xt;var r})();const Qe="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,Kn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St=Qe||"undefined"!=typeof global&&global||ct||Kn,Zn={},nt=[],q=pe({\u0275cmp:pe}),H=pe({\u0275dir:pe}),J=pe({\u0275pipe:pe}),X=pe({\u0275mod:pe}),B=pe({\u0275fac:pe}),ye=pe({__NG_ELEMENT_ID__:pe});let Fe=0;function Ze(r){return xn(()=>{const a={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||nt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||xt.Emulated,id:"c",styles:r.styles||nt,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,p=r.features,y=r.pipes;return u.id+=Fe++,u.inputs=bs(r.inputs,a),u.outputs=bs(r.outputs),p&&p.forEach(C=>C(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Vt):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map($t):null,u})}function Vt(r){return wn(r)||function ci(r){return r[H]||null}(r)}function $t(r){return function yr(r){return r[J]||null}(r)}const Dt={};function vn(r){return xn(()=>{const s={type:r.type,bootstrap:r.bootstrap||nt,declarations:r.declarations||nt,imports:r.imports||nt,exports:r.exports||nt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Dt[r.id]=r.type),s})}function bs(r,s){if(null==r)return Zn;const a={};for(const u in r)if(r.hasOwnProperty(u)){let d=r[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=u,s&&(s[d]=p)}return a}const xa=Ze;function $o(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function wn(r){return r[q]||null}function En(r,s){const a=r[X]||null;if(!a&&!0===s)throw new Error(`Type ${de(r)} does not have '\u0275mod' property.`);return a}function yi(r){return Array.isArray(r)&&"object"==typeof r[1]}function ir(r){return Array.isArray(r)&&!0===r[1]}function Pa(r){return 0!=(8&r.flags)}function Tc(r){return 2==(2&r.flags)}function rr(r){return 1==(1&r.flags)}function sr(r){return null!==r.template}function Fa(r){return 0!=(512&r[2])}function Xn(r,s){return r.hasOwnProperty(B)?r[B]:null}class ws{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function or(){return ho}function ho(r){return r.type.prototype.ngOnChanges&&(r.setInput=id),Lc}function Lc(){const r=Es(this),s=null==r?void 0:r.current;if(s){const a=r.previous;if(a===Zn)r.previous=s;else for(let u in s)a[u]=s[u];r.current=null,this.ngOnChanges(s)}}function id(r,s,a,u){const d=Es(r)||function fo(r,s){return r[Jr]=s}(r,{previous:Zn,current:null}),p=d.current||(d.current={}),y=d.previous,C=this.declaredInputs[a],D=y[C];p[C]=new ws(D&&D.currentValue,s,y===Zn),r[u]=s}or.ngInherit=!0;const Jr="__ngSimpleChanges__";function Es(r){return r[Jr]||null}let Zo;function kl(r){Zo=r}function Yt(r){return!!r.listen}const Qo={createRenderer:(r,s)=>function ar(){return void 0!==Zo?Zo:"undefined"!=typeof document?document:void 0}()};function Bt(r){for(;Array.isArray(r);)r=r[0];return r}function es(r,s){return Bt(s[r])}function Un(r,s){return Bt(s[r.index])}function nn(r,s){return r.data[s]}function Gn(r,s){const a=s[r];return yi(a)?a:a[0]}function Is(r){return 4==(4&r[2])}function br(r){return 128==(128&r[2])}function Gi(r,s){return null==s?null:r[s]}function cr(r){r[18]=0}function po(r,s){r[5]+=s;let a=r,u=r[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const at={lFrame:_o(null),bindingsEnabled:!0};function Ba(){return at.bindingsEnabled}function Se(){return at.lFrame.lView}function It(){return at.lFrame.tView}function Ss(r){return at.lFrame.contextLView=r,r[8]}function en(){let r=Ha();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ha(){return at.lFrame.currentTNode}function ki(r,s){const a=at.lFrame;a.currentTNode=r,a.isParent=s}function Fl(){return at.lFrame.isParent}function Nl(){at.lFrame.isParent=!1}function ns(){return at.lFrame.bindingIndex++}function Ga(r,s){const a=at.lFrame;a.bindingIndex=a.bindingRootIndex=r,go(s)}function go(r){at.lFrame.currentDirectiveIndex=r}function za(r){const s=at.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function $a(){return at.lFrame.currentQueryIndex}function Uc(r){at.lFrame.currentQueryIndex=r}function Gc(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Wa(r,s,a){if(a&ot.SkipSelf){let d=s,p=r;for(;!(d=d.parent,null!==d||a&ot.Host||(d=Gc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,r=p}const u=at.lFrame=zc();return u.currentTNode=s,u.lView=r,!0}function Ts(r){const s=zc(),a=r[1];at.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function zc(){const r=at.lFrame,s=null===r?null:r.child;return null===s?_o(r):s}function _o(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function $c(){const r=at.lFrame;return at.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ya=$c;function vi(){const r=$c();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function On(){return at.lFrame.selectedIndex}function ks(r){at.lFrame.selectedIndex=r}function Cn(){const r=at.lFrame;return nn(r.tView,r.selectedIndex)}function Wc(){at.lFrame.currentNamespace="svg"}function Kh(){!function Yc(){at.lFrame.currentNamespace=null}()}function ta(r,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:k}=p;y&&(r.contentHooks||(r.contentHooks=[])).push(-a,y),C&&((r.contentHooks||(r.contentHooks=[])).push(a,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,C)),D&&(r.viewHooks||(r.viewHooks=[])).push(-a,D),S&&((r.viewHooks||(r.viewHooks=[])).push(a,S),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,S)),null!=k&&(r.destroyHooks||(r.destroyHooks=[])).push(a,k)}}function Dr(r,s,a){qc(r,s,3,a)}function xs(r,s,a,u){(3&r[2])===a&&qc(r,s,a,u)}function Mn(r,s){let a=r[2];(3&a)===s&&(a&=2047,a+=1,r[2]=a)}function qc(r,s,a,u){const p=null!=u?u:-1,y=s.length-1;let C=0;for(let D=void 0!==u?65535&r[18]:0;D<y;D++)if("number"==typeof s[D+1]){if(C=s[D],null!=u&&C>=u)break}else s[D]<0&&(r[18]+=65536),(C<p||-1==p)&&(Qh(r,a,s,D),r[18]=(4294901760&r[18])+D+2),D++}function Qh(r,s,a,u){const d=a[u]<0,p=a[u+1],C=r[d?-a[u]:a[u]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class yo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function $i(r,s,a){const u=Yt(r);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],C=a[d++],D=a[d++];u?r.setAttribute(s,C,D,y):s.setAttributeNS(y,C,D)}else{const y=p,C=a[++d];zn(y)?u&&r.setProperty(s,y,C):u?r.setAttribute(s,y,C):s.setAttribute(y,C),d++}}return d}function gn(r){return 3===r||4===r||6===r}function zn(r){return 64===r.charCodeAt(0)}function Ka(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||Kc(r,a,d,null,-1===a||2===a?s[++u]:null)}}return r}function Kc(r,s,a,u,d){let p=0,y=r.length;if(-1===s)y=-1;else for(;p<r.length;){const C=r[p++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=p-1;break}}}for(;p<r.length;){const C=r[p];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==d&&(r[p+1]=d));if(u===r[p+1])return void(r[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==y&&(r.splice(y,0,s),p=y+1),r.splice(p++,0,a),null!==u&&r.splice(p++,0,u),null!==d&&r.splice(p++,0,d)}function is(r){return-1!==r}function Ps(r){return 32767&r}function wr(r,s){let a=function _n(r){return r>>16}(r),u=s;for(;a>0;)u=u[15],a--;return u}let ia=!0;function ra(r){const s=ia;return ia=r,s}let Er=0;function an(r,s){const a=Ns(r,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,Pn(u.data,r),Pn(s,null),Pn(u.blueprint,null));const d=ln(r,s),p=r.injectorIndex;if(is(d)){const y=Ps(d),C=wr(d,s),D=C[1].data;for(let S=0;S<8;S++)s[p+S]=C[y+S]|D[y+S]}return s[p+8]=d,p}function Pn(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Ns(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function ln(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){const p=d[1],y=p.type;if(u=2===y?p.declTNode:1===y?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Jt(r,s,a){!function Fs(r,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ye)&&(u=a[ye]),null==u&&(u=a[ye]=Er++);const d=255&u;s.data[r+(d>>5)]|=1<<d}(r,s,a)}function tn(r,s,a){if(a&ot.Optional)return r;De(s,"NodeInjector")}function Oi(r,s,a,u){if(a&ot.Optional&&void 0===u&&(u=null),0==(a&(ot.Self|ot.Host))){const d=r[9],p=fn(void 0);try{return d?d.get(s,u,a&ot.Optional):$r(s,u,a&ot.Optional)}finally{fn(p)}}return tn(u,s,a)}function sa(r,s,a,u=ot.Default,d){if(null!==r){const p=function bo(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(ye)?r[ye]:void 0;return"number"==typeof s?s>=0?255&s:rn:s}(a);if("function"==typeof p){if(!Wa(s,r,u))return u&ot.Host?tn(d,a,u):Oi(s,a,u,d);try{const y=p(u);if(null!=y||u&ot.Optional)return y;De(a)}finally{Ya()}}else if("number"==typeof p){let y=null,C=Ns(r,s),D=-1,S=u&ot.Host?s[16][6]:null;for((-1===C||u&ot.SkipSelf)&&(D=-1===C?ln(r,s):s[C+8],-1!==D&&od(u,!1)?(y=s[1],C=Ps(D),s=wr(D,s)):C=-1);-1!==C;){const k=s[1];if(Wi(p,C,k.data)){const N=Jh(C,s,a,y,u,S);if(N!==ti)return N}D=s[C+8],-1!==D&&od(u,s[1].data[C+8]===S)&&Wi(p,C,s)?(y=k,C=Ps(D),s=wr(D,s)):C=-1}}}return Oi(s,a,u,d)}const ti={};function rn(){return new Pi(en(),Se())}function Jh(r,s,a,u,d,p){const y=s[1],C=y.data[r+8],k=Za(C,y,a,null==u?Tc(C)&&ia:u!=y&&0!=(3&C.type),d&ot.Host&&p===C);return null!==k?Qa(s,y,k,C):ti}function Za(r,s,a,u,d){const p=r.providerIndexes,y=s.data,C=1048575&p,D=r.directiveStart,k=p>>20,U=d?C+k:r.directiveEnd;for(let ee=u?C:C+k;ee<U;ee++){const ge=y[ee];if(ee<D&&a===ge||ee>=D&&ge.type===a)return ee}if(d){const ee=y[D];if(ee&&sr(ee)&&ee.type===a)return D}return null}function Qa(r,s,a,u){let d=r[a];const p=s.data;if(function qa(r){return r instanceof yo}(d)){const y=d;y.resolving&&function Ge(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new ke(-200,`Circular dependency in DI detected for ${r}${a}`)}(Me(p[a]));const C=ra(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?fn(y.injectImpl):null;Wa(r,u,ot.Default);try{d=r[a]=y.factory(void 0,p,r,u),s.firstCreatePass&&a>=u.directiveStart&&function Yp(r,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(u){const y=ho(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,p))}(a,p[a],s)}finally{null!==D&&fn(D),ra(C),y.resolving=!1,Ya()}}return d}function Wi(r,s,a){return!!(a[s+(r>>5)]&1<<r)}function od(r,s){return!(r&ot.Self||r&ot.Host&&s)}class Pi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return sa(this._tNode,this._lView,s,u,a)}}function Co(r){return xn(()=>{const s=r.prototype.constructor,a=s[B]||$n(s),u=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==u;){const p=d[B]||$n(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function $n(r){return Ue(r)?()=>{const s=$n(re(r));return s&&s()}:Xn(r)}function Ul(r){return function In(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const p=a[d];if(gn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(en(),r)}const Ls="__parameters__";function dr(r,s,a){return xn(()=>{const u=function Gl(r){return function(...a){if(r){const u=r(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...p){if(this instanceof d)return u.apply(this,p),this;const y=new d(...p);return C.annotation=y,C;function C(D,S,k){const N=D.hasOwnProperty(Ls)?D[Ls]:Object.defineProperty(D,Ls,{value:[]})[Ls];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class cn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}function hi(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let u=r[a];Array.isArray(u)?(s===r&&(s=r.slice(0,a)),hi(u,s)):s!==r&&s.push(u)}return s}function bi(r,s){r.forEach(a=>Array.isArray(a)?bi(a,s):s(a))}function Mr(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function js(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Ir(r,s){const a=[];for(let u=0;u<r;u++)a.push(s);return a}function ni(r,s,a){let u=Eo(r,s);return u>=0?r[1|u]=a:(u=~u,function Do(r,s,a,u){let d=r.length;if(d==s)r.push(a,u);else if(1===d)r.push(u,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=u}}(r,u,s,a)),u}function zl(r,s){const a=Eo(r,s);if(a>=0)return r[1|a]}function Eo(r,s){return function Ar(r,s,a){let u=0,d=r.length>>a;for(;d!==u;){const p=u+(d-u>>1),y=r[p<<a];if(s===y)return p<<a;y>s?d=p:u=p+1}return~(d<<a)}(r,s,1)}const Us={},la="__NG_DI_FLAG__",tl="ngTempTokenPath",M=/\n/gm,V="__source",K=pe({provide:String,useValue:pe});let le;function Ce(r){const s=le;return le=r,s}function je(r,s=ot.Default){if(void 0===le)throw new ke(203,"");return null===le?$r(r,void 0,s):le.get(r,s&ot.Optional?null:void 0,s)}function Ke(r,s=ot.Default){return(function on(){return Ii}()||je)(re(r),s)}const yt=Ke;function rt(r){const s=[];for(let a=0;a<r.length;a++){const u=re(r[a]);if(Array.isArray(u)){if(0===u.length)throw new ke(900,"");let d,p=ot.Default;for(let y=0;y<u.length;y++){const C=u[y],D=Ci(C);"number"==typeof D?-1===D?d=C.token:p|=D:d=C}s.push(Ke(d,p))}else s.push(Ke(u))}return s}function un(r,s){return r[la]=s,r.prototype[la]=s,r}function Ci(r){return r[la]}const kr=un(dr("Optional"),8),cs=un(dr("SkipSelf"),4);let pr;function ko(r){var s;return(null===(s=function Zl(){if(void 0===pr&&(pr=null,St.trustedTypes))try{pr=St.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return pr}())||void 0===s?void 0:s.createHTML(r))||r}class ha{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class rl extends ha{getTypeName(){return"HTML"}}class em extends ha{getTypeName(){return"Style"}}class tm extends ha{getTypeName(){return"Script"}}class Ql extends ha{getTypeName(){return"URL"}}class iu extends ha{getTypeName(){return"ResourceURL"}}function Fn(r){return r instanceof ha?r.changingThisBreaksApplicationSecurity:r}function Ro(r,s){const a=sl(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function sl(r){return r instanceof ha&&r.getTypeName()||null}function pd(r){return new rl(r)}function Xl(r){return new em(r)}function sf(r){return new tm(r)}function md(r){return new Ql(r)}function cy(r){return new iu(r)}class nm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ko(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class uy{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ko(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ko(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const hy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ol=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fa(r){return(r=String(r)).match(hy)||r.match(ol)?r:"unsafe:"+r}function Di(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Oo(...r){const s={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const pa=Di("area,br,col,hr,img,wbr"),Jl=Di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),im=Di("rp,rt"),al=Oo(pa,Oo(Jl,Di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oo(im,Di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oo(im,Jl)),cf=Di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yd=Di("srcset"),om=Oo(cf,yd,Di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uf=Di("script,style,template");class df{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!al.hasOwnProperty(a))return this.sanitizedSomething=!0,!uf.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),y=p.name,C=y.toLowerCase();if(!om.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=p.value;cf[C]&&(D=fa(D)),yd[C]&&(r=D,D=(r=String(r)).split(",").map(s=>fa(s.trim())).join(", ")),this.buf.push(" ",y,'="',ru(D),'"')}var r;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();al.hasOwnProperty(a)&&!pa.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(ru(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const am=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lm=/([^\#-~ |!])/g;function ru(r){return r.replace(/&/g,"&amp;").replace(am,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(lm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ll;function cm(r,s){let a=null;try{ll=ll||function af(r){const s=new uy(r);return function dy(){try{return!!(new window.DOMParser).parseFromString(ko(""),"text/html")}catch(r){return!1}}()?new nm(s):s}(r);let u=s?String(s):"";a=ll.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=a.innerHTML,a=ll.getInertBodyElement(u)}while(u!==p);return ko((new df).sanitizeChildren(hf(a)||a))}finally{if(a){const u=hf(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function hf(r){return"content"in r&&function ma(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();const Cd="__ngContext__";function ii(r,s){r[Cd]=s}function gf(r){const s=function ec(r){return r[Cd]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function Ed(r){return r.ngOriginalError}function by(r,...s){r.error(...s)}class Md{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function vy(r){return r&&r.ngErrorLogger||by}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Ed(s);for(;a&&Ed(a);)a=Ed(a);return a||null}}const Df=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function _(r){return r instanceof Function?r():r}var R=(()=>((R=R||{})[R.Important=1]="Important",R[R.DashCase=2]="DashCase",R))();function he(r,s){return undefined(r,s)}function st(r){const s=r[3];return ir(s)?s[3]:s}function mr(r){return wf(r[13])}function nc(r){return wf(r[4])}function wf(r){for(;null!==r&&!ir(r);)r=r[4];return r}function cl(r,s,a,u,d){if(null!=u){let p,y=!1;ir(u)?p=u:yi(u)&&(y=!0,u=u[0]);const C=Bt(u);0===r&&null!==a?null==d?AC(s,a,C):lu(s,a,C,d||null,!0):1===r&&null!==a?lu(s,a,C,d||null,!0):2===r?function FC(r,s,a){const u=bm(r,s);u&&function hI(r,s,a,u){Yt(r)?r.removeChild(s,a,u):s.removeChild(a)}(r,u,s,a)}(s,C,y):3===r&&s.destroyNode(C),null!=p&&function LC(r,s,a,u,d){const p=a[7];p!==Bt(a)&&cl(s,r,u,p,d);for(let C=10;C<a.length;C++){const D=a[C];If(D[1],D,r,s,u,p)}}(s,r,p,a,d)}}function Ad(r,s,a){if(Yt(r))return r.createElement(s,a);{const u=null!==a?function Hc(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?r.createElement(s):r.createElementNS(u,s)}}function EC(r,s){const a=r[9],u=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,po(d,-1)),a.splice(u,1)}function Ay(r,s){if(r.length<=10)return;const a=10+s,u=r[a];if(u){const d=u[17];null!==d&&d!==r&&EC(d,u),s>0&&(r[a-1][4]=u[4]);const p=js(r,10+s);!function Ef(r,s){If(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function MC(r,s){if(!(256&s[2])){const a=s[11];Yt(a)&&a.destroyNode&&If(r,s,a,3,null,null),function Mf(r){let s=r[13];if(!s)return Ty(r[1],r);for(;s;){let a=null;if(yi(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==r;)yi(s)&&Ty(s[1],s),s=s[3];null===s&&(s=r),yi(s)&&Ty(s[1],s),a=s&&s[4]}s=a}}(s)}}function Ty(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function dI(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof yo)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=d[p[y]],D=p[y+1];try{D.call(C)}finally{}}else try{p.call(d)}finally{}}}}(r,s),function uI(r,s){const a=r.cleanup,u=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],C="function"==typeof y?y(s):Bt(s[y]),D=u[d=a[p+2]],S=a[p+3];"boolean"==typeof S?C.removeEventListener(a[p],D,S):S>=0?u[d=S]():u[d=-S].unsubscribe(),p+=2}else{const y=u[d=a[p+1]];a[p].call(y)}if(null!==u){for(let p=d+1;p<u.length;p++)u[p]();s[7]=null}}(r,s),1===s[1].type&&Yt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ir(s[3])){a!==s[3]&&EC(a,s);const u=s[19];null!==u&&u.detachView(r)}}}function IC(r,s,a){return function SC(r,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=r.data[u.directiveStart].encapsulation;if(d===xt.None||d===xt.Emulated)return null}return Un(u,a)}(r,s.parent,a)}function lu(r,s,a,u,d){Yt(r)?r.insertBefore(s,a,u,d):s.insertBefore(a,u,d)}function AC(r,s,a){Yt(r)?r.appendChild(s,a):s.appendChild(a)}function TC(r,s,a,u,d){null!==u?lu(r,s,a,u,d):AC(r,s,a)}function bm(r,s){return Yt(r)?r.parentNode(s):s.parentNode}function kC(r,s,a){return RC(r,s,a)}let RC=function xC(r,s,a){return 40&r.type?Un(r,a):null};function Cm(r,s,a,u){const d=IC(r,u,s),p=s[11],C=kC(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)TC(p,d,a[D],C,!1);else TC(p,d,a,C,!1)}function Dm(r,s){if(null!==s){const a=s.type;if(3&a)return Un(s,r);if(4&a)return xy(-1,r[s.index]);if(8&a){const u=s.child;if(null!==u)return Dm(r,u);{const d=r[s.index];return ir(d)?xy(-1,d):Bt(d)}}if(32&a)return he(s,r)()||Bt(r[s.index]);{const u=PC(r,s);return null!==u?Array.isArray(u)?u[0]:Dm(st(r[16]),u):Dm(r,s.next)}}return null}function PC(r,s){return null!==s?r[16][6].projection[s.projection]:null}function xy(r,s){const a=10+r+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return Dm(u,d)}return s[7]}function Ry(r,s,a,u,d,p,y){for(;null!=a;){const C=u[a.index],D=a.type;if(y&&0===s&&(C&&ii(Bt(C),u),a.flags|=4),64!=(64&a.flags))if(8&D)Ry(r,s,a.child,u,d,p,!1),cl(s,r,d,C,p);else if(32&D){const S=he(a,u);let k;for(;k=S();)cl(s,r,d,k,p);cl(s,r,d,C,p)}else 16&D?NC(r,s,u,a,d,p):cl(s,r,d,C,p);a=y?a.projectionNext:a.next}}function If(r,s,a,u,d,p){Ry(a,u,r.firstChild,s,d,p,!1)}function NC(r,s,a,u,d,p){const y=a[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)cl(s,r,d,D[S],p);else Ry(r,s,D,y[3],d,p,!0)}function wm(r,s,a){Yt(r)?r.setAttribute(s,"style",a):s.style.cssText=a}function ic(r,s,a){Yt(r)?""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a):s.className=a}function Em(r,s,a){let u=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=s.length;if(d+p===u||r.charCodeAt(d+p)<=32)return d}a=d+1}}const Mm="ng-template";function Oy(r,s,a){let u=0;for(;u<r.length;){let d=r[u++];if(a&&"class"===d){if(d=r[u],-1!==Em(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<r.length&&"string"==typeof(d=r[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Py(r){return 4===r.type&&r.value!==Mm}function Fy(r,s,a){return s===(4!==r.type||a?r.value:Mm)}function Sf(r,s,a){let u=4;const d=r.attrs||[],p=function _I(r){for(let s=0;s<r.length;s++)if(gn(r[s]))return s;return r.length}(d);let y=!1;for(let C=0;C<s.length;C++){const D=s[C];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Fy(r,D,a)||""===D&&1===s.length){if(us(u))return!1;y=!0}}else{const S=8&u?D:s[++C];if(8&u&&null!==r.attrs){if(!Oy(r.attrs,S,a)){if(us(u))return!1;y=!0}continue}const N=gI(8&u?"class":D,d,Py(r),a);if(-1===N){if(us(u))return!1;y=!0;continue}if(""!==S){let U;U=N>p?"":d[N+1].toLowerCase();const ee=8&u?U:null;if(ee&&-1!==Em(ee,S,0)||2&u&&S!==U){if(us(u))return!1;y=!0}}}}else{if(!y&&!us(u)&&!us(D))return!1;if(y&&us(D))continue;y=!1,u=D|1&u}}return us(u)||y}function us(r){return 0==(1&r)}function gI(r,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===r)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function BC(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,r)}function VC(r,s,a=!1){for(let u=0;u<s.length;u++)if(Sf(r,s[u],a))return!0;return!1}function yI(r,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(r.length===u.length){for(let d=0;d<r.length;d++)if(r[d]!==u[d])continue e;return!0}}return!1}function Ly(r,s){return r?":not("+s.trim()+")":s}function vI(r){let s=r[0],a=1,u=2,d="",p=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&u){const C=r[++a];d+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!us(y)&&(s+=Ly(p,d),d=""),u=y,p=p||!us(u);a++}return""!==d&&(s+=Ly(p,d)),s}const vt={};function HC(r){jC(It(),Se(),On()+r,!1)}function jC(r,s,a,u){if(!u)if(3==(3&s[2])){const p=r.preOrderCheckHooks;null!==p&&Dr(s,p,a)}else{const p=r.preOrderHooks;null!==p&&xs(s,p,0,a)}ks(a)}function uu(r,s){return r<<17|s<<2}function Ys(r){return r>>17&32767}function Im(r){return 2|r}function ya(r){return(131068&r)>>2}function Sm(r,s){return-131069&r|s<<2}function Af(r){return 1|r}function KC(r,s){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],p=a[u+1];if(-1!==p){const y=r.data[p];Uc(d),y.contentQueries(2,s[p],p)}}}function Ca(r,s,a,u,d,p,y,C,D,S){const k=s.blueprint.slice();return k[0]=d,k[2]=140|u,cr(k),k[3]=k[15]=r,k[8]=a,k[10]=y||r&&r[10],k[11]=C||r&&r[11],k[12]=D||r&&r[12]||null,k[9]=S||r&&r[9]||null,k[6]=p,k[16]=2==s.type?r[16]:k,k}function xd(r,s,a,u,d){let p=r.data[s];if(null===p)p=function Pf(r,s,a,u,d){const p=Ha(),y=Fl(),D=r.data[s]=function QC(r,s,a,u,d,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,u,d);return null===r.firstChild&&(r.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}(r,s,a,u,d),function Vl(){return at.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=d;const y=function As(){const r=at.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ki(p,!0),p}function Fo(r,s,a,u){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(u),r.blueprint.push(u),r.data.push(null);return d}function du(r,s,a){Ts(s);try{const u=r.viewQuery;null!==u&&Vf(1,u,a);const d=r.template;null!==d&&Rd(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&KC(r,s),r.staticViewQueries&&Vf(2,r.viewQuery,a);const p=r.components;null!==p&&function TI(r,s){for(let a=0;a<s.length;a++)Hm(r,s[a])}(s,p)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,vi()}}function dl(r,s,a,u){const d=s[2];if(256!=(256&d)){Ts(s);try{cr(s),function ja(r){return at.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Rd(r,s,a,2,u);const y=3==(3&d);if(y){const S=r.preOrderCheckHooks;null!==S&&Dr(s,S,null)}else{const S=r.preOrderHooks;null!==S&&xs(s,S,0,null),Mn(s,0)}if(function Bm(r){for(let s=mr(r);null!==s;s=nc(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],p=d[3];0==(1024&d[2])&&po(p,1),d[2]|=1024}}}(s),function Vm(r){for(let s=mr(r);null!==s;s=nc(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];br(u)&&dl(d,u,d.template,u[8])}}(s),null!==r.contentQueries&&KC(r,s),y){const S=r.contentCheckHooks;null!==S&&Dr(s,S)}else{const S=r.contentHooks;null!==S&&xs(s,S,1),Mn(s,1)}!function ds(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)ks(~d);else{const p=d,y=a[++u],C=a[++u];Ga(y,p),C(2,s[p])}}}finally{ks(-1)}}(r,s);const C=r.components;null!==C&&function kd(r,s){for(let a=0;a<s.length;a++)Or(r,s[a])}(s,C);const D=r.viewQuery;if(null!==D&&Vf(2,D,u),y){const S=r.viewCheckHooks;null!==S&&Dr(s,S)}else{const S=r.viewHooks;null!==S&&xs(s,S,2),Mn(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,po(s[3],-1))}finally{vi()}}}function Pt(r,s,a,u){const d=s[10],y=Is(s);try{!y&&d.begin&&d.begin(),y&&du(r,s,u),dl(r,s,a,u)}finally{!y&&d.end&&d.end()}}function Rd(r,s,a,u,d){const p=On(),y=2&u;try{ks(-1),y&&s.length>20&&jC(r,s,20,!1),a(u,d)}finally{ks(p)}}function Rm(r,s,a){if(Pa(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=r.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Om(r,s,a){!Ba()||(function sD(r,s,a,u){const d=a.directiveStart,p=a.directiveEnd;r.firstCreatePass||an(a,s),ii(u,s);const y=a.initialInputs;for(let C=d;C<p;C++){const D=r.data[C],S=sr(D);S&&PI(s,a,D);const k=Qa(s,r,C,a);ii(k,s),null!==y&&Lm(0,C-d,k,D,0,y),S&&(Gn(a.index,s)[8]=k)}}(r,s,a,Un(a,s)),128==(128&a.flags)&&function oD(r,s,a){const u=a.directiveStart,d=a.directiveEnd,y=a.index,C=function Bl(){return at.lFrame.currentDirectiveIndex}();try{ks(y);for(let D=u;D<d;D++){const S=r.data[D],k=s[D];go(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&ev(S,k)}}finally{ks(-1),go(C)}}(r,s,a))}function Pm(r,s,a=Un){const u=s.localNames;if(null!==u){let d=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],C=-1===y?a(s,r):r[y];r[d++]=C}}}function qy(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Ff(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Ff(r,s,a,u,d,p,y,C,D,S){const k=20+u,N=k+d,U=function ZC(r,s){const a=[];for(let u=0;u<s;u++)a.push(u<r?null:vt);return a}(k,N),ee="function"==typeof S?S():S;return U[1]={type:r,blueprint:U,template:a,queries:null,viewQuery:C,declTNode:s,data:U.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ee,incompleteFirstPass:!1}}function Qy(r,s,a,u){const d=Gm(s);null===a?d.push(u):(d.push(a),r.firstCreatePass&&Bf(r).push(u,d.length-1))}function XC(r,s,a){for(let u in r)if(r.hasOwnProperty(u)){const d=r[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function Rr(r,s,a,u,d,p,y,C){const D=Un(s,a);let k,S=s.inputs;!C&&null!=S&&(k=S[u])?(ov(r,a,k,u,d),Tc(s)&&function tD(r,s){const a=Gn(s,r);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function eD(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),d=null!=y?y(d,s.value||"",u):d,Yt(p)?p.setProperty(D,u,d):zn(u)||(D.setProperty?D.setProperty(u,d):D[u]=d))}function Fm(r,s,a,u){let d=!1;if(Ba()){const p=function aD(r,s,a){const u=r.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];VC(a,y.selectors,!1)&&(d||(d=[]),Jt(an(a,s),r,y.type),sr(y)?(tv(r,a),d.unshift(y)):d.push(y))}return d}(r,s,a),y=null===u?null:{"":-1};if(null!==p){d=!0,nv(a,r.data.length,p.length);for(let k=0;k<p.length;k++){const N=p[k];N.providersResolver&&N.providersResolver(N)}let C=!1,D=!1,S=Fo(r,s,p.length,null);for(let k=0;k<p.length;k++){const N=p[k];a.mergedAttrs=Ka(a.mergedAttrs,N.hostAttrs),iv(r,a,s,S,N),cD(S,N,y),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const U=N.type.prototype;!C&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),C=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),D=!0),S++}!function JC(r,s){const u=s.directiveEnd,d=r.data,p=s.attrs,y=[];let C=null,D=null;for(let S=s.directiveStart;S<u;S++){const k=d[S],N=k.inputs,U=null===p||Py(s)?null:hl(N,p);y.push(U),C=XC(N,S,C),D=XC(k.outputs,S,D)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=D}(r,a)}y&&function lD(r,s,a){if(s){const u=r.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new ke(-301,!1);u.push(s[d],p)}}}(a,u,y)}return a.mergedAttrs=Ka(a.mergedAttrs,a.attrs),d}function Jy(r,s,a,u,d,p){const y=p.hostBindings;if(y){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const D=~s.index;(function rD(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=D&&C.push(D),C.push(u,d,y)}}function ev(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function tv(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function cD(r,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=r;sr(s)&&(a[""]=r)}}function nv(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function iv(r,s,a,u,d){r.data[u]=d;const p=d.factory||(d.factory=Xn(d.type)),y=new yo(p,sr(d),null);r.blueprint[u]=y,a[u]=y,Jy(r,s,0,u,Fo(r,a,d.hostVars,vt),d)}function PI(r,s,a){const u=Un(s,r),d=qy(a),p=r[10],y=Od(r,Ca(r,d,null,a.onPush?64:16,u,s,p,p.createRenderer(u,a),null,null));r[s.index]=y}function No(r,s,a,u,d,p){const y=Un(r,s);!function Nm(r,s,a,u,d,p,y){if(null==p)Yt(r)?r.removeAttribute(s,d,a):s.removeAttribute(d);else{const C=null==y?me(p):y(p,u||"",d);Yt(r)?r.setAttribute(s,d,C,a):a?s.setAttributeNS(a,d,C):s.setAttribute(d,C)}}(s[11],y,p,r.value,a,u,d)}function Lm(r,s,a,u,d,p){const y=p[s];if(null!==y){const C=u.setInput;for(let D=0;D<y.length;){const S=y[D++],k=y[D++],N=y[D++];null!==C?u.setInput(a,N,S,k):a[k]=N}}}function hl(r,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,r[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Nf(r,s,a,u){return new Array(r,!0,!1,s,null,0,u,a,null,null)}function Or(r,s){const a=Gn(s,r);if(br(a)){const u=a[1];80&a[2]?dl(u,a,u.template,a[8]):a[5]>0&&Lf(a)}}function Lf(r){for(let u=mr(r);null!==u;u=nc(u))for(let d=10;d<u.length;d++){const p=u[d];if(1024&p[2]){const y=p[1];dl(y,p,y.template,p[8])}else p[5]>0&&Lf(p)}const a=r[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Gn(a[u],r);br(d)&&d[5]>0&&Lf(d)}}function Hm(r,s){const a=Gn(s,r),u=a[1];(function rv(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(u,a),du(u,a,a[8])}function Od(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Pd(r){for(;r;){r[2]|=64;const s=st(r);if(Fa(r)&&!s)return r;r=s}return null}function Um(r){!function jm(r){for(let s=0;s<r.components.length;s++){const a=r.components[s],u=gf(a),d=u[1];Pt(d,u,d.template,a)}}(r[8])}function Vf(r,s,a){Uc(0),s(r,a)}const LI=(()=>Promise.resolve(null))();function Gm(r){return r[7]||(r[7]=[])}function Bf(r){return r.cleanup||(r.cleanup=[])}function sv(r,s,a){return(null===r||sr(r))&&(a=function Xo(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(a[s.index])),a[11]}function zm(r,s){const a=r[9],u=a?a.get(Md,null):null;u&&u.handleError(s)}function ov(r,s,a,u,d){for(let p=0;p<a.length;){const y=a[p++],C=a[p++],D=s[y],S=r.data[y];null!==S.setInput?S.setInput(D,d,u,C):D[C]=d}}function Ks(r,s,a){const u=es(s,r);!function Sd(r,s,a){Yt(r)?r.setValue(s,a):s.textContent=a}(r[11],u,a)}function sc(r,s,a){let u=a?r.styles:null,d=a?r.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?p=C:1==p?d=fe(d,C):2==p&&(u=fe(u,C+": "+s[++y]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=d:r.classesWithoutHost=d}const Fd=new cn("INJECTOR",-1);class fl{get(s,a=Us){if(a===Us){const u=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw u.name="NullInjectorError",u}return a}}const Nd=new cn("Set Injector scope."),pl={},pD={};let ml;function $m(){return void 0===ml&&(ml=new fl),ml}function wa(r,s=null,a=null,u){const d=Wm(r,s,a,u);return d._resolveInjectorDefTypes(),d}function Wm(r,s=null,a=null,u){return new av(r,a,s||$m(),u)}class av{constructor(s,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&bi(a,C=>this.processProvider(C,s,a)),bi([s],C=>this.processInjectorType(C,[],p)),this.records.set(Fd,gl(void 0,this));const y=this.records.get(Nd);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Us,u=ot.Default){this.assertNotDestroyed();const d=Ce(this),p=fn(void 0);try{if(!(u&ot.SkipSelf)){let C=this.records.get(s);if(void 0===C){const D=function _D(r){return"function"==typeof r||"object"==typeof r&&r instanceof cn}(s)&&Mt(s);C=D&&this.injectableDefInScope(D)?gl(hs(s),pl):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&ot.Self?$m():this.parent).get(s,a=u&ot.Optional&&a===Us?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[tl]=y[tl]||[]).unshift(de(s)),d)throw y;return function Ao(r,s,a,u){const d=r[tl];throw s[V]&&d.unshift(s[V]),r.message=function Gs(r,s,a,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=de(s);if(Array.isArray(s))d=s.map(de).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):de(C)))}d=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${r.replace(M,"\n  ")}`}("\n"+r.message,d,a,u),r.ngTokenPath=d,r[tl]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{fn(p),Ce(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(de(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(s,a,u){if(!(s=re(s)))return!1;let d=ai(s);const p=null==d&&s.ngModule||void 0,y=void 0===p?s:p,C=-1!==u.indexOf(y);if(void 0!==p&&(d=ai(p)),null==d)return!1;if(null!=d.imports&&!C){let k;u.push(y);try{bi(d.imports,N=>{this.processInjectorType(N,a,u)&&(void 0===k&&(k=[]),k.push(N))})}finally{}if(void 0!==k)for(let N=0;N<k.length;N++){const{ngModule:U,providers:ee}=k[N];bi(ee,ge=>this.processProvider(ge,U,ee||nt))}}this.injectorDefTypes.add(y);const D=Xn(y)||(()=>new y);this.records.set(y,gl(D,pl));const S=d.providers;if(null!=S&&!C){const k=s;bi(S,N=>this.processProvider(N,k,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,u){let d=hu(s=re(s))?s:re(s&&s.provide);const p=function Ld(r,s,a){return Ym(r)?gl(void 0,r.useValue):gl(lv(r),pl)}(s);if(hu(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=gl(void 0,pl,!0),y.factory=()=>rt(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===pl&&(a.value=pD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function gD(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=re(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function hs(r){const s=Mt(r),a=null!==s?s.factory:Xn(r);if(null!==a)return a;if(r instanceof cn)throw new ke(204,!1);if(r instanceof Function)return function oc(r){const s=r.length;if(s>0)throw Ir(s,"?"),new ke(204,!1);const a=function Mi(r){const s=r&&(r[er]||r[fi]);if(s){const a=function qn(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new ke(204,!1)}function lv(r,s,a){let u;if(hu(r)){const d=re(r);return Xn(d)||hs(d)}if(Ym(r))u=()=>re(r.useValue);else if(function Gf(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...rt(r.deps||[]));else if(function Uf(r){return!(!r||!r.useExisting)}(r))u=()=>Ke(re(r.useExisting));else{const d=re(r&&(r.useClass||r.provide));if(!function mD(r){return!!r.deps}(r))return Xn(d)||hs(d);u=()=>new d(...rt(r.deps))}return u}function gl(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Ym(r){return null!==r&&"object"==typeof r&&K in r}function hu(r){return"function"==typeof r}let Tn=(()=>{class r{static create(a,u){var d;if(Array.isArray(a))return wa({name:""},u,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return wa({name:p},a.parent,a.providers,p)}}}return r.THROW_IF_NOT_FOUND=Us,r.NULL=new fl,r.\u0275prov=Lt({token:r,providedIn:"any",factory:()=>Ke(Fd)}),r.__NG_ELEMENT_ID__=-1,r})();function Xm(r,s){ta(gf(r)[1],en())}function Jm(r){let s=function jd(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;s;){let d;if(sr(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ke(903,"");d=s.\u0275dir}if(d){if(a){u.push(d);const y=r;y.inputs=eg(r.inputs),y.declaredInputs=eg(r.declaredInputs),y.outputs=eg(r.outputs);const C=d.hostBindings;C&&tg(r,C);const D=d.viewQuery,S=d.contentQueries;if(D&&DD(r,D),S&&wD(r,S),ne(r.inputs,d.inputs),ne(r.declaredInputs,d.declaredInputs),ne(r.outputs,d.outputs),sr(d)&&d.data.animation){const k=r.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(r),C===Jm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function CD(r){let s=0,a=null;for(let u=r.length-1;u>=0;u--){const d=r[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Ka(d.hostAttrs,a=Ka(a,d.hostAttrs))}}(u)}function eg(r){return r===Zn?{}:r===nt?[]:r}function DD(r,s){const a=r.viewQuery;r.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function wD(r,s){const a=r.contentQueries;r.contentQueries=a?(u,d,p)=>{s(u,d,p),a(u,d,p)}:s}function tg(r,s){const a=r.hostBindings;r.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let ac=null;function fu(){if(!ac){const r=St.Symbol;if(r&&r.iterator)ac=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ac=u)}}}return ac}function Ud(r){return!!_v(r)&&(Array.isArray(r)||!(r instanceof Map)&&fu()in r)}function _v(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ni(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function rg(r,s,a,u){const d=Se();return Ni(d,ns(),s)&&(It(),No(Cn(),d,r,s,a,u)),rg}function Qf(r,s,a,u,d,p,y,C){const D=Se(),S=It(),k=r+20,N=S.firstCreatePass?function zd(r,s,a,u,d,p,y,C,D){const S=s.consts,k=xd(s,r,4,y||null,Gi(S,C));Fm(s,a,k,Gi(S,D)),ta(s,k);const N=k.tViews=Ff(2,k,u,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,k),N.queries=s.queries.embeddedTView(k)),k}(k,S,D,s,a,u,d,p,y):S.data[k];ki(N,!1);const U=D[11].createComment("");Cm(S,D,U,N),ii(U,D),Od(D,D[k]=Nf(U,D,U,N)),rr(N)&&Om(S,D,N),null!=y&&Pm(D,N,C)}function wv(r){return function lr(r,s){return r[s]}(function jc(){return at.lFrame.contextLView}(),20+r)}function tp(r,s=ot.Default){const a=Se();return null===a?Ke(r,s):sa(en(),a,re(r),s)}function jD(){throw new Error("invalid")}function Pv(r,s,a){const u=Se();return Ni(u,ns(),s)&&Rr(It(),Cn(),u,r,s,u[11],a,!1),Pv}function Fv(r,s,a,u,d){const y=d?"class":"style";ov(r,a,s.inputs[y],y,u)}function Yd(r,s,a,u){const d=Se(),p=It(),y=20+r,C=d[11],D=d[y]=Ad(C,s,function Zh(){return at.lFrame.currentNamespace}()),S=p.firstCreatePass?function WI(r,s,a,u,d,p,y){const C=s.consts,S=xd(s,r,2,d,Gi(C,p));return Fm(s,a,S,Gi(C,y)),null!==S.attrs&&sc(S,S.attrs,!1),null!==S.mergedAttrs&&sc(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,p,d,0,s,a,u):p.data[y];ki(S,!0);const k=S.mergedAttrs;null!==k&&$i(C,D,k);const N=S.classes;null!==N&&ic(C,D,N);const U=S.styles;return null!==U&&wm(C,D,U),64!=(64&S.flags)&&Cm(p,d,D,S),0===function ea(){return at.lFrame.elementDepthCount}()&&ii(D,d),function Ol(){at.lFrame.elementDepthCount++}(),rr(S)&&(Om(p,d,S),Rm(p,S,d)),null!==u&&Pm(d,S),Yd}function qd(){let r=en();Fl()?Nl():(r=r.parent,ki(r,!1));const s=r;!function Va(){at.lFrame.elementDepthCount--}();const a=It();return a.firstCreatePass&&(ta(a,r),Pa(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Xh(r){return 0!=(16&r.flags)}(s)&&Fv(a,s,Se(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Xt(r){return 0!=(32&r.flags)}(s)&&Fv(a,s,Se(),s.stylesWithoutHost,!1),qd}function np(r,s,a,u){return Yd(r,s,a,u),qd(),np}function Nt(r,s,a){const u=Se(),d=It(),p=r+20,y=d.firstCreatePass?function UD(r,s,a,u,d){const p=s.consts,y=Gi(p,u),C=xd(s,r,8,"ng-container",y);return null!==y&&sc(C,y,!0),Fm(s,a,C,Gi(p,d)),null!==s.queries&&s.queries.elementStart(s,C),C}(p,d,u,s,a):d.data[p];ki(y,!0);const C=u[p]=u[11].createComment("");return Cm(d,u,C,y),ii(C,u),rr(y)&&(Om(d,u,y),Rm(d,y,u)),null!=a&&Pm(u,y),Nt}function hg(){let r=en();const s=It();return Fl()?Nl():(r=r.parent,ki(r,!1)),s.firstCreatePass&&(ta(s,r),Pa(r)&&s.queries.elementEnd(r)),hg}function Nv(r,s,a){return Nt(r,s,a),hg(),Nv}function GD(){return Se()}function wu(r){return!!r&&"function"==typeof r.then}function Eu(r){return!!r&&"function"==typeof r.subscribe}const Kd=Eu;function Mu(r,s,a,u){const d=Se(),p=It(),y=en();return zD(p,d,d[11],y,r,s,!!a,u),Mu}function Lv(r,s){const a=en(),u=Se(),d=It();return zD(d,u,sv(za(d.data),a,u),a,r,s,!1),Lv}function zD(r,s,a,u,d,p,y,C){const D=rr(u),k=r.firstCreatePass&&Bf(r),N=s[8],U=Gm(s);let ee=!0;if(3&u.type||C){const Be=Un(u,s),Oe=C?C(Be):Be,we=U.length,et=C?At=>C(Bt(At[u.index])):u.index;if(Yt(a)){let At=null;if(!C&&D&&(At=function qI(r,s,a,u){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===u){const C=s[7],D=d[p+2];return C.length>D?C[D]:null}"string"==typeof y&&(p+=2)}return null}(r,s,d,u.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=p,At.__ngLastListenerFn__=p,ee=!1;else{p=Vo(u,s,N,p,!1);const qt=a.listen(Oe,d,p);U.push(p,qt),k&&k.push(d,et,we,we+1)}}else p=Vo(u,s,N,p,!0),Oe.addEventListener(d,p,y),U.push(p),k&&k.push(d,et,we,y)}else p=Vo(u,s,N,p,!1);const ge=u.outputs;let Re;if(ee&&null!==ge&&(Re=ge[d])){const Be=Re.length;if(Be)for(let Oe=0;Oe<Be;Oe+=2){const Qi=s[Re[Oe]][Re[Oe+1]].subscribe(p),Br=U.length;U.push(p,Qi),k&&k.push(d,u.index,Br,-(Br+1))}}}function Vv(r,s,a,u){try{return!1!==a(u)}catch(d){return zm(r,d),!1}}function Vo(r,s,a,u,d){return function p(y){if(y===Function)return u;const C=2&r.flags?Gn(r.index,s):s;0==(32&s[2])&&Pd(C);let D=Vv(s,0,u,y),S=p.__ngNextListenerFn__;for(;S;)D=Vv(s,0,S,y)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function fg(r=1){return function sd(r){return(at.lFrame.contextLView=function Hl(r,s){for(;r>0;)s=s[15],r--;return s}(r,at.lFrame.contextLView))[8]}(r)}function KI(r,s){let a=null;const u=function Ny(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===u?VC(r,p,!0):yI(u,p))return d}else a=d}return a}function $D(r){const s=Se()[16][6];if(!s.projection){const u=s.projection=Ir(r?r.length:1,null),d=u.slice();let p=s.child;for(;null!==p;){const y=r?KI(p,r):0;null!==y&&(d[y]?d[y].projectionNext=p:u[y]=p,d[y]=p),p=p.next}}}function WD(r,s=0,a){const u=Se(),d=It(),p=xd(d,20+r,16,null,a||null);null===p.projection&&(p.projection=s),Nl(),64!=(64&p.flags)&&function pI(r,s,a){NC(s[11],0,s,a,IC(r,a,s),kC(a.parent||s[6],a,s))}(d,u,p)}function mg(r,s,a,u,d){const p=r[a+1],y=null===s;let C=u?Ys(p):ya(p),D=!1;for(;0!==C&&(!1===D||y);){const k=r[C+1];Uv(r[C],s)&&(D=!0,r[C+1]=u?Af(k):Im(k)),C=u?Ys(k):ya(k)}D&&(r[a+1]=u?Im(p):Af(p))}function Uv(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Eo(r,s)>=0}function gg(r,s,a){return Ln(r,s,a,!1),gg}function $v(r,s){return Ln(r,s,null,!0),$v}function Ln(r,s,a,u){const d=Se(),p=It(),y=function zi(r){const s=at.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}(2);p.firstUpdatePass&&function Yv(r,s,a,u){const d=r.data;if(null===d[a+1]){const p=d[On()],y=function Wv(r,s){return s>=r.expandoStartIndex}(r,a);(function vg(r,s){return 0!=(r.flags&(s?16:32))})(p,u)&&null===s&&!y&&(s=!1),s=function lw(r,s,a,u){const d=za(r);let p=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=vl(a=_g(null,r,s,a,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==d)if(a=_g(d,r,s,a,u),null===p){let D=function qv(r,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==ya(u))return r[Ys(u)]}(r,s,u);void 0!==D&&Array.isArray(D)&&(D=_g(null,r,s,D[1],u),D=vl(D,s.attrs,u),function cw(r,s,a,u){r[Ys(a?s.classBindings:s.styleBindings)]=u}(r,s,u,D))}else p=function Kv(r,s,a){let u;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)u=vl(u,r[p].hostAttrs,a);return vl(u,s.attrs,a)}(r,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,u),function ew(r,s,a,u,d,p){let y=p?s.classBindings:s.styleBindings,C=Ys(y),D=ya(y);r[u]=a;let k,S=!1;if(Array.isArray(a)){const N=a;k=N[1],(null===k||Eo(N,k)>0)&&(S=!0)}else k=a;if(d)if(0!==D){const U=Ys(r[C+1]);r[u+1]=uu(U,C),0!==U&&(r[U+1]=Sm(r[U+1],u)),r[C+1]=function GC(r,s){return 131071&r|s<<17}(r[C+1],u)}else r[u+1]=uu(C,0),0!==C&&(r[C+1]=Sm(r[C+1],u)),C=u;else r[u+1]=uu(D,0),0===C?C=u:r[D+1]=Sm(r[D+1],u),D=u;S&&(r[u+1]=Im(r[u+1])),mg(r,k,u,!0),mg(r,k,u,!1),function pg(r,s,a,u,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Eo(p,s)>=0&&(a[u+1]=Af(a[u+1]))}(s,k,r,u,p),y=uu(C,D),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,u)}}(p,r,y,u),s!==vt&&Ni(d,y,s)&&function Zv(r,s,a,u,d,p,y,C){if(!(3&s.type))return;const D=r.data,S=D[C+1];ip(function By(r){return 1==(1&r)}(S)?Qv(D,s,a,d,ya(S),y):void 0)||(ip(p)||function Vy(r){return 2==(2&r)}(S)&&(p=Qv(D,null,a,d,C,y)),function cu(r,s,a,u,d){const p=Yt(r);if(s)d?p?r.addClass(a,u):a.classList.add(u):p?r.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:R.DashCase;if(null==d)p?r.removeStyle(a,u,y):a.style.removeProperty(u);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),y|=R.Important),p?r.setStyle(a,u,d,y):a.style.setProperty(u,d,C?"important":"")}}}(u,y,es(On(),a),d,p))}(p,p.data[On()],d,d[11],r,d[y+1]=function hw(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=de(Fn(r)))),r}(s,a),u,y)}function _g(r,s,a,u,d){let p=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(p=s[C],u=vl(u,p.hostAttrs,d),p!==r);)C++;return null!==r&&(a.directiveStylingLast=C),u}function vl(r,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ni(r,y,!!a||s[++p]))}return void 0===r?null:r}function Qv(r,s,a,u,d,p){const y=null===s;let C;for(;d>0;){const D=r[d],S=Array.isArray(D),k=S?D[1]:D,N=null===k;let U=a[d+1];U===vt&&(U=N?nt:void 0);let ee=N?zl(U,u):k===u?U:void 0;if(S&&!ip(ee)&&(ee=zl(D,u)),ip(ee)&&(C=ee,y))return C;const ge=r[d+1];d=y?Ys(ge):ya(ge)}if(null!==s){let D=p?s.residualClasses:s.residualStyles;null!=D&&(C=zl(D,u))}return C}function ip(r){return void 0!==r}function rp(r,s=""){const a=Se(),u=It(),d=r+20,p=u.firstCreatePass?xd(u,d,1,s,null):u.data[d],y=a[d]=function Id(r,s){return Yt(r)?r.createText(s):r.createTextNode(s)}(a[11],s);Cm(u,a,y,p),ki(p,!1)}function Xd(r){return sp("",r,""),Xd}function sp(r,s,a){const u=Se(),d=function gu(r,s,a,u){return Ni(r,ns(),a)?s+me(a)+u:vt}(u,r,s,a);return d!==vt&&Ks(u,On(),d),sp}function Su(r,s,a){const u=Se();return Ni(u,ns(),s)&&Rr(It(),Cn(),u,r,s,u[11],a,!0),Su}function ib(r,s,a){const u=Se();if(Ni(u,ns(),s)){const p=It(),y=Cn();Rr(p,y,u,r,s,sv(za(p.data),y,u),a,!0)}return ib}const bl=void 0;var oS=["en",[["a","p"],["AM","PM"],bl],[["AM","PM"],bl,bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bl,"{1} 'at' {0}",bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mw(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Au={};function nh(r){const s=function aS(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=sb(s);if(a)return a;const u=s.split("-")[0];if(a=sb(u),a)return a;if("en"===u)return oS;throw new Error(`Missing locale data for the locale "${r}".`)}function rb(r){return nh(r)[ut.PluralCase]}function sb(r){return r in Au||(Au[r]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[r]),Au[r]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const Mg="en-US";let Cl=Mg;function Eb(r,s,a,u,d){if(r=re(r),Array.isArray(r))for(let p=0;p<r.length;p++)Eb(r[p],s,a,u,d);else{const p=It(),y=Se();let C=hu(r)?r:re(r.provide),D=lv(r);const S=en(),k=1048575&S.providerIndexes,N=S.directiveStart,U=S.providerIndexes>>20;if(hu(r)||!r.multi){const ee=new yo(D,d,tp),ge=Ib(C,s,d?k:k+U,N);-1===ge?(Jt(an(S,y),p,C),Mb(p,r,s.length),s.push(C),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(ee),y.push(ee)):(a[ge]=ee,y[ge]=ee)}else{const ee=Ib(C,s,k+U,N),ge=Ib(C,s,k,k+U),Re=ee>=0&&a[ee],Be=ge>=0&&a[ge];if(d&&!Be||!d&&!Re){Jt(an(S,y),p,C);const Oe=function Sb(r,s,a,u,d){const p=new yo(r,a,tp);return p.multi=[],p.index=s,p.componentProviders=0,nE(p,d,u&&!a),p}(d?TS:AS,a.length,d,u,D);!d&&Be&&(a[ge].providerFactory=Oe),Mb(p,r,s.length,0),s.push(C),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Oe),y.push(Oe)}else Mb(p,r,ee>-1?ee:ge,nE(a[d?ge:ee],D,!d&&u));!d&&u&&Be&&a[ge].componentProviders++}}}function Mb(r,s,a,u){const d=hu(s),p=function qm(r){return!!r.useClass}(s);if(d||p){const D=(p?re(s.useClass):s).prototype.ngOnDestroy;if(D){const S=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const k=S.indexOf(a);-1===k?S.push(a,[u,D]):S[k+1].push(u,D)}else S.push(a,D)}}}function nE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Ib(r,s,a,u){for(let d=a;d<u;d++)if(s[d]===r)return d;return-1}function AS(r,s,a,u){return Og(this.multi,[])}function TS(r,s,a,u){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Qa(a,a[1],this.providerFactory.index,u);p=C.slice(0,y),Og(d,p);for(let D=y;D<C.length;D++)p.push(C[D])}else p=[],Og(d,p);return p}function Og(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Ab(r,s=[]){return a=>{a.providersResolver=(u,d)=>function tE(r,s,a){const u=It();if(u.firstCreatePass){const d=sr(r);Eb(a,u.data,u.blueprint,d,!0),Eb(s,u.data,u.blueprint,d,!1)}}(u,d?d(r):r,s)}}class Pg{}class iE{resolveComponentFactory(s){throw function Ma(r){const s=Error(`No component factory found for ${de(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let mp=(()=>{class r{}return r.NULL=new iE,r})();function xb(){return fc(en(),Se())}function fc(r,s){return new fs(Un(r,s))}let fs=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=xb,r})();function xS(r){return r instanceof fs?r.nativeElement:r}class Rb{}let Ob=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Fb(){const r=Se(),a=Gn(en().index,r);return function Pb(r){return r[11]}(yi(a)?a:r)}(),r})(),rE=(()=>{class r{}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:()=>null}),r})();class xu{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Vn=new xu("13.3.11"),ch={};function Ru(r,s,a,u,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Bt(p)),ir(p))for(let C=10;C<p.length;C++){const D=p[C],S=D[1].firstChild;null!==S&&Ru(D[1],D,S,u)}const y=a.type;if(8&y)Ru(r,s,a.child,u);else if(32&y){const C=he(a,s);let D;for(;D=C();)u.push(D)}else if(16&y){const C=PC(s,a);if(Array.isArray(C))u.push(...C);else{const D=st(s[16]);Ru(D[1],D,C,u,!0)}}a=d?a.projectionNext:a.next}return u}class Dl{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ru(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ir(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Ay(s,u),js(a,u))}this._attachedToViewContainer=!1}MC(this._lView[1],this._lView)}onDestroy(s){Qy(this._lView[1],this._lView,null,s)}markForCheck(){Pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Da(r,s,a){const u=s[10];u.begin&&u.begin();try{dl(r,s,r.template,a)}catch(d){throw zm(s,d),d}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iy(r,s){If(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=s}}class Nb extends Dl{constructor(s){super(s),this._view=s}detectChanges(){Um(this._view)}checkNoChanges(){}get context(){return null}}class gp extends mp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=wn(s);return new Fg(a,this.ngModule)}}function uh(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Fg extends Pg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function bI(r){return r.map(vI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return uh(this.componentDef.inputs)}get outputs(){return uh(this.componentDef.outputs)}create(s,a,u,d){const p=(d=d||this.ngModule)?function Vb(r,s){return{get:(a,u,d)=>{const p=r.get(a,ch,d);return p!==ch||u===ch?p:s.get(a,u,d)}}}(s,d.injector):s,y=p.get(Rb,Qo),C=p.get(rE,null),D=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=u?function Zy(r,s,a){if(Yt(r))return r.selectRootElement(s,a===xt.ShadowDom);let u="string"==typeof s?r.querySelector(s):s;return u.textContent="",u}(D,u,this.componentDef.encapsulation):Ad(y.createRenderer(null,this.componentDef),S,function Lb(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),N=this.componentDef.onPush?576:528,U=function _l(r,s){return{components:[],scheduler:r||Df,clean:LI,playerHandler:s||null,flags:0}}(),ee=Ff(0,null,null,1,0,null,null,null,null,null),ge=Ca(null,ee,U,N,null,null,y,D,C,p);let Re,Be;Ts(ge);try{const Oe=function Hd(r,s,a,u,d,p){const y=a[1];a[20]=r;const D=xd(y,20,2,"#host",null),S=D.mergedAttrs=s.hostAttrs;null!==S&&(sc(D,S,!0),null!==r&&($i(d,r,S),null!==D.classes&&ic(d,r,D.classes),null!==D.styles&&wm(d,r,D.styles)));const k=u.createRenderer(r,s),N=Ca(a,qy(s),null,s.onPush?64:16,a[20],D,u,k,p||null,null);return y.firstCreatePass&&(Jt(an(D,a),y,s.type),tv(y,D),nv(D,a.length,1)),Od(a,N),a[20]=N}(k,this.componentDef,ge,y,D);if(k)if(u)$i(D,k,["ng-version",Vn.full]);else{const{attrs:we,classes:et}=function CI(r){const s=[],a=[];let u=1,d=2;for(;u<r.length;){let p=r[u];if("string"==typeof p)2===d?""!==p&&s.push(p,r[++u]):8===d&&a.push(p);else{if(!us(d))break;d=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&$i(D,k,we),et&&et.length>0&&ic(D,k,et.join(" "))}if(Be=nn(ee,20),void 0!==a){const we=Be.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const At=a[et];we.push(null!=At?Array.from(At):null)}}Re=function pv(r,s,a,u,d){const p=a[1],y=function iD(r,s,a){const u=en();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),iv(r,u,s,Fo(r,s,1,null),a));const d=Qa(s,r,u.directiveStart,u);ii(d,s);const p=Un(u,s);return p&&ii(p,s),d}(p,a,s);if(u.components.push(y),r[8]=y,d&&d.forEach(D=>D(y,s)),s.contentQueries){const D=en();s.contentQueries(1,y,D.directiveStart)}const C=en();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ks(C.index),Jy(a[1],C,0,C.directiveStart,C.directiveEnd,s),ev(s,y)),y}(Oe,this.componentDef,ge,U,[Xm]),du(ee,ge,null)}finally{vi()}return new PS(this.componentType,Re,fc(Be,ge),ge,Be)}}class PS extends class Tb{}{constructor(s,a,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Nb(d),this.componentType=s}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class dh{}const hh=new Map;class Ng extends dh{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gp(this);const u=En(s);this._bootstrapComponents=_(u.bootstrap),this._r3Injector=Wm(s,a,[{provide:dh,useValue:this},{provide:mp,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Tn.THROW_IF_NOT_FOUND,u=ot.Default){return s===Tn||s===dh||s===Fd?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Lg extends class NS{}{constructor(s){super(),this.moduleType=s,null!==En(s)&&function sE(r){const s=new Set;!function a(u){const d=En(u,!0),p=d.id;null!==p&&(function Bb(r,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${r} - ${de(s)} vs ${de(s.name)}`)}(p,hh.get(p),u),hh.set(p,u));const y=_(d.imports);for(const C of y)s.has(C)||(s.add(C),a(C))}(r)}(s)}create(s){return new Ng(this.moduleType,s)}}function jb(r,s,a,u){return function Hg(r,s,a,u,d,p){const y=s+a;return Ni(r,y,d)?function Lo(r,s,a){return r[s]=a}(r,y+1,p?u.call(p,d):u(d)):function fh(r,s){const a=r[s];return a===vt?void 0:a}(r,y+1)}(Se(),function ei(){const r=at.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),r,s,a,u)}function ph(r){return s=>{setTimeout(r,void 0,s)}}const eo=class zb extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var d,p,y;let C=s,D=a||(()=>null),S=u;if(s&&"object"==typeof s){const N=s;C=null===(d=N.next)||void 0===d?void 0:d.bind(N),D=null===(p=N.error)||void 0===p?void 0:p.bind(N),S=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(D=ph(D),C&&(C=ph(C)),S&&(S=ph(S)));const k=super.subscribe({next:C,error:D,complete:S});return s instanceof te.w0&&s.add(k),k}};function uE(){return this._results[fu()]()}class jg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=fu(),u=jg.prototype;u[a]||(u[a]=uE)}get changes(){return this._changes||(this._changes=new eo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=hi(s);(this._changesDetected=!function cd(r,s,a){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let d=r[u],p=s[u];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pu=(()=>{class r{}return r.__NG_ELEMENT_ID__=Fu,r})();const _c=Pu,Ug=class extends _c{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Ca(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),du(a,u,s),new Dl(u)}};function Fu(){return mh(en(),Se())}function mh(r,s){return 4&r.type?new Ug(s,r,fc(r,s)):null}let gh=(()=>{class r{}return r.__NG_ELEMENT_ID__=_h,r})();function _h(){return Nu(en(),Se())}const yc=gh,Gg=class extends yc{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return fc(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const s=ln(this._hostTNode,this._hostLView);if(is(s)){const a=wr(s,this._hostLView),u=Ps(s);return new Pi(a[1].data[u+8],a)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=zg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const d=s.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(s,a,u,d,p){const y=s&&!function Xa(r){return"function"==typeof r}(s);let C;if(y)C=a;else{const N=a||{};C=N.index,u=N.injector,d=N.projectableNodes,p=N.ngModuleRef}const D=y?s:new Fg(wn(s)),S=u||this.parentInjector;if(!p&&null==D.ngModule){const U=(y?S:this.parentInjector).get(dh,null);U&&(p=U)}const k=D.create(S,d,void 0,p);return this.insert(k.hostView,C),k}insert(s,a){const u=s._lView,d=u[1];if(function Jo(r){return ir(r[3])}(u)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const N=u[3],U=new Gg(N,N[6],N[3]);U.detach(U.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function Sy(r,s,a,u){const d=10+u,p=a.length;u>0&&(a[d-1][4]=s),u<p-10?(s[4]=a[d],Mr(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function cI(r,s){const a=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===a?r[9]=[s]:a.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(r),s[2]|=128}(d,u,y,p);const C=xy(p,y),D=u[11],S=bm(D,y[7]);return null!==S&&function vm(r,s,a,u,d,p){u[0]=d,u[6]=s,If(r,u,a,1,d,p)}(d,y[6],D,u,S,C),s.attachToViewContainerRef(),Mr(Wn(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=zg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Ay(this._lContainer,a);u&&(js(Wn(this._lContainer),a),MC(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Ay(this._lContainer,a);return u&&null!=js(Wn(this._lContainer),a)?new Dl(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function zg(r){return r[8]}function Wn(r){return r[8]||(r[8]=[])}function Nu(r,s){let a;const u=s[r.index];if(ir(u))a=u;else{let d;if(8&r.type)d=Bt(u);else{const p=s[11];d=p.createComment("");const y=Un(r,s);lu(p,bm(p,y),d,function fI(r,s){return Yt(r)?r.nextSibling(s):s.nextSibling}(p,y),!1)}s[r.index]=a=Nf(u,s,d,r),Od(s,a)}return new Gg(a,r,s)}class Wg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Wg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lu{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Lu(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==bc(s,a).matches&&this.queries[a].setDirty()}}class $b{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class to{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,d);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new to(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gs{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new gs(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(s,a,vc(a,p)),this.matchTNodeWithReadOption(s,a,Za(a,s,p,!1,!1))}else u===Pu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Za(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===fs||d===gh||d===Pu&&4&a.type)this.addMatch(a.index,-2);else{const p=Za(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function vc(r,s){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function yh(r,s,a,u){return-1===a?function dE(r,s){return 11&r.type?fc(r,s):4&r.type?mh(r,s):null}(s,r):-2===a?function Yg(r,s,a){return a===fs?fc(s,r):a===Pu?mh(s,r):a===gh?Nu(s,r):void 0}(r,s,u):Qa(r,r[1],a,s)}function qg(r,s,a,u){const d=s[19].queries[u];if(null===d.matches){const p=r.data,y=a.matches,C=[];for(let D=0;D<y.length;D+=2){const S=y[D];C.push(S<0?null:yh(s,p[S],y[D+1],a.metadata.read))}d.matches=C}return d.matches}function Yn(r,s,a,u){const d=r.queries.getByIndex(a),p=d.matches;if(null!==p){const y=qg(r,s,d,a);for(let C=0;C<p.length;C+=2){const D=p[C];if(D>0)u.push(y[C/2]);else{const S=p[C+1],k=s[-D];for(let N=10;N<k.length;N++){const U=k[N];U[17]===U[3]&&Yn(U[1],U,S,u)}if(null!==k[9]){const N=k[9];for(let U=0;U<N.length;U++){const ee=N[U];Yn(ee[1],ee,S,u)}}}}}return u}function Kg(r){const s=Se(),a=It(),u=$a();Uc(u+1);const d=bc(a,u);if(r.dirty&&Is(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?Yn(a,s,u,[]):qg(a,s,d,u);r.reset(p,xS),r.notifyOnChanges()}return!0}return!1}function Wb(r,s,a){const u=It();u.firstCreatePass&&(vp(u,new $b(r,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Zg(u,Se(),s)}function Yb(r,s,a,u){const d=It();if(d.firstCreatePass){const p=en();vp(d,new $b(s,a,u),p.index),function bp(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}Zg(d,Se(),a)}function qb(){return function hE(r,s){return r[19].queries[s].queryList}(Se(),$a())}function Zg(r,s,a){const u=new jg(4==(4&a));Qy(r,s,u,u.destroy),null===s[19]&&(s[19]=new Lu),s[19].queries.push(new Wg(u))}function vp(r,s,a){null===r.queries&&(r.queries=new to),r.queries.track(new gs(s,a))}function bc(r,s){return r.queries.getByIndex(s)}function Ep(...r){}const u0=new cn("Application Initializer");let Mp=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Ep,this.reject=Ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(wu(p))a.push(p);else if(Kd(p)){const y=new Promise((C,D)=>{p.subscribe({complete:C,error:D})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Ke(u0,8))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const l_=new cn("AppId",{providedIn:"root",factory:function c_(){return`${u_()}${u_()}${u_()}`}});function u_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const d_=new cn("Platform Initializer"),d0=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new cn("appBootstrapListener"),Ut=new cn("LocaleId",{providedIn:"root",factory:()=>yt(Ut,ot.Optional|ot.SkipSelf)||function f0(){return"undefined"!=typeof $localize&&$localize.locale||Mg}()}),Gt=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),yn=(()=>Promise.resolve(0))();function wt(r){"undefined"==typeof Zone?yn.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class no{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Zi(){let r=St.requestAnimationFrame,s=St.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function TE(r){const s=()=>{!function AE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(St,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,m_(r),r.isCheckStableRunning=!0,gr(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),m_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,p,y,C)=>{try{return g_(r),a.invokeTask(d,p,y,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),wl(r)}},onInvoke:(a,u,d,p,y,C,D)=>{try{return g_(r),a.invoke(d,p,y,C,D)}finally{r.shouldCoalesceRunChangeDetection&&s(),wl(r)}},onHasTask:(a,u,d,p)=>{a.hasTask(d,p),u===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,m_(r),gr(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,d,p)=>(a.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,p_,Ep,Ep);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const p_={};function gr(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function m_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function g_(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function wl(r){r._nesting--,gr(r)}class __{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}let Uu=(()=>{class r{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),wt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wt(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(Ke(no))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac}),r})(),kE=(()=>{class r{constructor(){this._applications=new Map,y_.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return y_.findTestabilityInTree(this,a,u)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();class xE{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function p0(r){y_=r}let y_=new xE,Dc=null;const m0=new cn("AllowMultipleToken"),v_=new cn("PlatformOnDestroy");function io(r,s,a=[]){const u=`Platform: ${s}`,d=new cn(u);return(p=[])=>{let y=Li();if(!y||y.injector.get(m0,!1)){const C=[...a,...p,{provide:d,useValue:!0}];r?r(C):function g0(r){if(Dc&&!Dc.get(m0,!1))throw new ke(400,"");Dc=r;const s=r.get(_0),a=r.get(d_,null);a&&a.forEach(u=>u())}(function ro(r=[],s){return Tn.create({name:s,providers:[{provide:Nd,useValue:"platform"},{provide:v_,useValue:()=>Dc=null},...r]})}(C,u))}return function Sp(r){const s=Li();if(!s)throw new ke(401,"");return s}()}}function Li(){var r;return null!==(r=null==Dc?void 0:Dc.get(_0))&&void 0!==r?r:null}let _0=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function C_(r,s){let a;return a="noop"===r?new __:("zone.js"===r?void 0:r)||new no({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:no,useValue:C}];return C.run(()=>{const S=Tn.create({providers:D,parent:this.injector,name:a.moduleType.name}),k=a.create(S),N=k.injector.get(Md,null);if(!N)throw new ke(402,"");return C.runOutsideAngular(()=>{const U=C.onError.subscribe({next:ee=>{N.handleError(ee)}});k.onDestroy(()=>{Tp(this._modules,k),U.unsubscribe()})}),function D_(r,s,a){try{const u=a();return wu(u)?u.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(N,C,()=>{const U=k.injector.get(Mp);return U.runInitializers(),U.donePromise.then(()=>(function ob(r){Et(r,"Expected localeId to be defined"),"string"==typeof r&&(Cl=r.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Ut,Mg)||Mg),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,u=[]){const d=y0({},u);return function wc(r,s,a){const u=new Lg(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const u=a.injector.get(Ap);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ke(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(v_,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Ke(Tn))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function y0(r,s){return Array.isArray(s)?s.reduce(y0,r):Object.assign(Object.assign({},r),s)}let Ap=(()=>{class r{constructor(a,u,d,p){this._zone=a,this._injector=u,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new F.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),wt(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{no.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ue.T)(y,C.pipe((0,oe.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new ke(405,"");let d;d=a instanceof Pg?a:this._injector.get(mp).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function Ip(r){return r.isBoundToModule}(d)?void 0:this._injector.get(dh),C=d.create(Tn.NULL,[],u||d.selector,p),D=C.location.nativeElement,S=C.injector.get(Uu,null),k=S&&C.injector.get(kE);return S&&k&&k.registerApplication(D,S),C.onDestroy(()=>{this.detachView(C.hostView),Tp(this.components,C),k&&k.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Tp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(h0,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(a){return new(a||r)(Ke(no),Ke(Tn),Ke(Md),Ke(Mp))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Tp(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let E_=!0,M_=!1;function RE(){return M_=!0,E_}function OE(){if(M_)throw new Error("Cannot enable prod mode after platform setup.");E_=!1}let PE=(()=>{class r{}return r.__NG_ELEMENT_ID__=kp,r})();function kp(r){return function I_(r,s,a){if(Tc(r)&&!a){const u=Gn(r.index,s);return new Dl(u,u)}return 47&r.type?new Dl(s[16],s):null}(en(),Se(),16==(16&r))}class D0{constructor(){}supports(s){return Ud(s)}create(s){return new Th(s)}}const T_=(r,s)=>s;class Th{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||T_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<E0(u,d,p)?a:u,C=E0(y,d,p),D=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const S=C-d,k=D-d;if(S!=k){for(let U=0;U<S;U++){const ee=U<p.length?p[U]:p[U]=0,ge=ee+U;k<=ge&&ge<S&&(p[U]=ee+1)}p[y.previousIndex]=k-S}}C!==D&&s(y,C,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ud(s))throw new ke(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],y=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,C),u=!0),a=a._next}else d=0,function ig(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[fu()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,C=>{y=this._trackByFn(d,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,d)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new NE(a,u),p,d),s}_verifyReinsertion(s,a,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new w0),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new w0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class NE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lp{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class w0{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new Lp,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E0(r,s,a){const u=r.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class M0{constructor(){}supports(s){return s instanceof Map||_v(s)}create(){return new k_}}class k_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||_v(s)))throw new ke(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const u=new LE(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class LE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vp(){return new x_([new D0])}let x_=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||Vp()),deps:[[r,new cs,new kr]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new ke(901,"")}}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:Vp}),r})();function O_(){return new Bp([new M0])}let Bp=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||O_()),deps:[[r,new cs,new kr]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new ke(901,"")}}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:O_}),r})();const F_=io(null,"core",[]);let N_=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Ke(Ap))},r.\u0275mod=vn({type:r}),r.\u0275inj=Ot({}),r})()},3942:(We,ve,P)=>{P.d(ve,{Z:()=>ke});var c=P(2090),te=P(4859),F=P(9681),ue=P(1877);class oe{constructor(me,Me){this._delegate=me,this.firebase=Me,(0,F._addComponent)(me,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(me,Me=F._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(me);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Ge=Ye.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Me})}_removeServiceInstance(me,Me=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Me)}_addComponent(me){(0,F._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,F._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function fe(){const Le=function de(Le){const me={},Me={__esModule:!0,initializeApp:function Ie(Ve,z={}){const be=F.initializeApp(Ve,z);if((0,c.r3)(me,be.name))return me[be.name];const Y=new Le(be,Me);return me[be.name]=Y,Y},app:Ye,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ve){const z=Ve.name,be=z.replace("-compat","");if(F._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Y=(ae=Ye())=>{if("function"!=typeof ae[be])throw ne.create("invalid-app-argument",{appName:z});return ae[be]()};void 0!==Ve.serviceProps&&(0,c.ZB)(Y,Ve.serviceProps),Me[be]=Y,Le.prototype[be]=function(...ae){return this._getService.bind(this,z).apply(this,Ve.multipleInstances?ae:[])}}return"PUBLIC"===Ve.type?Me[be]:null},removeApp:function Ge(Ve){delete me[Ve]},useAsService:function Ne(Ve,z){return"serverAuth"===z?null:z},modularAPIs:F}};function Ye(Ve){if(!(0,c.r3)(me,Ve=Ve||F._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Ve});return me[Ve]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function De(){return Object.keys(me).map(Ve=>me[Ve])}}),Ye.App=Le,Me}(oe);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(Me){(0,c.ZB)(Le,Me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Le}(),G=new ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;!function Ae(Le){(0,F.registerVersion)("@firebase/app-compat","0.1.28",Le)}()},9681:(We,ve,P)=>{P.r(ve),P.d(ve,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>Et,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Lt,_apps:()=>jt,_clearComponents:()=>Ji,_components:()=>hn,_getProvider:()=>Ot,_registerComponent:()=>oi,_removeServiceInstance:()=>Mt,deleteApp:()=>ot,getApp:()=>fi,getApps:()=>ji,initializeApp:()=>zr,onLog:()=>fn,registerVersion:()=>on,setLogLevel:()=>$r});var c=P(5861),te=P(4859),F=P(1877),ue=P(2090),oe=P(8766);class pe{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ne(X){const B=X.getComponent();return"VERSION"===(null==B?void 0:B.type)}(ye)){const Fe=ye.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(ye=>ye).join(" ")}}const de="@firebase/app",$=new F.Yd("@firebase/app"),Et="[DEFAULT]",$e={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,hn=new Map;function zt(X,B){try{X.container.addComponent(B)}catch(ye){$.debug(`Component ${B.name} failed to register with FirebaseApp ${X.name}`,ye)}}function Lt(X,B){X.container.addOrOverwriteComponent(B)}function oi(X){const B=X.name;if(hn.has(B))return $.debug(`There were multiple attempts to register component ${B}.`),!1;hn.set(B,X);for(const ye of jt.values())zt(ye,X);return!0}function Ot(X,B){const ye=X.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),X.container.getProvider(B)}function Mt(X,B,ye=Et){Ot(X,B).clearInstance(ye)}function Ji(){hn.clear()}const qn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ai{constructor(B,ye,Fe){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const er="9.8.4";function zr(X,B={}){"object"!=typeof B&&(B={name:B});const ye=Object.assign({name:Et,automaticDataCollectionEnabled:!1},B),Fe=ye.name;if("string"!=typeof Fe||!Fe)throw qn.create("bad-app-name",{appName:String(Fe)});const Ze=jt.get(Fe);if(Ze){if((0,ue.vZ)(X,Ze.options)&&(0,ue.vZ)(ye,Ze.config))return Ze;throw qn.create("duplicate-app",{appName:Fe})}const ft=new te.H0(Fe);for(const $t of hn.values())ft.addComponent($t);const Vt=new ai(X,ye,ft);return jt.set(Fe,Vt),Vt}function fi(X=Et){const B=jt.get(X);if(!B)throw qn.create("no-app",{appName:X});return B}function ji(){return Array.from(jt.values())}function ot(X){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(X){const B=X.name;jt.has(B)&&(jt.delete(B),yield Promise.all(X.container.getProviders().map(ye=>ye.delete())),X.isDeleted=!0)})).apply(this,arguments)}function on(X,B,ye){var Fe;let Ze=null!==(Fe=$e[X])&&void 0!==Fe?Fe:X;ye&&(Ze+=`-${ye}`);const ft=Ze.match(/\s|\//),Vt=B.match(/\s|\//);if(ft||Vt){const $t=[`Unable to register library "${Ze}" with version "${B}":`];return ft&&$t.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),ft&&Vt&&$t.push("and"),Vt&&$t.push(`version name "${B}" contains illegal characters (whitespace or "/")`),void $.warn($t.join(" "))}oi(new te.wA(`${Ze}-version`,()=>({library:Ze,version:B}),"VERSION"))}function fn(X,B){if(null!==X&&"function"!=typeof X)throw qn.create("invalid-log-argument");(0,F.Am)(X,B)}function $r(X){(0,F.Ub)(X)}const pn="firebase-heartbeat-store";let Si=null;function ys(){return Si||(Si=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(X,B)=>{0===B&&X.createObjectStore(pn)}}).catch(X=>{throw qn.create("storage-open",{originalErrorMessage:X.message})})),Si}function Qe(){return(Qe=(0,c.Z)(function*(X){var B;try{return(yield ys()).transaction(pn).objectStore(pn).get(Ai(X))}catch(ye){throw qn.create("storage-get",{originalErrorMessage:null===(B=ye)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function ct(X,B){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(X,B){var ye;try{const Ze=(yield ys()).transaction(pn,"readwrite");return yield Ze.objectStore(pn).put(B,Ai(X)),Ze.done}catch(Fe){throw qn.create("storage-set",{originalErrorMessage:null===(ye=Fe)||void 0===ye?void 0:ye.message})}})).apply(this,arguments)}function Ai(X){return`${X.name}!${X.options.appId}`}class li{constructor(B){this.container=B,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new q(ye),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var B=this;return(0,c.Z)(function*(){const Fe=B.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=Zn();if(null===B._heartbeatsCache&&(B._heartbeatsCache=yield B._heartbeatsCachePromise),B._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!B._heartbeatsCache.heartbeats.some(ft=>ft.date===Ze))return B._heartbeatsCache.heartbeats.push({date:Ze,agent:Fe}),B._heartbeatsCache.heartbeats=B._heartbeatsCache.heartbeats.filter(ft=>{const Vt=new Date(ft.date).valueOf();return Date.now()-Vt<=2592e6}),B._storage.overwrite(B._heartbeatsCache)})()}getHeartbeatsHeader(){var B=this;return(0,c.Z)(function*(){if(null===B._heartbeatsCache&&(yield B._heartbeatsCachePromise),null===B._heartbeatsCache||0===B._heartbeatsCache.heartbeats.length)return"";const ye=Zn(),{heartbeatsToSend:Fe,unsentEntries:Ze}=function nt(X,B=1024){const ye=[];let Fe=X.slice();for(const Ze of X){const ft=ye.find(Vt=>Vt.agent===Ze.agent);if(ft){if(ft.dates.push(Ze.date),H(ye)>B){ft.dates.pop();break}}else if(ye.push({agent:Ze.agent,dates:[Ze.date]}),H(ye)>B){ye.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:ye,unsentEntries:Fe}}(B._heartbeatsCache.heartbeats),ft=(0,ue.L)(JSON.stringify({version:2,heartbeats:Fe}));return B._heartbeatsCache.lastSentHeartbeatDate=ye,Ze.length>0?(B._heartbeatsCache.heartbeats=Ze,yield B._storage.overwrite(B._heartbeatsCache)):(B._heartbeatsCache.heartbeats=[],B._storage.overwrite(B._heartbeatsCache)),ft})()}}function Zn(){return(new Date).toISOString().substring(0,10)}class q{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var B=this;return(0,c.Z)(function*(){return(yield B._canUseIndexedDBPromise)&&(yield function xt(X){return Qe.apply(this,arguments)}(B.app))||{heartbeats:[]}})()}overwrite(B){var ye=this;return(0,c.Z)(function*(){var Fe;if(yield ye._canUseIndexedDBPromise){const ft=yield ye.read();return ct(ye.app,{lastSentHeartbeatDate:null!==(Fe=B.lastSentHeartbeatDate)&&void 0!==Fe?Fe:ft.lastSentHeartbeatDate,heartbeats:B.heartbeats})}})()}add(B){var ye=this;return(0,c.Z)(function*(){var Fe;if(yield ye._canUseIndexedDBPromise){const ft=yield ye.read();return ct(ye.app,{lastSentHeartbeatDate:null!==(Fe=B.lastSentHeartbeatDate)&&void 0!==Fe?Fe:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...B.heartbeats]})}})()}}function H(X){return(0,ue.L)(JSON.stringify({version:2,heartbeats:X})).length}!function J(X){oi(new te.wA("platform-logger",B=>new pe(B),"PRIVATE")),oi(new te.wA("heartbeat",B=>new li(B),"PRIVATE")),on(de,"0.7.27",X),on(de,"0.7.27","esm2017"),on("fire-js","")}("")},4859:(We,ve,P)=>{P.d(ve,{H0:()=>de,wA:()=>F,zt:()=>oe});var c=P(5861),te=P(2090);class F{constructor($,G,re){this.name=$,this.instanceFactory=G,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class oe{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const re=new te.BH;if(this.instancesDeferred.set(G,re),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:G});Ue&&re.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const re=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ue=null!==(G=null==$?void 0:$.optional)&&void 0!==G&&G;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ae){if(Ue)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ne(fe){return"EAGER"===fe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(G){}for(const[G,re]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(G);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ue});re.resolve(Ae)}catch(Ae){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...G.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,re=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:re,options:G});for(const[Ae,ke]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ae)&&ke.resolve(Ue);return Ue}onInit($,G){var re;const Ue=this.normalizeInstanceIdentifier(G),Ae=null!==(re=this.onInitCallbacks.get(Ue))&&void 0!==re?re:new Set;Ae.add($),this.onInitCallbacks.set(Ue,Ae);const ke=this.instances.get(Ue);return ke&&$(ke,Ue),()=>{Ae.delete($)}}invokeOnInitCallbacks($,G){const re=this.onInitCallbacks.get(G);if(re)for(const Ue of re)try{Ue($,G)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let re=this.instances.get($);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=$,fe===ue?void 0:fe),options:G}),this.instances.set($,re),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(re,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,re)}catch(Ue){}var fe;return re||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new oe($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(We,ve,P)=>{P.d(ve,{Am:()=>fe,Ub:()=>de,Yd:()=>ne,in:()=>te});const c=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const F={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ue=te.INFO,oe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},pe=($,G,...re)=>{if(G<$.logLevel)return;const Ue=(new Date).toISOString(),Ae=oe[G];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ae](`[${Ue}]  ${$.name}:`,...re)};class ne{constructor(G){this.name=G,this._logLevel=ue,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?F[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function de($){c.forEach(G=>{G.setLogLevel($)})}function fe($,G){for(const re of c){let Ue=null;G&&G.level&&(Ue=F[G.level]),re.userLogHandler=null===$?null:(Ae,ke,...Le)=>{const me=Le.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch(Ge){return null}}).filter(Me=>Me).join(" ");ke>=(null!=Ue?Ue:Ae.logLevel)&&$({level:te[ke].toLowerCase(),message:me,args:Le,type:Ae.name})}}}},8766:(We,ve,P)=>{P.d(ve,{Lj:()=>Ie,X3:()=>Ye});var c=P(5861);let F,ue;const ne=new WeakMap,de=new WeakMap,fe=new WeakMap,$=new WeakMap,G=new WeakMap;let Ae={get(z,be,Y){if(z instanceof IDBTransaction){if("done"===be)return de.get(z);if("objectStoreNames"===be)return z.objectStoreNames||fe.get(z);if("store"===be)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Me(z[be])},set:(z,be,Y)=>(z[be]=Y,!0),has:(z,be)=>z instanceof IDBTransaction&&("done"===be||"store"===be)||be in z};function me(z){return"function"==typeof z?function Le(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...be){return z.apply(Ge(this),be),Me(ne.get(this))}:function(...be){return Me(z.apply(Ge(this),be))}:function(be,...Y){const ae=z.call(Ge(this),be,...Y);return fe.set(ae,be.sort?be.sort():[be]),Me(ae)}}(z):(z instanceof IDBTransaction&&function Ue(z){if(de.has(z))return;const be=new Promise((Y,ae)=>{const ie=()=>{z.removeEventListener("complete",_e),z.removeEventListener("error",ce),z.removeEventListener("abort",ce)},_e=()=>{Y(),ie()},ce=()=>{ae(z.error||new DOMException("AbortError","AbortError")),ie()};z.addEventListener("complete",_e),z.addEventListener("error",ce),z.addEventListener("abort",ce)});de.set(z,be)}(z),((z,be)=>be.some(Y=>z instanceof Y))(z,function oe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Ae):z)}function Me(z){if(z instanceof IDBRequest)return function re(z){const be=new Promise((Y,ae)=>{const ie=()=>{z.removeEventListener("success",_e),z.removeEventListener("error",ce)},_e=()=>{Y(Me(z.result)),ie()},ce=()=>{ae(z.error),ie()};z.addEventListener("success",_e),z.addEventListener("error",ce)});return be.then(Y=>{Y instanceof IDBCursor&&ne.set(Y,z)}).catch(()=>{}),G.set(be,z),be}(z);if($.has(z))return $.get(z);const be=me(z);return be!==z&&($.set(z,be),G.set(be,z)),be}const Ge=z=>G.get(z);function Ye(z,be,{blocked:Y,upgrade:ae,blocking:ie,terminated:_e}={}){const ce=indexedDB.open(z,be),xe=Me(ce);return ae&&ce.addEventListener("upgradeneeded",tt=>{ae(Me(ce.result),tt.oldVersion,tt.newVersion,Me(ce.transaction))}),Y&&ce.addEventListener("blocked",()=>Y()),xe.then(tt=>{_e&&tt.addEventListener("close",()=>_e()),ie&&tt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),xe}function Ie(z,{blocked:be}={}){const Y=indexedDB.deleteDatabase(z);return be&&Y.addEventListener("blocked",()=>be()),Me(Y).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ne=new Map;function Ve(z,be){if(!(z instanceof IDBDatabase)||be in z||"string"!=typeof be)return;if(Ne.get(be))return Ne.get(be);const Y=be.replace(/FromIndex$/,""),ae=be!==Y,ie=Ee.includes(Y);if(!(Y in(ae?IDBIndex:IDBObjectStore).prototype)||!ie&&!De.includes(Y))return;const _e=function(){var ce=(0,c.Z)(function*(xe,...tt){const kt=this.transaction(xe,ie?"readwrite":"readonly");let Et=kt.store;return ae&&(Et=Et.index(tt.shift())),(yield Promise.all([Et[Y](...tt),ie&&kt.done]))[0]});return function(tt){return ce.apply(this,arguments)}}();return Ne.set(be,_e),_e}!function ke(z){Ae=z(Ae)}(z=>Ox(Rx({},z),{get:(be,Y,ae)=>Ve(be,Y)||z.get(be,Y,ae),has:(be,Y)=>!!Ve(be,Y)||z.has(be,Y)}))},5861:(We,ve,P)=>{function c(F,ue,oe,pe,ne,de,fe){try{var $=F[de](fe),G=$.value}catch(re){return void oe(re)}$.done?ue(G):Promise.resolve(G).then(pe,ne)}function te(F){return function(){var ue=this,oe=arguments;return new Promise(function(pe,ne){var de=F.apply(ue,oe);function fe(G){c(de,pe,ne,fe,$,"next",G)}function $(G){c(de,pe,ne,fe,$,"throw",G)}fe(void 0)})}}P.d(ve,{Z:()=>te})}},We=>{We(We.s=2813)}]);